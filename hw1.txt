Grigory Kislin [3:23 AM]
joined #hw1.


Grigory Kislin [Today at 3:29 AM]
in #hw1
Первое занятие: https://github.com/JavaWebinar/topjava/blob/doc/doc/lesson01.md
Подробности выслал письмом. 
Успехов в изучении и выполнении ДЗ! (edited)


2 replies
e.pekhterev [17 hours ago]
исправьте пожалуйста "хорошие советы новичкам" - http://blog.csssr.ru/2016/09/19/how-to-be-a-beginner-developer/
всё время 404


Join_Selectovich [13 hours ago]
последний слеш лишний - без него ссылка откроется (edited)


Tanya [3:30 AM]
joined #hw1 along with 18 others.

Gagarina6794 [7:46 AM]
Список одногрупников :slightly_smiling_face:

Andy Fleer [9:43 AM]
В письме написано " Перед началом занятия код в ветке master твоего проекта должна быть в том же состоянии, что и в моей ветке master. "

Andy Fleer [9:44 AM]
uploaded this image: image.png 


Andy Fleer [9:44 AM]
Вот там

Andy Fleer [9:44 AM]
uploaded this image: image.png 


Andy Fleer [9:44 AM]
Это у меня


Andy Fleer [Today at 9:45 AM]
in #hw1
как привести к "такому же состоянию" ?


1 reply
Grigory Kislin [9 hours ago]
Кроме md файлов у тебя все то же самое


vch [9:45 AM]
@Andy Fleer Переключись в мастер и примени патч "Prepare to HW0". Ты его не применил в мастер, сразу в hw0 сделал.

Andy Fleer [9:46 AM]
Я пока да... ничего не применял вообще... ознакамливаюсь с материалами
То есть после применения патча должна ситуация поменяться?

vch [9:47 AM]
@Andy Fleer Я про то, что ты в предыдущем занятии неправильно сделал. Надо было в master патч предыдущего занятия применить.


Andy Fleer [Today at 9:48 AM]
in #hw1
как лечить?


9 replies
vch [12 hours ago]
Переключись в мастер и примени патч "Prepare to HW0"


Andy Fleer [12 hours ago]
В ветку мастер на github-e


Andy Fleer [12 hours ago]
?


Andy Fleer [12 hours ago]
Патч применял в идее


Andy Fleer [12 hours ago]
а тут как его применть?


Stanislav [12 hours ago]
То же самое что и в пред. раз, только переключись в ветку мастер и примени патч (все в идеи).


Gagarina6794 [12 hours ago]
переделать все, пока не поздно) работы не особо много


Gagarina6794 [12 hours ago]
на гит заливать из идеи в мастер надо переделаное с патчами


Gagarina6794 [12 hours ago]
в ветке мастер надо при этом быть в идее (edited)


Михаил [10:09 AM]
uploaded this image: image.png 


Artyom [Today at 10:25 AM]
in #hw1
Патч применяется, но в Version Control: Local changes пишет: error updating changes: .git/index: index file open failed: permission denied
И ничего нельзя закоммитить, якобы нету изменений
Прошлый патч Prepare_to_HW0 применялся без проблем


1 reply
Artyom [12 hours ago]
решилось перезапуском идеи


Avaaron [12:22 PM]
Может кто подскажет...был обещан разбор полёта по hw0
ctujlyz
сегодня


Avaaron [Today at 12:23 PM]
in #hw1
он будет?


1 reply
Grigory Kislin [9 hours ago]
Да, это 3 первые видео первого занятия


Alexander Pilipenko [12:24 PM]
3. HW0 Optional 2: реализация в один проход и одной строкой Stream API
Apply 1_3_HW0_optional2.patch
Занятие 1:
Вроде бы как есть

Avaaron [12:26 PM]
аа...была мысль, что будет типа вебинара что-то

Alex Zemlaynoy [1:30 PM]
Добрый день, подскажите пожалуйста где взять hw01 патч ?

Daniel [1:31 PM]
В письме ссылка. Там все патчи.

Alex Zemlaynoy [1:34 PM]
Спасибо нашел:)

Grigory Kislin [1:36 PM]
а также у уроке большая картинка как их скачивать
если урок не будете читать внимательно, то потеряете много времени на борьбу с git, idea и проектом

Crazz [1:47 PM]
правильно ли я понял что ВСЕ патчи нужно сделать в мастер? в т.ч. и по HW0

Stanislav [1:47 PM]
любые патчи делаются только в мастер
все дом. работы делаются только в другой ветке HWx

matrocob [5:42 PM]
А применять все сразу или по очереди патчи?
Разобрался

Andy Fleer [8:06 PM]
Я правильно понимаю, что в видео логuер ставится неким старым вариантом LoggerFactory.getLogger, а в патче более новым private static final Logger log = getLogger(UserServlet.class) . Теперь делаем по варианту в  патче
всё так?

vch [8:11 PM]
@Andy Fleer Обрати внимание на строку `import static org.slf4j.LoggerFactory.getLogger;`
Тот же самый "старый" вариант и есть, только чуть по-другому записан.

Andy Fleer [8:11 PM]
Да
Это вижу
Но вызов теперь другой
и в live template вписываю его
угум?

vch [8:12 PM]
От перестановки мест слагаемых...

Andy Fleer [8:13 PM]
старый тоже работает?

vch [8:15 PM]
это одно и то же. Нет никакого "старого" и "нового". Просто чуть другая запись того же самого. Статический импорт применяется чтобы сократить код в классе при вызове каких-нибудь функций или упоминания констант (чтобы не писать везде длинные строки с `org.slf4j.LoggerFactory` и т.п.)

Andy Fleer [8:18 PM]
Всё понял!
Спасибо

Andy Fleer [9:37 PM]
В задании вот такая стока *Задеплоить приложение (war) в Tomcat c applicationContext=topjava*
applicationContext где выставляется?

Crazz [9:45 PM]
edit configurations -> вкладка deployment -> поле Application context

Andy Fleer [9:49 PM]
а))) это я уже поставил
спасибо!


Baravader [11:22 AM]
uploaded and commented on this image: Ошибочки 

Бодрого дня!

Baravader [11:24 AM]
А подскажите,так и должно быть?Все классы потёрты,это их самому дописать надо или пока не трогать?

Alexander Pilipenko [11:24 AM]
Проверь импорты
По картинке у тебя там тоже ошибки (edited)

shomnest [11:26 AM]
Там в этом проблема вроде и есть, не импортированы классы из соседнего пакета model

Baravader [11:28 AM]
Это какой то мой косяк или так и должно быть?Я прост поприменял все патчи и тут на те

Gagarina6794 [11:32 AM]
commented on Baravader’s file Ошибочки
Так сбрось ещё и скрин структуры пакетов и классов, и что в импорте есть,а то оно свёрнуто

Baravader [11:33 AM]
uploaded and commented on this image: Pasted image at 2018-06-29, 11:33 AM 

А в импорте,это где?
Katherine [11:35 AM]
Предположу, что патч к нулевому занятию не пошел в master. Покажи лог git.


Gagarina6794 [Yesterday at 11:36 AM]
in #hw1
Импорт, сверху свернут три точки стоит


1 reply
Baravader [1 day ago]
Не понял(


Baravader [11:40 AM]
commented on Pasted image at 2018-06-29, 11:33 AM
А его как найти?)
Katherine [11:42 AM]
View -> Tool Windows -> Version control

Baravader [11:44 AM]
uploaded this image: image.png 

Katherine [11:46 AM]
Верхний коммит в HW0. Перейди в master, правый клик на коммите Prepare to HW0 - Rebase onto

Baravader [12:02 PM]
uploaded and commented on this image: Pasted image at 2018-06-29, 12:01 PM 

Вроде итак в мастере..

Gagarina6794 [12:06 PM]
uploaded this image: вот так должно быть.png 


Gagarina6794 [12:06 PM]
смотрю у тебя уже сервлет затянут, а остальных классов нету)
наверное не там патчи делал или не в той последовательности, запутался в ветках (edited)

Baravader [12:09 PM]
uploaded and commented on this image: image.png 

Яяяяя,черть его знает что я натыкал,и оно подтянулось Оо

Gagarina6794 [12:10 PM]
всеравно с ветками что-то не то, посмотри у меня есть ветвление
ну теперь то все классы видны))


Stanislav [12:53 PM]
added this Plain Text snippet: Сейчас посмотрел 6 урок, вспомнилась одна интересная статья "Как поменьше беспокоиться о собственной бездарности". 
Только что я столкнулся с еще одним проявлением синдрома самозванца: «Я правда разработчик — или просто хорошо гуглю?»
Далее следовал ответ, в котором я, однако, не увидел главного — поэтому ответить придется мне: слишком уж многие боятся без каких-либо оснований.
Если информацию легко найти, это не делает человека глупым
Частенько мне доводится слышать одну историю — полагаю, подлинность ее сомнительна, но, как бы там ни было, суть такова. Когда у Эйнштейна попросили номер телефона, он полез его искать и сказал: «Зачем запоминать то, что можно найти менее чем за две минуты?»
В 80-е в ботаники могли зачислить просто за то, что у тебя была энциклопедия, причем большую часть ее и читать не нужно было: в моем доме была очень интересная энциклопедия 1937 года, и статья о нацистской партии в ней содержала всего два абзаца, в которых говорилось, что партия не представляет собой ничего серьёзного. Так я оказался в «клубе умников»: достаточно было знать о существовании одного из самых вопиюще ошибочных фрагментов текста из когда-либо написанных — причем эти знания я почерпнул из непримечательного источника, которым пользовался наравне с остальными. Все потому, что тогда узнать что-то интересное было трудно, и одно лишь побуждение искать превращало тебя в ботаника.
Теперь же, когда даже самые невежественные плебеи могут получить любые желаемые сведения, элита ботаников отступила и провозгласила, что есть де такая существенная функция мозга, которая позволяет им лучше других ориентироваться в потоке информации. Это довольно привлекательное заблуждение, и в нем, как водится, есть крупица правды: легко чувствовать себя выше людей, которые ищут в Интернете статьи о связи вакцин с рептилоидами. И так же легко можно ощутить себя ущербным: потратить целый день на борьбу с ошибкой, наконец догадаться прошерстить Stack Overflow — и там обнаружить, что три года назад пять человек уже разобрались с этой проблемой, а двое из них еще и высказались в том смысле, что если кто не знает ответа на этот вопрос от рождения, то он тупица.
Из-за этого нового — и доступного широким народным массам — способа получения информации можно почувствовать себя слабым, ведь приходится использовать то, чем может пользоваться кто угодно… Но рассуждать так — это ужасное высокомерие, которое следует искоренить — вместе со своей тайной гомофобией.
Забудьте всю эту чушь о любви к работе
Знаете, какую работу я считаю лучшей в своей жизни? Мытьё посуды. Я отлично справлялся и мог драить тарелки на автопилоте, что освобождало мозг и позволяло обдумывать всякое. И самое классное в этой работе было то, что если в конце дня, вымыв пару тысяч тарелок для ресторана, входящего в четыре сотни лучших заведений общепита, я выглядел изможденным, меня никто не усаживал и не спрашивал, почему же я не восторгаюсь собственной техникой мытья посуды.
Если бы без любви к работе нельзя было бы работать, цивилизация рухнула бы. Уверен, кто-то получает интеллектуальное удовлетворение, сравнивая разницу в скорости работы i++ и ++i в циклах for — так и слава богу! — ведь должен же кто-то программировать системы наведения ядерных ракет. Остальные же просто надеются, что количество непрочитанных предупреждений в папке «debug» электронной почты не будет увеличиваться слишком быстро — чтобы хоть успевать разбираться с этими ошибками.
В старые добрые времена, когда можно было позволить себе в обед пойти в ресторан, выпить мартини, поговорить о делах и записать это все на «производственные расходы», еще до всеобщего помешательства на мотивации, работу не обязательно было любить — важно было не испытывать к ней отвращения и не заставлять коллег ее ненавидеть. Сегодня, когда отчаянно нуждающемуся в твердом окладе поколению промыли мозги «мягким» порно о счастливой работе, работодатели считают, что попросить нас держать мобильники под рукой в канун Нового года — это в порядке вещей. Некоторым фанатичным кодерам вполне по силам сделать так, чтобы все остальные возненавидели и работу, и себя — ведь он же любит то, что делает, а если вы свою работу не любите и не проводите субботние вечера, мастурбируя на руководства по концевой рекурсии — это исключительно ваша вина.
За живчиками идите в отдел продаж
Для современных стартапов высокоэффективное безразличие — чуть ли худшее оскорбление. Ребята, которые страстно любили хакать системы на ленточных накопителях, создали технологии, благодаря которым у нас теперь куча компаний состоят из отдела продаж и технического отдела, а вся остальная работа передается на сайт другой компании… состоящей из отдела продаж и технического отдела. Если занимаешься продажами, то любить свое дело (или притворяться, что любишь) — это неотъемлемая часть работы. Именно это позволяет зарабатывать. А для технического отдела главная задача — заставить что-либо функционировать, и здесь уже можно быть настолько вредным, насколько нужно, чтобы выполнять эту работу — потому что единственное, что вы продаете, — это собственное умение внедрить платежный API, а для этого никакой нужды бурно и натянуто радоваться нет.
На любом совещании можно увидеть улыбчивых продажников, сияющих на фоне команды усталых разработчиков, которым не терпится уйти: они уже прикидывают, сколько времени понадобится, чтобы выловить ошибку гонки потоков, которая, очевидно, не может быть гонкой потоков, потому что «это никогда не волчанка» (примечание переводчика: это цитата из сериала «Доктор Хаус», смысл примерно такой: «потому что это всегда оказывается что-то еще»).
И не нужно беспокоиться: есть у вас превосходные навыки общения, умеете вы привлекать людей и затмевать своим сиянием солнце или нет — это никоим образом не относится к работе.
Не слушайте снобов
Обязательно кто-нибудь скажет: «Каждый разработчик должен знать X».
Я не знаю X — что бы это ни было. Пузырьковая сортировка? Кажется, это как-то связано со смешиванием темного и светлого пива. B-дерево? Как будто что-то вечнозеленое. Хэш-таблица?.. Я учился кодить на PHP, и прежде чем до меня дошло, что хэш-таблица отличается от массива, прошло два года. Когда я пришел работать в OkCupid, я не видел разницы между хэш-таблицей и массивом. В пафосном офисе OkCupid под неодобрительными взглядами распределителя туалетной бумаги робеют даже боги — но работу я все же получил.
Неважно, для чего и как вы пишете код — в любом случае у вас не будет никакого понятия об огромном пласте программирования. А если удастся изучить все языки программирования во вселенной, русский школьник высмеет за неумение разогнать процессор, пацан из Кореи взломает учетку от PS4, американец, потягивая латте, спросит, почему вы провели только один раунд инвестиций, а админ-француз только поморщится, когда вы попросите его не курить в серверной.
Сейчас неплохо иметь образование в области естественных, технических, инженерных и математических наук, потому что конкретное применение конкретного типа логического решения проблемы позволяет обычному человеку получать доход уровня верхнего среднего класса, а стоящие над ними выпускники бизнес-школ обогащаются больше, чем кто-либо еще в истории человеческой цивилизации. Поколение технических директоров времен бума «доткомов» выросло в недостатке секса и стало болезненно повернутым на технологиях, поэтому случайно зачатая ими культура оказалась зацикленной на применении математических подходов самыми невразумительными способами, которые только можно было придумать, — а все остальные вольны пойти и застрелиться.
Если без этого таким ребятам никак — то и ладно. Застань вы времена, когда Google (и даже Vim) еще не существовали, вы бы уцепились за любую возможность поднять самооценку в те мрачные часы, когда выяснялось, что ваша Amiga не помнит даты вашей свадьбы — потому что у вас не было свадьбы и, вероятно, никогда не будет.
Когда-то программирование было в новинку. Герои тех времен, продиравшиеся сквозь машинные коды, до сих пор живы и обвиняют нас в лени. Но сегодня программирование — такая же работа, как и любая другая, потому что теперь все знания, которые нужны для удовлетворения отдела коммерческого развития, можно получить, не занимаясь реверс-инжинирингом прототипа повозки на каменных колесах.
Собеседование — чушь, смиритесь
На любое собеседование можно заявиться, казалось бы, с рогом изобилия тайных знаний, чуть ли не мироточа ими — еще немного, и от такой великой святости подскочат цены на землю в округе. Чаще всего после таких собеседований хочется бросить все и заняться выращиванием морских свинок. Каждый на этой планете знает что-то, чего не знают другие, и большинство из нас так или иначе окажутся в положении, когда кто-то будет брать нас на работу на основании того, что мы можем продемонстрировать знания, которые мало у кого есть.
Любые методики собеседования ущербны, и так будет до тех пор, пока не появится алгоритм, который позволит предсказать способность кандидата делать работу и не быть сволочью — причем на основании небольшого набора почти случайных данных. Собеседование — это как свидание без презерватива, когда на кону — чемодан денег. Утверждать, что такое положение дел можно исправить, если пара человек сядет и хорошенько подумает — это безосновательная самонадеянность, и неважно, о какой профессии речь.
В сегодняшнем мире уже никто не понимает, что вообще происходит, но при этом многие получают зарплаты и клики, поддерживая иллюзию какой-то деятельности. Кто-то из них будет проводить с вами собеседование — и ничего с этим не поделаешь. И когда из-за этого появляется синдром самозванца — радуйтесь, ибо те, у кого такого синдрома нет — глупцы.
Зарабатывайте
Получали зарплату в этом месяце? Отлично — у вас дела лучше, чем в среднем по планете. А если при этом вы еще и программист по профессии, то вы оставили позади 80 процентов наемных работников по всему миру, не говоря уже о тех, кто не может устроиться на работу. Если получите зарплату и в следующем месяце, то вы — не обманщик.
Там, где вы видите массу дурно пахнущего и небрежного спагетти-кода, который без цели и смысла множит энтропию вселенной, начальники видят черный ящик с надписью «Парень, говорящий с компьютерными богами». Они вкладывают деньги — что-то происходит — и глянь-ка! Появляется продукт, который дает еще больше денег. Можно воображать себя свершением самых горячих мечтаний Теслы и надеяться, что обладаешь хотя бы десятой частью дара предвидения Ады Лавлейс, но это как родиться в Норвегии XI века и отращивать бороду, полагая себя Тором. Но вы не Тор. И даже не воин, а всего лишь поэт — потому и выжили, и можете размножаться.
Если у кого-то есть смешанные сексуальные чувства по поводу указателей и уравнений в 3D-графике — ему повезло: он родился в поколении, которое уважает таких, как он… и неявно поклоняется им — довольно жутким образом. Но если вам просто нужна работа и вы можете и хотите согласиться с тем, что компьютеры намного глупее леммингов, то у вас есть все необходимое, чтобы и дальше двигать информационную эпоху. (с)
Collapse 
Daniel [3:11 PM]
Блин, такие ты статьи хорошие скинул)


Crazz [Yesterday at 3:40 PM]
in #hw1
интересно почему идея не видит атрибут передаваемый в jsp, хотя все работает при старте..
зато jstl сам находит геттеры для полей, магия какая то (edited)


4 replies
sky [1 day ago]
та же беда


matrocob [1 day ago]
тоже


Sergey [13 hours ago]
Думаю, потому что они передаются из сервлета в рантайме. Идея, кстати, предлагает использовать jsp:useBean или прямо указать класс соответствующий. Тогда будет видеть.


shtramak [8 hours ago]
Про атрибуты здесь написано, не знаю поможет ли https://goo.gl/aQXtbU
GitHub
JavaWebinar/topjava
Contribute to topjava development by creating an account on GitHub. (17 kB)


Avaaron [Yesterday at 8:24 PM]
in #hw1
нипанятна, почему сервлеты на аннотациях не айс, я сделал прогоны по времени, получается что исполнение программы на сервлетах с аннотациями даже меньше чем с web.xml


8 replies
Yevhen Maksymovych [1 day ago]
дело вкуса. некоторые любят, чтобы все яйца были в одном лукошке, то бишь, зайти в один xml, и увидеть там все маппинги. если у тебя несколько десятков (сотен) сервлетов, у каждого из которых есть несколько методов, замапленных на разные урлы, причём не всегда очевидные, т.е. совпадающие с именем класса, ты же не будешь шерстить все классы перебором в поисках нужного тебе маппинга



Yevhen Maksymovych [1 day ago]
естественно, если у тебя всего два сервлета, разницы в производительности не будет :slightly_smiling_face:

Avaaron [1 day ago]
спасибо


Yevhen Maksymovych [1 day ago]
забегая вперёд, мы там перейдём на аннотации, когда будем всё реализовать через спринг мвс, так что не расстраивайся загодя :slightly_smiling_face:

Yevhen Maksymovych [1 day ago]
как по мне, аннотации удобнее, ну, чисто логически, если что-то добавили в более новой версии javax-servlet, значит это более прогрессивно, и этим надо пользоваться :slightly_smiling_face:


Yevhen Maksymovych [1 day ago]
тем более, это "более новая" версия вышла ещё в 2013-м


Grigory Kislin [1 day ago]
@Avaaron по производительности на такие вещи, если вы начнете об этом говорить например на собеседовании, могут заминусить. забудь эту ерунду  
есть же на занятиях вроде гдето про производительность, как ее надо мерить и главное- КОГДА (edited)



Avaaron [1 day ago]
я лишь внимательно смотрел Ваш вебинар, там Вы и озвучили что это медленнее работает. Спасибо за ответ.


Merkulov [Today at 10:58 AM]
in #hw1
всем привет, я так понимаю для того чтобы преобразовать Meal в List<MealWithExceeded> нужен ведь параметр caloriesPerDay ну и фильтрация по дате, или просто преобразовать без метода который мы писал в HW0 везде exceed поставить false по умолчанию?


3 replies
Yevhen Maksymovych [12 hours ago]
Нужен caloriesPerDay. Введи какую-нибудь дефолтную константу для неё


Yevhen Maksymovych [12 hours ago]
Для фильтрации используй LocalTime.MIN и MAX. Это есть в пояснялках к заданию


Merkulov [12 hours ago]
ок, спс


Avaaron [6:51 PM]
намекните что ли , вывод свойств объектов передаваемого в jsp листа с помощью бина надо делать?


Avaaron [Today at 6:53 PM]
in #hw1
сами объекты просто циклом легко выводятся, а что бы от переменной jstl цикла получать свойства...


7 replies
Ma3stro [5 hours ago]
perem.calories


sky [4 hours ago]
${meal.description}
что аналогично ${meal.getDescrition()},
т.е. геттеры сервлет находит самостоятельно, если они существуют (edited)


Avaaron [4 hours ago]
чёж у меня не находит...то..

Avaaron [4 hours ago]
спасибо


Avaaron [4 hours ago]
толи лыжи не едут, то ли я е..ду плохо


Crazz [3 hours ago]
```1.2.4 Вариант реализации:
из сервлета преобразуете еду в List<MealWithExceeded>;
кладете список в запрос (request.setAttribute);
делаете forward на jsp для отрисовки таблицы (при redirect атрибуты теряются).
в JSP для цикла можно использовать JSTL tag forEach. Для подключения JSTL в pom.xml и шапку JSP нужно добавить:
    <dependency>
       <groupId>javax.servlet</groupId>
       <artifactId>jstl</artifactId>
       <version>1.2</version>
    </dependency>

    <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>```
(edited)


Avaaron [2 hours ago]
эт я сразу сделал, да всё, решилось уже, всем спасибо


Avaaron [9:07 PM]
А вот у меня такой вопрос, если на странице несколько таблиц которые принимают разные списки и плюс там к примеру ещё куча переменных, можно ли это всё отправить через один сервлет?

e.pekhterev [9:07 PM]
почему нет то?
сеть в разные атрибуты разные листы

Avaaron [9:09 PM]
не знаю, просто когда в тестовом задании делал фильтр, там были накладки с этим делом, один setAttribut заменял другой
я делал через бут, так до конца и не понял что происходило
в итоге сделал обходной манёвр, просто подстроился
ну в общем поэтому и спросил

e.pekhterev [9:11 PM]
поэтому не надо делать через бут, разберись сначала с обычным спрингом
но тут у нас сейчас разговор не о спринге, а о сервлетах

Avaaron [9:12 PM]
там принцип отправки похожий
такой же я бы сказал

e.pekhterev [9:15 PM]
ну как бы такой же , да не такой же)))), там всё по другому ))) (edited)

Stanislav [9:24 PM]
Фронтенд JSP, JSTL :nauseated_face: я уже потратил столько же сколько бэкэнд писал.

Stanislav [9:30 PM]
Почему не работает "javatime:parseLocalDateTime value="${meal.dateTime}""? как я только не пробовал
https://github.com/sargue/java-time-jsptags
GitHub
sargue/java-time-jsptags
java-time-jsptags - JSP tag support for Java 8 java.time (JSR-310)

Stanislav [10:00 PM]
Разобрался :man-facepalming:

hav [10:44 PM]
Добавляю в jsp <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>, но строка подсвечивается красным, "Cannot resolve taglib with uri ...". Соответственно пространсво имен с тоже с ошибкой. Как исправить? (edited)

Stanislav [10:47 PM]
зависимость подтянул?

hav [10:53 PM]
Да, в pom.xml прописал.

Stanislav [10:55 PM]
Попробуй File->Invalidate Cashes / Restart

e.pekhterev [10:56 PM]
да и в мавене clean, потом install или pacage

hav [11:01 PM]
Спасибо, вроде сам разобрался. В проекте почему-то было два модуля, topjava и main (пустой). Удалил main и все заработало.


Alexander [11:17 AM]
+

Merkulov [11:42 AM]
как сохранить страничку с материалами по HW1, и можно ли это вообще делать?
думал сделать fork

shtramak [11:55 AM]
поставь star  ¯\_(ツ)_/¯
Ну и страница - это же обычный md  файл в репо, его можно скачать и к себе в репо засуснуть, он правда каждый год обновляется (edited)


Joanna [Today at 12:36 PM]
in #hw1
здравствуйте, а все патчи по одному затягивать, а потом пушить и коммитить или можно все вместе накатывать, а потом пушить и коммитить?


3 replies
Victor [2 hours ago]
пушить точно можно скопом. А коммитить лучше по очереди, тогда можно проверить стал ли патч и откатиться, если нет.



Grigory Kislin [39 minutes ago]
и проще изменения в проекте отслеживать потом (edited)


Joanna [24 minutes ago]
спс


matrocob [1:46 PM]
Я каждый патч затягивал и комитил по очереди

zippospb [2:35 PM]
Кто делает optional из hw1 поскажите, вы форму для редактирования делали в модальном окне?


zippospb [Today at 2:35 PM]
in #hw1
Для редактирования или создания нового meal


2 replies
Grigory Kislin [38 minutes ago]
в модельном будет делать в конце стажировки, когда bootstrap введем


zippospb [25 minutes ago]
А пользоваться можно только post,  или delete/put тоже можно?


Stanislav [2:37 PM]
Я вообще не замарачиваюсь по фронту, не фронтендщик я. Просто продемонстрировать бэкенд.
Из-за требований получается не красиво, все через параметры и соответственно много if-ов

Stanislav [2:49 PM]
Я все не могу поле ввода даты сделать (<input type="datetime-local" id="dateTime" name="dateTime" placeholder="Дата/Время"/>) не работает
Уже и явно html 5 поставил

разные типы...просто date работает, а со временем не хочет


Stanislav [Today at 2:53 PM]
in #hw1
В фоксе не работает, а в EI работает


2 replies
Grigory Kislin [38 minutes ago]
Optional, п.2.5


Stanislav [38 minutes ago]
Смотрел, спасибо)


Gagarina6794 [3:09 PM]
https://github.com/ichimax/Java-Interview-Questions/blob/master/Terms/terms.md
GitHub
ichimax/Java-Interview-Questions
Java-Interview-Questions - Java. Подготовка к собеседованию: вопросы и ответы

matrocob [3:17 PM]
а такой вопрос.. а не вариант сделать геттер в классе MealWithExceed который сразу вернет нам формат даты, который мы хотим?


e.pekhterev [3:17 PM]
я всё сделал (optional), морда нормальная/симпатичная, хоть и без бутстрапа, но с css, всё работает (и в фоксе, и в хроме, и в эксплоере). 
отправлять на проверку боюсь - явно на счет многопоточки сразу же заругают, так что нужно ещё чутка подумать и почитать внимательно "Типичные ошибки") (edited)


realcorwin [3:30 PM]
отправляй. тебя поругают, и будет время исправить и отправить на ещё одну проверку


SergeyA [4:02 PM]
Я что то запутался в стримах: 
чем отличается:
*java.util.stream* 
*public interface Stream<T>*
      от
*java.util.Collection<E> @Contract(pure = true)* 
*Stream<E> stream()*
? (edited)

matrocob [4:03 PM]
подскажите, не могу блин разобраться... когда пишу так:
               <td style="color:#FF0000;"><javatime:parseLocalDateTime value="${meals.dateTime}" pattern="yyyy-MM-dd" var="parsedDate" /></td>
вылетает ошибка, пишет, что не может отпарсить дату... зависимости в пом и jsp добавил... оишбка такая:
org.apache.jasper.JasperException: javax.servlet.ServletException: javax.servlet.jsp.JspException: In &lt;parseDate&gt;, value attribute can not be parsed: "2015-05-31T10:00"

Stanislav [4:04 PM]
API не корректно сделан, тебе нужен parse
Мучился с этим час :disappointed:

e.pekhterev [4:04 PM]
ну так и в чём впрос?? тут же всё написано получаешь стринг "2015-05-31T10:00", а хочешь парсить его через паттерн "yyyy-MM-dd"

Stanislav [4:06 PM]
нужен не парс, а формат
formay
t

e.pekhterev [4:06 PM]
сначала парсим, потом форматируем, я так делал


Stanislav [Yesterday at 4:07 PM]
in #hw1
<javatime:format value="${mealWithExceed.dateTime}" style="MS"/>



13 replies
matrocob [22 hours ago]
СПАСИБО БОЛЬШОЕ!!)))


e.pekhterev [22 hours ago]
читеры)


matrocob [22 hours ago]
=D


e.pekhterev [22 hours ago]
делайте через fmt и не будет вам счастья)))

matrocob [22 hours ago]
я уже и так пытался, правда ошибка какая-то другая вываливалась)))

e.pekhterev [22 hours ago]
у меня через fmt полёт нормальный, правда выглядит всё громоздко в коде, зато  паттерн можно крутить как хочешь



e.pekhterev [22 hours ago]
в смысле более гибкое форматирование


matrocob [22 hours ago]
<javatime:parseLocalDateTime>
Example:

<javatime:parseLocalDateTime value="${dt}" style="MS" />
Parses a string into an java.time.LocalDateTime object. The var and scope attributes can be used to set the value of a variable instead of printing the result. The time zone may be specified using an attribute, an enclosing <javatime:zoneId/> tag, preceding <javatime:setZoneId/> tag, or via the net.sargue.time.zoneId scoped variable.


e.pekhterev [22 hours ago]
окей, может тоже использую


Merkulov [22 hours ago]
я сделал кастомный тег, для вывода даты)


Merkulov [22 hours ago]
как раз разобрался немного как делать свою библиотеку тегов


Alexey_P [21 hours ago]
без javatime
<fmt:parseDate value="${meal.dateTime}" pattern="yyyy-MM-dd'T'HH:mm" var="parsedDate" type="date" />
                   <fmt:formatDate value="${parsedDate}" var="newParsedDate" type="date" pattern="dd.MM.yyyy HH:mm" />
                   ${newParsedDate}



Alexey_P [21 hours ago]
2 часа ушло)


Stanislav [Yesterday at 4:23 PM]
in #hw1
Может обменяемся с кем нибудь, я дам thread save реализацию, а мне html с css :slightly_smiling_face:


12 replies
e.pekhterev [22 hours ago]
так не сделай да)))


Stanislav [22 hours ago]
Я с готового решения брал, но там бустрап, с ним легче, пришлось на голом html, css уже не помню. Все работает, но ужасно не красиво.


Stanislav [22 hours ago]
Выворачивает меня от фронтенда


e.pekhterev [22 hours ago]
так юзай бутстрап, там всё красиво


Stanislav [22 hours ago]
нельзя


Alexander Pilipenko [22 hours ago]
Про бутстрап ничего не писали


e.pekhterev [22 hours ago]
можно всё по идее, запрета не было) хотя, конечно Катя с Таней могу попросить убрать


e.pekhterev [22 hours ago]
с другой стороны сейчас фронт не нужен, не стоит переживать по поводу внешнего вида, всё потом заменят на бутстрап


Alexander Pilipenko [22 hours ago]
Не все


Alexander Pilipenko [22 hours ago]
2.4 Сделать форму редактирования в JSP: AJAX/JavaScript использовать НЕ надо, делаем через <form method="post"> и doPost() в сервлете.


Alexander Pilipenko [22 hours ago]
Можно из бутстрапа взять только  css


Stanislav [21 hours ago]
Значит сделаю через него :)


matrocob [Yesterday at 4:35 PM]
in #hw1
Я так понимаю в optional нужно использовать уже mysql?


2 replies
Stanislav [22 hours ago]
нет


Victor [16 hours ago]
нужно данные захардкодить


e.pekhterev [4:37 PM]
попробуем отправить свой ГК optional


sky [Yesterday at 5:43 PM]
in #hw1
Такой вот момент:
В задании есть такой вопрос - Предпочтительнее ли создавать новый объект Meal при каждом update? и дан ответ на него..
Но как еще можно редактировать объект, если у него поля private final, кроме как заменой его в хранилище на новый, с таким же id?


1 reply
e.pekhterev [20 hours ago]
кто сказал, что ничего менять нельзя??
если чего потом скажешь - "я так вижу"  или "художника каждый может обидеть")))


Avaaron [Yesterday at 6:58 PM]
in #hw1
Подскажет кто? никак не могу въехать куда какие классы пихать при реализации crud...ну предположу что контроллер должен быть в web где все сервлеты лежат, так же предположу что модель у нас уже есть, там Meal и MealWith Exceed (хотя не уверен), util который приводится в примере по ссылке это вообще не тот util который у нас и вообще не могу взять в толк куда положить и к чему прикрутить интерфейс для работы с нашим списком, думаю что там должны быть прописаны методы crud, но к чему его приделать?? Реализация этих методов вынесется в классы, в которых по заданию ее быть не должно.. И хотя я полностью разобрался с примером , не могу взять в толк как применить всё это к тому что у нас есть..


20 replies
e.pekhterev [20 hours ago]
контроллер из примера, это наш милСервлет.
за интерфейс - имеется ввиду дао интерфейс должен быть и его реализация с захардкоженой "бд", изи


Avaaron [20 hours ago]
mealServlet?????


matrocob [20 hours ago]
Да

Avaaron [20 hours ago]
дао интерфейс к чему должен быть прикручен?

Avaaron [20 hours ago]
где-то я же должен реализовывать его методы работы с листом?


Avaaron [20 hours ago]
тоже к сервлету?

tema.emelyan [19 hours ago]
напиши сам класс который его имплементирует


matrocob [19 hours ago]
Я так понимаю создать интерфейс а mealservlet должен его имплементировать


Avaaron [19 hours ago]
логика работы с нашим листом будет в сервлете..тогда, это наверное не верно...может его к MealsUtil  приделать?


tema.emelyan [19 hours ago]
напиши сам класс который его имплементирует

Avaaron [19 hours ago]
хорошо, этому классу нужен отдельный пакет что-то типа dao?

sky [19 hours ago]
В задании ссылка была https://danielniko.wordpress.com/2012/04/17/simple-crud-using-jsp-servlet-and-mysql/
Там примерно то что надо реализовать, только вместо базы данных - потокобезопасная коллекция, а кроме конкретной реализации, должен быть интерфейс дао, к которому и должен обращаться сервлет. 
Вообще перечитайте повнимательнее задание, полазайте по ссылкам, многие вопросы должны поотпадать
WordPress.com danielniko
Simple CRUD Using Jsp, Servlet and MySQL
You can view and download the complete source code of this tutorial from my github account.
In this tutorial, we will create a simple CRUD (Create Read Update Delete) User Management Web Application using Jsp, Servlet and MySQL.
For this tutorial, we will need the following tools: (The older or newer version should also works). Moreover, basic Java knowledge is assumed.
1. Eclipse IDE for Java EE Developers (Indigo – ver. 3.7)
2. Apache Tomcat ver 7.0 Show more…
 


Stanislav [19 hours ago]
Берешь пустой проект и пишешь свою реализацию DAO и Repository, пишешь так что бы DataSource можно было подставить любое (что DAO в принципе и делает). По ключевым словам поиск в нете.


Avaaron [19 hours ago]
счётчик Id , если я правильно понял надо через Atomic реализовывать?

Stanislav [19 hours ago]
Надо реализовать потокобезопасный, а реализовывать его можно по разному.


Victor [16 hours ago]
три слоя:
model - в нем контроллеры
service - промежуточный - в нем бизнеслогика
dao - в нем методы для доступа к базе данных.


Victor [16 hours ago]
model обращается к service, service обращается к dao, dao работает с базой.



Victor [16 hours ago]
service и dao реализуются по схеме интерфейс - реализация.


Stanislav [16 hours ago]
Не совсем так.


Stanislav [16 hours ago]
Патерны mvc и dao-repository перепрочтите.


Andy Fleer [9:50 PM]
Друзья привет! С победой!
Вопрос. Правильно ли я понимаю что табличку со списком еду выводим через meals.jsp


Andy Fleer [Yesterday at 9:51 PM]
in #hw1
?


2 replies
Yevhen Maksymovych [17 hours ago]
да


Andy Fleer [17 hours ago]
Спасибо!


Andy Fleer [9:52 PM]
И ещё один. Правильно ли я понимаю, что связь юзера и его еды пока  не делаем? Просто выводим всё


Andy Fleer [Yesterday at 9:52 PM]
in #hw1
Так?


4 replies
Yevhen Maksymovych [17 hours ago]
ага


Andy Fleer [17 hours ago]
И еще одно спасибо!


Andy Fleer [17 hours ago]
Будь здрав!


Yevhen Maksymovych [17 hours ago]
:+1:


matrocob [Yesterday at 10:18 PM]
in #hw1
форма редактирования должна быть создана на новой jsp? или надо как-то сделать ее прям на meal.jsp? И еще может кто-то сталкивался.. При добавлении новой записи в листе в описании, русскими буквами, то на странице показывает кракозябры.. В настройках IDEA выставлено все 3 поля в UTF-8 (edited)


8 replies
vch [16 hours ago]
3 пункт из раздела `Вопросы по HW1` не помогает?


Victor [16 hours ago]
я собираюсь новый jsp делать. Нигде не видел, чтобы было запрещено. (edited)


Yevhen Maksymovych [16 hours ago]
ты сам дизайнер своего приложения :slightly_smiling_face: можешь форму прикрутить к листу, можешь отдельным шаблоном. главное помнить, что для юзера это должно быть визуально красиво. если ты редактируешь один элемент, нет необходимости отрисовывать ему список всех остальных.


matrocob [16 hours ago]
понял, спасибо всем!)) сейчас посмотрю 3 пункт


Alexey_P [16 hours ago]
Я в в сервлете в doGet первым делом сделал 
request.setCharacterEncoding("UTF-8");
response.setCharacterEncoding("UTF-8");


Alexey_P [16 hours ago]
Помогает


Yevhen Maksymovych [16 hours ago]
респонсу можно в принципе не указывать кодировку, это реквест тебе присылает браузер в какой только ему самому захочется кодировке. респонс сервер ему отдаст в честном утф-8, тем более ты указываешь в jsp вот эту фигню "<%@ page contentType="text/html;charset=UTF-8" language="java" %>"


Yevhen Maksymovych [16 hours ago]
это, собсна, и есть инструкция для обработчика шаблона указать в хедере респонса утф-8


Andy Fleer [Yesterday at 10:26 PM]
in #hw1
Хочется захардкодить данные по еде в init() в сервлете. Скажите это желание извращено и порочно?
 


26 replies
Yevhen Maksymovych [16 hours ago]
вообще да. идеологически у тебя данные сидят в моделе. в контроллере им делать нечего. как вариант для отладки, возможно, но если ты собираешься делать опционал, тебе надо будет для этих данных реализовать круд. Вряд ли у тебя получится сделать круд для данных, захардкоженных в сервлете.


sky [16 hours ago]
для базового решения так и надо делать, но я думал, что это в конструкторе лучше сделать


Andy Fleer [16 hours ago]
Согласен, что это фигня... но как временное зло... они ж потом из БД будут запрашиваться.


Yevhen Maksymovych [16 hours ago]
если внимательно посмотреть, у тебя уже есть один класс, где данные милов хардкодятся. используй его :slightly_smiling_face:

Andy Fleer [16 hours ago]
В main в UserUtil

Victor [16 hours ago]
думаю без разницы, как лишь бы было.


Andy Fleer [16 hours ago]
Считаешь, что пусть уж зло продолжается?)))


Andy Fleer [16 hours ago]
Сделаю приватный лист в MealsUtil


Yevhen Maksymovych [16 hours ago]
делай пабликом, это же утильный класс


Victor [16 hours ago]
final public вернее, да?

Yevhen Maksymovych [16 hours ago]
и статик


Yevhen Maksymovych [16 hours ago]
утильный класс на то и утильный, чтобы дёргать его переменные без инстанциирования :slightly_smiling_face:


Victor [16 hours ago]
static не нужно, думаю


Victor [16 hours ago]
но я не в утильном делаю List, а вместо всех Datasource и соединений к базе просто в DAO переменную инициализирую.


Andy Fleer [16 hours ago]
Вообще кажется что разумно будет вот как. Сделать некий класс заглушку (типа на месте где потом из БД будем запрашивать). Сделать статический метод в таком классе ну и получать всё это из него в самом сервлете. Мы же потом данные будем в сервлете получать и в утилы отправлять.

Andy Fleer [16 hours ago]
Вот вроде почему так сразу и не замутить

Yevhen Maksymovych [16 hours ago]
а, если ты уже про круд, то да, к нему ходишь уже через реализацию дао


Andy Fleer [16 hours ago]
Заменить потом заглушку и.....  счастье!


Andy Fleer [16 hours ago]
Не


Victor [16 hours ago]
но точно не в сервлете.


Andy Fleer [16 hours ago]
пока про обязаловку


Victor [16 hours ago]
сразу пилю с CRUD (edited)

Yevhen Maksymovych [16 hours ago]
@Andy Fleer в любом случае, держи в уме, что надо избегать дублирования кода. если ты сейчас данные собираешься использовать только для отрисовки в сервлете, а потом - делать круд, то это должны быть одни и те же данные. логично использовать какой-то датасорс (в отдельном классе, или в уже имеющемся утильном), из которого для базового задания ты просто возьмёшь данные. а в дальнейшем, их затянет в себя дао, и к ним ты уже будешь обращаться через него


Andy Fleer [16 hours ago]
Да


Andy Fleer [16 hours ago]
принял


Andy Fleer [16 hours ago]
Так и сделаю


Andy Fleer [10:49 PM]
Подскажите, братцы, вот что еще. После патчей с HW0 у меня в MealsUtil какой-то хаос получился. Все варианты красивые решения и нет моего.


Andy Fleer [Yesterday at 10:50 PM]
in #hw1
Это же нормально всё это убить и воткнуть туда свой в слезах написанный метод?


13 replies
Yevhen Maksymovych [16 hours ago]
в принципе, если сильно хочется, можно, но надо привыкнуть к тому, что каждый урок у нас будет начинаться с решения, предоставленного Григорием, и домашка в целом будет строиться на нём, а не на нашем собственном решении с предыдущего урока


Yevhen Maksymovych [16 hours ago]
это ещё проканает для хв01, но в дальнейшем будет только запутывать, так как "каноничное" решение будет довольно сильно отличаться от собственного

vch [16 hours ago]
Эта боль будет преследовать тебя теперь каждый раз... Выстраданное решение предыдущего задания будет жестоким образом замещаться эталонным решением Григория. И не всегда оно будет лучше твоего.
Варианта 2 - смириться или упорно переносить свой старый код в новое HW



Yevhen Maksymovych [16 hours ago]
и вылазающие в тех или иных местах косяки будет проще разрулить, если опираться на единое решение, а не находить проблему в собственном три-четыре урока назад :slightly_smiling_face:


vch [16 hours ago]
А, нет, есть ещё 3 вариант - делать такие решения, которые Григорий будет перетаскивать себе в качестве новых эталонных.


Andy Fleer [16 hours ago]
А... я честно не совсем понял, что это так делается


Andy Fleer [16 hours ago]
думал, что намудрил я что-то и в итоге эти метода здесь\


Andy Fleer [16 hours ago]
ок

Andy Fleer [16 hours ago]
такой вариант меня тож устравивает


Yevhen Maksymovych [16 hours ago]
Твои решения остаются в твоих ветках, ты можешь с ними экспериментировать дальше, или строить приложение от них, но ветка мастер у всех идентична, и основывается на патчах


Yevhen Maksymovych [16 hours ago]
Ты в целом можешь продолжать весь проект в ветке hw00, если хочешь чисто собственного решения, а в ветку мастер накатывать патчи и использовать для сравнения


Andy Fleer [16 hours ago]
Ок


Andy Fleer [16 hours ago]
Бэсэдер!


Albert [11:21 PM]
uploaded and commented on this image: Почему idea подчеркивает красным? 

В pom.xml ошибок нет.
Yevhen Maksymovych [11:24 PM]
не менял в настройках идеи расположение конфига или репозитория мавена?
Albert [11:24 PM]
нет
Albert [11:30 PM]
после clean загорелся помник :

Albert [11:30 PM]
uploaded this image: image.png 


Yevhen Maksymovych [11:32 PM]
commented on Albert’s file Почему idea подчеркивает красным?
реимпорт делал?


Albert [Yesterday at 11:33 PM]
in #hw1
да, идея ничего нового не тянет.


4 replies
Yevhen Maksymovych [15 hours ago]
ну, тогда даже не знаю. возможно что-то с правами доступа к локальному репозиторию мавена. покажи гит, могу себе склонить, если у меня ошибок не будет, значит проблема в локальном конфиге мавена/файловой системе, и проблемы надо искать там


Albert [15 hours ago]
https://github.com/AlbertoJava/topjava
GitHub
AlbertoJava/topjava
topjava - Java Enterprise: Maven/ Spring/ Security/ JPA(Hibernate)/ REST(Jackson)/ Bootstrap(CSS)/ jQuery
 


Albert [15 hours ago]
не то скинул. https://github.com/AlbertoJava/topjava/tree/HW1
GitHub
AlbertoJava/topjava
topjava - Java Enterprise: Maven/ Spring/ Security/ JPA(Hibernate)/ REST(Jackson)/ Bootstrap(CSS)/ jQuery
 


Grigory Kislin [14 hours ago]
попробуй в коммандной строке: `mvn clean install`


Andy Fleer [12:06 AM]
Как ключ запросить к Идее?

Andy Fleer [12:07 AM]
uploaded this image: image.png 


Andy Fleer [12:09 AM]
Похоже нашел. Вопрос снят

Daniel [12:40 AM]
Что делать, если jsp выводит кракозябры вместо русских букв?) С методом GET работало все четко, потом формы поменял на POST, и пошло-поехало... 
<%@ page contentType="text/html;charset=UTF-8" language="java" pageEncoding="UTF-8" %>
Пробовал UTF-8, UTF-16, CP-1251, не помогает.

Andy Fleer [12:46 AM]
Где-то в информации к 0му заданию было описание как поставить в Идее кодировку UTF-8
Видимо с этим связано
Или вот так попробуй
<%@ page contentType="text/html;charset=UTF-8" language="java" %>

Andy Fleer [1:05 AM]
не)) не пробуй)) не поможет))
https://github.com/JavaOPs/topjava/wiki/IDEA#%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D0%B8%D1%82%D1%8C-%D0%BA%D0%BE%D0%B4%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D1%83-utf-8
GitHub
JavaOPs/topjava
topjava - Java Enterprise: Maven/ Spring/ Security/ JPA(Hibernate)/ REST(Jackson)/ Bootstrap(CSS)/ jQuery

Tanya [1:26 AM]
Вопросы по HW1
https://github.com/JavaWebinar/topjava/blob/doc/doc/lesson01.md#-%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B-%D0%BF%D0%BE-hw1 (edited)
GitHub
JavaWebinar/topjava
Contribute to topjava development by creating an account on GitHub.

Gagarina6794 [5:29 AM]
https://stackoverflow.com/questions/22463062/how-to-parse-format-dates-with-localdatetime-java-8
Stack Overflow
How to parse/format dates with LocalDateTime? (Java 8)
Java 8 added a new API for working with dates and times (JSR 310). I have date and time as string (e.g. "2014-04-08 12:30"). How can I obtain a LocalDateTime instance from the given string? After I


hav [Today at 9:10 AM]
in #hw1
Подскажите по реализации многопоточности. Данные хранятся в потокобезопасной коллекции, методы, которые с ней работают, synchronized. Генерация счетчика - через статическое поле AtomicInteger. Я правильно понимаю?


8 replies
Yevhen Maksymovych [5 hours ago]
методы не обязательно синхронизировать, если коллекция и так потокобезопасная, все обращения к ней синхронизированы уже из коробки


hav [5 hours ago]
Спасибо, я как раз в этом и сомневался. Использовал CopyOnWriteArrayList.


Grigory Kislin [1 hour ago]
2 > через статическое поле AtomicInteger
если калсс в одном эксезпляре, то static не нужен
3. CopyOnWriteArrayList - плохой выбор


hav [1 hour ago]
Почему плохой? И что лучше использовать?


Grigory Kislin [1 hour ago]
почитай про него и посмотри на другие реализации


turhanow [1 hour ago]
Я использовал мапу


hav [1 hour ago]
В CopyOnWriteArrayList дорогие операции изменения - каждый раз копируется весь массив...  ConcurrentHashMap с id в качестве ключа?


Yevhen Maksymovych [27 minutes ago]
:+1:


anyonepaw [Yesterday at 7:37 PM]
in #hw1
Можете подсказать: как в сервлете совместить возвращение страницы
(я знаю только про 
request.getRequestDispatcher("meals.jsp").forward(request, response);  )
и возвращение параметра
request.getParameter("action") ? 
если написать их последовательно, то первый вызов getParameter вернет сначала null, а второй - уже параметр
получается, приходится дважды нажать на вызов, чтобы что-то вернулось


21 replies
Yevhen Maksymovych [1 day ago]
эм, не очень понятно, о чём ты. тебе надо получить параметр реквеста? тогда достаточно request.getParameter(). Зачем дважды нажимать на ссылку?


Yevhen Maksymovych [1 day ago]
request.getRequestDispatcher(.... и так далее имеет весьма опосредованное отношение к параметрам запроса. это инструкция для сервера форварднуть запрос джасперу и вернуть отрендеренную jsp-страницу


anyonepaw [1 day ago]
ну у меня выходит так, что в
protected void doGet(){

request.setAttribute(..); - вывожу атрибуты
request.getRequestDispatcher("meals.jsp").forward(request, response);*-> помогает мне получить свою страницу
(вот, и вопрос в том, есть ли какой-то другой способ получить ее, кроме него)

из этой страницы я делаю <a href="meals?action=delete...

и, по идее, эта конструкция, которая идет следом*
if(request.getParameter("action").equals("delete")) 
должна выполнить метод и завершиться

но на web-интерфейсе при нажатии ссылки request.getParameter("action") возвращает nullPointerException и ничего не вызывает дальше (даже если прописать в if(request.getParameter("action") != null) тут уже просто ничего не вернет)
если нажать на нее еще раз - он вернет delete

в общем, я подозреваю, что дело в forward и не могу найти способ как совместить их и заставить отрабатывать getParameter верно (edited)


Alexander Pilipenko [1 day ago]
Лучше покажи код всего сервлета (edited)

Yevhen Maksymovych [1 day ago]
ага, чего-то ты мудришь. схема стандартная: кладешь данные в аттрибуты, форвардишь на jsp, клиенту отдаётся вид. если тебе надо обрабатывать в гете разные команды, и, в зависимости от этого, отдавать разные виды - делай это до форварда


anyonepaw [1 day ago]
protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        log.debug("redirect to meals");
        
        request.setAttribute("mealList", MEAL_DAO.viewMeals());
        request.setAttribute("formatter", FORMATTER);
        request.getRequestDispatcher("meals.jsp").forward(request, response);

        if ( request.getParameter("action") != null && request.getParameter("action").equals("delete")) {
            log.debug("servlet delete");
            int id = Integer.parseInt(request.getParameter("id"));
            MEAL_DAO.deleteMeal(id);
        }
        
    }


anyonepaw [1 day ago]
но без форварда не отображаются setAttribute

Alexander Pilipenko [1 day ago]
У тебя всегда будет выполняться request.setAttribute("mealList", MEAL_DAO.viewMeals());
       request.setAttribute("formatter", FORMATTER);
       request.getRequestDispatcher("meals.jsp").forward(request, response);


Alexander Pilipenko [1 day ago]
Поэтому чистятся твои параметры


Alexander Pilipenko [1 day ago]
Сделай проверку на наличие action

Alexander Pilipenko [1 day ago]
И если он есть - выполняешь действие

Alexander Pilipenko [1 day ago]
Нет - идещь на request.setAttribute("mealList", MEAL_DAO.viewMeals());
       request.setAttribute("formatter", FORMATTER);
       request.getRequestDispatcher("meals.jsp").forward(request, response);


Alexander Pilipenko [1 day ago]
примерно так

anyonepaw [1 day ago]
request.getRequestDispatcher("meals.jsp").forward(request, response);

да, но если его убрать, на страницу ничего не выводится


Yevhen Maksymovych [1 day ago]
да не убирай


Yevhen Maksymovych [1 day ago]
местами поменяй

Yevhen Maksymovych [1 day ago]
вот так:

Yevhen Maksymovych [1 day ago]
```if ("delete".equals(requst.getParameter("action")) {
    log.debug("servlet delete");
    int id = Integer.parseInt(request.getParameter("id"));
    // do delete
}
request.setAttribute("mealList", MEAL_DAO.viewMeals());

request.setAttribute("formatter", FORMATTER);

request.getRequestDispatcher("meals.jsp").forward(request, response);```



Alexander Pilipenko [1 day ago]
Упс


anyonepaw [1 day ago]
да, теперь заработало, спасибо большое:slightly_smiling_face:

Yevhen Maksymovych [1 day ago]
:+1:


Макс Куркудюк [Yesterday at 7:46 PM]
in #hw1
В optional потрібно додати інтерфейс (MealSerwice) та клас (MealSerwiceImpl) з реалізацією методів інтерфейсу + у ньому ж зберігати наші MealWithExceed.
І ще потрібено реалізувати клас Controller у hw1 чи ним займемось на наступних hw?


2 replies
sky [1 day ago]
Скорее имеются ввиду не service с его реализацией, а dao, и храним мы не MealWithExceeded, а Meal. Но в целом примерно так. Контроллер это у нас MealServelet  будет..


Макс Куркудюк [1 day ago]
Саме це мене і цікавило)
Дякую:relaxed:


MikeMSN [11:25 PM]
Я только начинаю делать hw1.  Это было в письме
> В репозитории на github я буду вести проект параллельно (классы в нем совпадают с теми, откуда ты делал fork). Перед началом занятия код в ветке master твоего проекта должна быть в том же состоянии, что и *в моей ветке master.*

8 часов назад были коммиты в репозиторий, мне на какое состояние репозитория ориентироваться?

Grigory Kislin [12:15 AM]
@MikeMSN https://github.com/JavaOPs/topjava/wiki/git#Как-вести-проект-у-себя-в-локальном-проекте


turhanow [Today at 6:11 AM]
in #hw1
привет всем!
> 9 В web.xml принято группировать сервлет со своим маппингом
я что-то никак не могу найти как это делается, кто то может подсказать?)


8 replies
dustnfox [17 hours ago]
Просто напоминание, что вот так делать не надо:

```<servlet>
    <servlet-name>servlet-name1</servlet-name>
    ...
</servlet>
<servlet>
    <servlet-name>servlet-name2</servlet-name>
...
</servlet>
<servlet>
    <servlet-name>servlet-name3</servlet-name>
...
</servlet>

<servlet-mapping>
    <servlet-name>servlet-name1</servlet-name>
    ...
</servlet-mapping>
<servlet-mapping>
    <servlet-name>servlet-name2</servlet-name>
    ...
</servlet-mapping>
<servlet-mapping>
    <servlet-name>servlet-name3</servlet-name>
    ...
</servlet-mapping>```


turhanow [17 hours ago]
я именно так и сделал))


dustnfox [17 hours ago]
Не ты первый, не ты последний. Обычно это происходит так: 
1. Читаешь в полглаза задание.
2. Делаешь.
3. Читаешь еще раз.
4. Переделываешь.


dustnfox [17 hours ago]
Пункты 3-4 повторяются до получения приемлемого результата.

turhanow [17 hours ago]
или пока счетчик ревью не превысит значения 3))


dustnfox [16 hours ago]
Не-не-не-не-не! Ревью это следующий этап! Это когда ты уже 87 раз повторил 3-4 пункты и уверен, что кусок твоего кода, как тебе самому кажется, превратился из piece of shit в нечто, что можно помещать во французскую Палату Мер и Весов аккурат на пьедестал с латунной табличкой The Perfect Java Code Sample, вот тогда на сцену выходит Таня и через полчаса ты думаешь: а может проще твою писанину выкинуть, чем править эту кривизну?


turhanow [16 hours ago]
Таня огонь!:sunglasses: Прошел с ней 3 мес basejava. Бессонные ночи стали для меня нормой:grinning:


dustnfox [16 hours ago]
Да! Таня - большая умница!


Gagarina6794 [6:23 AM]
Привет, т.е. просто прописываешь их рядом сервлет а за ним сразу его маппинг (edited)

turhanow [6:26 AM]
а, ну то есть у нас в итоге так и останется пара <servlet> / <servlet-mapping>
просто важен порядок: сначала сервлет и затем сразу маппинг

Gagarina6794 [6:27 AM]
да, но сервлета два, потому и написано группировать, для наглядности)

turhanow [6:28 AM]
спасибо):kissing:


Vangelis Kondratevi [Today at 9:25 AM]
in #hw1
Ребят, меня интересует, правильно ли я понимаю, что в Опционале должен быть создан ДАО обьект, в котором будет захардкожена база данных и в нем же будут методы КРУД. И потом используя его мы будем в сервлете исходя из экшна и последующих параметров осуществлять круд операции и вырисовывать в .jsp.
Или должен все таки быть интерфейс сервиса и его имплементация, вместо Дао.
Просто чтобы вообщем понимать задание.


58 replies
Yevhen Maksymovych [14 hours ago]
моковую БД лучше держать в отдельном месте, а не в дао


Stanislav [14 hours ago]
Какая разница если есть интерфейс


Yevhen Maksymovych [14 hours ago]
разница идеологическая


Yevhen Maksymovych [14 hours ago]
дао - это уже какая-никакая логика, а данные - чистая модель


Stanislav [14 hours ago]
Я сделал по идеологически, и мне написали не надо это не надо то


Stanislav [14 hours ago]
dao сразу в сервлет


Stanislav [14 hours ago]
так написали

Stanislav [14 hours ago]
без сервисов


Yevhen Maksymovych [14 hours ago]
я про сервис ничего и не говорил


Yevhen Maksymovych [14 hours ago]
понятно, что он тут будет лишним звеном, просто лишней абстракцией, которая будет напрямую делегировать запросы сервлета в дао


Stanislav [14 hours ago]
что ты подразумеваешь под БД, мапу, зачем ее в обертку заварачивать, она и так уже в обвертке

Yevhen Maksymovych [14 hours ago]
я о том, что хардкоженные данные в дао держать не стоит


Yevhen Maksymovych [14 hours ago]
лучше их в утильный какой-то класс вынести, откуда их дао возьмёт


Stanislav [14 hours ago]
Да я то понимаю, фабрика, которая дает реализацию DataSource....только не вижу смысла это делать сейчас


Stanislav [14 hours ago]
Ты имплементацию все равно выкинешь, интерфейс остается

Vangelis Kondratevi [14 hours ago]
Ребят, я немного запутался сейчас. Что я делал - это создавал Дао, там же указывал методы КРУД и потом в сервлете при соответствующем экшене вызывал методы этого Дао. База с милами была в Дао и преобразовывалась в сервлете. Мены просто напрягает что в задании сказано, чтобы реализация была через интерфейс и просто теперь я запутался, как через интерфейс, чтобы он не знал про все остальные классы. И надо ли вообще через интерфейсы.


Yevhen Maksymovych [14 hours ago]
просто сделай интерфейс для дао, и сделай его реализацию, которая будет пользовать моковые данные. в сервлете создавай переменную не конечного класса, а интерфейса


Yevhen Maksymovych [14 hours ago]
мы потом сделаем его реализацию с бд

Yevhen Maksymovych [14 hours ago]
а потом прикрутим спринг, который даст возможность выбирать реализацию "на лету"


Yevhen Maksymovych [14 hours ago]
через IoC

Gagarina6794 [14 hours ago]
Реализовать DAO по аналогии как мы создаем например коллекции Map<> map = HashMap, Map не в курсе что делает HashMap



Vangelis Kondratevi [13 hours ago]
Ладно, понятно, спасибо большое. Попробуем сегодня.


Andy Fleer [12 hours ago]
Я правильно понял, что данные в памяти по факту изначают, что я держу некоторый лист мэпов и так имитирую базу?


Yevhen Maksymovych [12 hours ago]
ага

Yevhen Maksymovych [12 hours ago]
только зачем лист мэпов? достаточно просто мапы

Yevhen Maksymovych [12 hours ago]
только убедись, что она thread-safe

Andy Fleer [12 hours ago]
Если я буду этот лист держать как переменную экземпляра сервлета, то она будет едина для всех пользователей сервлета


Andy Fleer [12 hours ago]
так?

Yevhen Maksymovych [12 hours ago]
ага, сервлет по сути синглтон


Andy Fleer [12 hours ago]
то есть многопоточность по факту организует сам сервлет. Ему плевать идут запросы от одного пользователя или от разных


Andy Fleer [12 hours ago]
так?

Yevhen Maksymovych [12 hours ago]
многопоточность организует сервлет-контейнер, он инстанциирует твой сервлет, и маршрутизирует на него запросы пользователей


Andy Fleer [12 hours ago]
да так

Yevhen Maksymovych [12 hours ago]
фактически да, твой сервлет работает в многопоточной среде без твоего участия, но это не значит, что при его разработке не надо этого учитывать :slightly_smiling_face:


Andy Fleer [12 hours ago]
Потокобезопасные коллекции здесь будут CopyOnWriteArrayList, ConcurrentHashMap ?


Yevhen Maksymovych [12 hours ago]
ага, но второй вариант не такой затратный

Andy Fleer [12 hours ago]
то есть тогда получится конкарентмэп, где ключ это интовый id, а значение объект meal


Andy Fleer [12 hours ago]
так?


Andy Fleer [12 hours ago]
Хотя... в коментарии сказано "2.3 Добавить поле id в Meal/ MealWithExceed и реализовать генерацию счетчика, УЧЕСТЬ МНОГОПОТОЧНОСТЬ СЕРВЛЕТОВ "


Andy Fleer [12 hours ago]
id в сам объект

Yevhen Maksymovych [12 hours ago]
норм :slightly_smiling_face: не забудь озаботиться тем, чтобы счетчик тоже был тредсейф


Andy Fleer [12 hours ago]
два id будет что ли? один ключ мапы, а обин в объекте?

shtramak [11 hours ago]
Сервлет должен быть без состояния, зачем вы в него поля запихиваете? На каждый запрос создается сервлет каждый раз, где вы это поле потом будете искать?


Yevhen Maksymovych [11 hours ago]
что? сервлет создается один раз и существует пока существует запущенный сервлет-контейнер. это, конечно, не отменяет того факта, что пихать в него какие-то поля не особо имеет смысла, но если это какие-то служебные данные сервлета, которые заведомо должны шариться между всеми пользователями - думаю, можно сделать и исключение

Yevhen Maksymovych [11 hours ago]
но он, конечно, не лучшее вместилище для моковых данных :slightly_smiling_face: но работать будет


shtramak [11 hours ago]
Ну чекну конечн еще раз, сейчас на ходу


Yevhen Maksymovych [11 hours ago]
вот, собсна, спека

Yevhen Maksymovych [11 hours ago]
http://download.oracle.com/otn-pub/jcp/servlet-3.0-fr-eval-oth-JSpec/servlet-3_0-final-spec.pdf?AuthParam=1530609157_a6cd4e217316cff1d09fe5580fa10bc8


Yevhen Maksymovych [11 hours ago]
For a servlet not hosted in a distributed environment (the default), the servlet
container must use only one instance per servlet declaration. However, for a servlet
implementing the SingleThreadModel interface, the servlet container may
instantiate multiple instances to handle a heavy request load and serialize requests
to a particular instance.


Yevhen Maksymovych [11 hours ago]
я недавно просто чёт увлёкся, прочёл какую-то монументальную статью про то, как всё под капотом у томката крутится

Yevhen Maksymovych [11 hours ago]
вот тут хорошая объяснялочка тожка


Yevhen Maksymovych [11 hours ago]
https://stackoverflow.com/questions/3106452/how-do-servlets-work-instantiation-sessions-shared-variables-and-multithreadi
Stack Overflow
How do servlets work? Instantiation, sessions, shared variables and multithreading
Suppose, I have a webserver which holds numerous servlets. For information passing among those servlets I am setting session and instance variables. Now, if 2 or more users send request to this se...
 
 


shtramak [11 hours ago]
Да, понял уже)

Yevhen Maksymovych [11 hours ago]
меня как-то на собесе начали гонять по нутрянке томката, решил после этого подтянуться ))


svis [8 hours ago]
А что конкретно спрашивали по томкату?

svis [8 hours ago]
На каком уровене?

Yevhen Maksymovych [8 hours ago]
да попросили максимально подробно расписать механизм его работы, насколько я его себе представляю


svis [8 hours ago]
а, то есть основной сценарий нарисовать. Понятно.


anyonepaw [12:48 PM]
Привет всем!:slightly_smiling_face: у кого получилось
>1 из сервлета делаем редирект (снова на сервлет, не на JSP!) из 19 https://github.com/JavaWebinar/topjava/blob/doc/doc/lesson01.md#-Типичные-ошибки
в принципе, я делаю редирект response.sendRedirect(request.getContextPath() + "/meals");
и все работает:
>16 после операции delete в браузере должен быть url http:\\localhost:8080\topjava\meals (но это редирект на jsp)
как правильно записать response.sendRedirect? 
гугловский вариант не прошел
```request.getContextPath() + "/mealServlet"```
https://stackoverflow.com/questions/19747618/redirect-from-servlet-to-servlet
web-xml:
`<servlet>`
       `<servlet-name>mealServlet</servlet-name>`
       `<servlet-class>ru.javawebinar.topjava.web.MealServlet</servlet-class>`
       `<load-on-startup>0</load-on-startup>`
   `</servlet>`
  `<servlet-mapping>`
       `<servlet-name>mealServlet</servlet-name>`
       `<url-pattern>/meals</url-pattern>`
   `</servlet-mapping>`
   `<servlet-mapping>` (edited)

Stanislav [12:50 PM]
request.getContextPath() + "/meals"


anyonepaw [Today at 12:51 PM]
in #hw1
>1 из сервлета делаем редирект (снова на сервлет, не на JSP!)


2 replies
Yevhen Maksymovych [10 hours ago]
не усложняй. речь идёт только о том, что редирект должен быть не на meals.jsp, как это было в примере, а на урл "meals", который обслуживается сервлетом (edited)


anyonepaw [10 hours ago]
окей, ясно
спасибо! (edited)


e.pekhterev [12:55 PM]
что то вы наворачиваете, вот так работает отлично без всяких примочек - response.sendRedirect("meals");


Mihail Kedel [Today at 1:19 PM]
in #hw1
Список еды нужно захардкодить в MealsUtil или в реализации Dao интерфейса?


1 reply
e.pekhterev [10 hours ago]
в дао.
милУтилс нам ещё понадобится, а это захардкоженная база только для текущей реализации дао (edited)


Victor [Today at 1:53 PM]
in #hw1
может кто написать как к jsp с Post добавить id своего объекта, и как его потом достать в сервлете?


7 replies
anyonepaw [9 hours ago]
Странно, что с Post
если ты хочешь достать idшник, то можно в doGet прописать
```if (request.getParameter("action") != null && request.getParameter("action").equals("delete")) {
.....
} else if (request.getParameter("action") != null && request.getParameter("action").equals("update")) {
//тут ты получишь свой id
int id = Integer.parseInt(request.getParameter("id"));        
request.setAttribute("mealId", id);
//установишь его атрибутом в update.jsp, перейдешь на него
request.getRequestDispatcher("update.jsp").forward(request, response);
} else {
request.setAttribute(...);
request.getRequestDispatcher("meals.jsp").forward(request, response);
}```


в update ты, наверное, уже прописал
`<form method="post" action="meals?action=submit&id=<c:out value="${mealId}"/>">`

а в doPost скажешь

```if (action.equals("submit")) {
if(id не равен""){
int id = Integer.parseInt(request.getParameter("id"));
//и получаешь свой параметр, ведь ты его установил в update.jsp еще в doGet
}
}```


в meals.jsp надо прописать
 `<td><a href="meals?action=update&id=<c:out value="${mealItem.id}"/>"> </a></td>` (edited)


e.pekhterev [9 hours ago]
сразу пришли просто ему ссылку на твоё решение на гитхабе, чё уж там.
В задании дана ссылка Simple CRUD using Servlet/JSP. Заходи и смотри  - там всё есть. (edited)

anyonepaw [9 hours ago]
:sweat_smile: ну, может, кому то облегчу жизнь и объясню, как это стало понятно мне
и заодно тренируюсь в помощи другим:no_mouth: попробую потом наводящие вопросы:sweat_smile:

e.pekhterev [9 hours ago]
надо помогать учиться, а не присылать почти готовое решение. в задании есть пример + 2 видео от Файна + плюс статья, открываем, изучаем, только потом спрашиваем. Этого и так очень не мало для решения дз (edited)


Victor [5 hours ago]
@anyonepaw Спасибо большое. Всё оказалось банально: между параметрами URL вместо '&' поставил запятую:grin: когда твой год перечитал, понял ))) А я уже думал, что как-то по другому нужно передавать эти параметры.

Victor [5 hours ago]
@e.pekhterev за ссылки на " пример + 2 видео от Файна + плюс статья" спасибо.


anyonepaw [4 hours ago]
:+1::grin:


Егорро [3:36 PM]
uploaded and commented on this image: Скрин 

А с чем может быть связана такая ошибка? С утра все работало отлично, начал делать опциональное (набросал dao, добавил поле в класс сервлета) - просто вдруг перестало открываться, users при этом грузится по-прежнему нормально...
Yevhen Maksymovych [3:40 PM]
поставь бряку в сервлете, погляди, попадаешь ли в метод

Егорро [3:42 PM]
uploaded and commented on this image: idea64 2018-07-03 15-41-00 

@Yevhen Maksymovych первым делом поставил в doGet, не попадает. Хотя в самом сервлете вроде не вижу изменений, которые могли бы на это повлиять (скрин)

Yevhen Maksymovych [3:45 PM]
ну, как минимум у тебя добавилось инстанциирование двух переменных, которые в этот самый момент инстанцирования могут сервлет порушить
если откатиться до левого состояние, работать начинает?


Егорро [Today at 3:49 PM]
in #hw1
@Yevhen Maksymovych спасибо на наводку)) Добавил через ctrl+o метод init, перенес туда mealMemoryDAO = MealMemoryDAO.getInstance(); - теперь вроде к сервлету пытается обращаться, но уже вываливает java.lang.NoClassDefFoundError: Could not initialize class ru.javawebinar.topjava.dao.MealMemoryDAO


3 replies
Yevhen Maksymovych [7 hours ago]
тогда смотри на реализацию метода getInstance(), судя по всему где-то там косяк


e.pekhterev [7 hours ago]
дао не надо делать синлтоном "- синглтон не нужен, т.к. сервлет с 3.0 уже синглтон"


Егорро [7 hours ago]
Разобрался кое-как - оказывается, просто тупо счетчик инициализировался после списка, а в инициализации списка элементы добавлялись уже со счетчиком)) Спасибо за ответы


svis [Today at 3:53 PM]
in #hw1
Интересно. Тут многие используют Integer.parseInt для преобразования строки id, в Integer. Я использовал  Integer.valueOf.  Между этими двумя методами какие то серьезные различия? Если именно в Integer , а не в int


17 replies
Yevhen Maksymovych [7 hours ago]
ну так-то .valueOf() возвращает обёртку, а parseInt() - примитив


e.pekhterev [7 hours ago]
public static Integer valueOf(String s, int radix) throws NumberFormatException {
   return Integer.valueOf(parseInt(s, radix));
}
public static int parseInt(String s) throws NumberFormatException {
   return parseInt(s, 10);
} (edited)


svis [7 hours ago]
да, так мне обертка и нужна. Вопрос закрыт


e.pekhterev [7 hours ago]
т.е. получается всяко более удачный выбор за parseInt - тупо чуть-чуть дешевле (edited)


Yevhen Maksymovych [7 hours ago]
@e.pekhterev да ты на его реализацию погляди, там далеко не факт. я думал там две строчки в parseInt, а там телега кода ))


Grigory Kislin [7 hours ago]
ходите в исходники (Ctrl+мышка) - самый дешевый и надежный способ увидеть отличия (edited)


svis [7 hours ago]
а как же живое человеческое общение? ))


e.pekhterev [7 hours ago]
ну так оттуда и скопипасчено)))

e.pekhterev [7 hours ago]
за живым человеческим общением сюда - https://stackoverflow.com/questions/7355024/integer-valueof-vs-integer-parseint
Stack Overflow
Integer.valueOf() vs. Integer.parseInt()
Aside from Integer.parseInt() handling the minus sign (as documented), are there any other differences between Integer.valueOf() and Integer.parseInt()? And since neither can parse , as a decimal
 


Yevhen Maksymovych [7 hours ago]
охренеть ))

svis [7 hours ago]
угу


e.pekhterev [7 hours ago]
как мне теперь это развидеть?)?


Yevhen Maksymovych [7 hours ago]
щаз я удалю, и всё будет хорошо, не переживай :slightly_smiling_face:


e.pekhterev [7 hours ago]
ужасы какие то)))


e.pekhterev [7 hours ago]
@Yevhen Maksymovych , смысл тут в другом: valueOf сам для преобразования юзает parseInt, вот и всё).
public static Integer valueOf(String s) throws NumberFormatException {
       return Integer.valueOf(parseInt(s, 10));
   } (edited)


svis [7 hours ago]
смотрю, valueOf это просто обертка над parseInt для получения Integer из int


e.pekhterev [7 hours ago]
в том то и дело, в чём смысл, когда и так автоупаковка есть.


Joanna [Today at 5:17 PM]
in #hw1
вопрос по optional: "Реализуем в ПАМЯТИ CRUD ": это надо использовать бд in-memory, например h2, или просто захардкордить лист в код.....о_0....?


2 replies
Yevhen Maksymovych [6 hours ago]
без бд


Joanna [6 hours ago]
ок, спасибо


Andy Fleer [8:28 PM]
По optional
Указано 2.2 Работать с реализацией CRUD через интерфейс, который не должен ничего знать о деталях реализации (Map, DB или что-то еще)
Правильно ли я понимаю, что по факту я делаю некий класс эмулирующий абстракцию дб
И разрабатываю некоторый интерфейс взаимодействия
что-то типа getMealById
addMeal()
updateMeal(int id, Meal meal)
правильно мыслю?

Yevhen Maksymovych [8:45 PM]
Да, только почитай про круд в рилейтед статьях, там есть принцип именования методов

Andy Fleer [8:55 PM]
Статью чет не вижу
Подскажи где
Вижу пример вот этот
https://danielniko.wordpress.com/2012/04/17/simple-crud-using-jsp-servlet-and-mysql/
WordPress.comdanielniko
Simple CRUD Using Jsp, Servlet and MySQL
You can view and download the complete source code of this tutorial from my github account.
In this tutorial, we will create a simple CRUD (Create Read Update Delete) User Management Web Application using Jsp, Servlet and MySQL.
For this tutorial, we will need the following tools: (The older or newer version should also works). Moreover, basic Java knowledge is assumed.
1. Eclipse IDE for Java EE Developers (Indigo – ver. 3.7)
2. Apache Tomcat ver 7.0
 Show more
тут именование есть
можно конечно по примеру
getAllMeals()
updateMeal(Meal meal)
deleteMeal(int id)
getMealById(id)


turhanow [Today at 9:12 PM]
in #hw1
привет. у тебя интерфейс для взаимодействия с хранилищем Meals. Зачем в каждом методе указывать meal? 
логично же, что по id будет возвращен meal, а при передаче в параметры meal в хранилище будет сохранен/обновлен  именно meal, а не что то другое)


1 reply
Andy Fleer [1 hour ago]
Принял. Согласен, что избыточно писать про meal


Maksim K [Today at 9:21 PM]
in #hw1
Подскажите, для обычного HW1 (не Optional) где вы Лист с едой храните?


40 replies
turhanow [2 hours ago]
в сервлете при инициализации


Maksim K [2 hours ago]
в смысле при инициализации? в сервлете еще конструктор должен быть?


Maksim K [2 hours ago]
Или прямо когда создаешь список MealWithExceed ему в конструктор пихаешь что-то вроде List<Meal> meals = Arrays.asList(......); ?


Maksim K [2 hours ago]
@turhanow  в смысле в самом методе doGet

turhanow [2 hours ago]
почитай про мтеод init();
в сервлете можно создать статичный list meals и при init() добавить туда еду. как вариант


turhanow [2 hours ago]
> в смысле в самом методе doGet


turhanow [2 hours ago]
нет

Maksim K [2 hours ago]
ван минетс плиз. ща читану про инит


turhanow [2 hours ago]
> Или прямо когда создаешь . > список MealWithExceed ему в > конструктор пихаешь что-то вроде > List<Meal> meals = > Arrays.asList(......); ?


MealWithExceed  это результат выполнения HW0, в doGet можно вызвать ранее созданный статичный метод и получить результат, передав его на страницу meals.jsp


Maksim K [2 hours ago]
Эт понятно. Я так и вызываю из MealsUtil. Просто туда надо в параметрах передать лист с едой. Ну и думал, может прям в параметре запихать создание листа. Громоздко конечно поэтому и спросил как лучше


Maksim K [2 hours ago]
По иниту вопрос. Если в нем инициализировать лист.То ведь все равно над в самом классе поле лист создавать, так?


Maksim K [2 hours ago]
ну чтобы потом его передать в методе doGet в параметрах утильному методу

turhanow [2 hours ago]
да, просто в сервлетах не используют конструкцию
static{
something initizialize 
}
а переопределяют метод init()


Maksim K [2 hours ago]
гм. а по сути какая разница? ведь так и так поле создаешь. типа так надо по феншую?)


turhanow [2 hours ago]
я сам только учусь))
думаю из-за того что все сервлеты многопоточны в отличии от какого нибудь класса где применяем static блок


Maksim K [2 hours ago]
Ну ок. Поверю на слово)) ща нет времени с этим подробно разбираться.


Maksim K [2 hours ago]
ВОпрос: там два инит метода. Переопределять надо тот который с параметром? и типа сначала в методе вызываем super. а потом пишем свой код?

turhanow [1 hour ago]
в документации написано что это метод для удобства с  ServletConfig).
Ч тоже сначала через статик делал, Таня забраковала)


turhanow [1 hour ago]
зачем парметры? мы же никакие конфиги не передаем, у нас простой сервлет, в нем просто инициализируется хранилище


Maksim K [1 hour ago]
Ох уж эта Таня))



Maksim K [1 hour ago]
Так значит метод без параметров?

turhanow [1 hour ago]
ага

Maksim K [1 hour ago]
но супер надо все равно вызывать?

Maksim K [1 hour ago]
я так понимаю. А то может быть беда? или нет?

turhanow [1 hour ago]
я вызвал, но ох уж эта Таня))

turhanow [1 hour ago]
то есть я вызвал но жду ответа свыше)

Maksim K [1 hour ago]
))))


Maksim K [1 hour ago]
ясно. спасибо. значит инициализируем в инит методе. думаю Таня фигни не посоветует))


turhanow [1 hour ago]
советую я. а она требует)))

Maksim K [1 hour ago]
ахаха) не бьет хоть?)

turhanow [1 hour ago]
нет, говорит из Канады в Питер далеко ехать) ну я типа в безопасности

Maksim K [1 hour ago]
)))


Maksim K [1 hour ago]
и еще. я так понимаю в Optional мапу тоже инициализировать в инит методе?

turhanow [1 hour ago]
в опциональной инициализируется не мапа, а твое хранилище на основе мапы)
но в елом аналогично


Maksim K [1 hour ago]
спасибо большое за инфу.


Maksim K [1 hour ago]
буду трудиться)

turhanow [1 hour ago]
на здоровье) (edited)


zippospb [17 minutes ago]
рекомендую почитать javadoc на оба метода init, а так же глянуть сам код.

zippospb [15 minutes ago]
если туда заглянуть, то можно увидеть, что метод init(ServletConfig config) внутри себя вызывает init(), а в описании init() написано A convenience method which can be overridden

Maksim K [7 minutes ago]
я уже видел, что один метод вызывает другой. а так спасибо за совет


zippospb [23 hours ago]
Меня, кстати, тоже Таня пнула за инициализацию переменных не в методе init)))


Maksim K [23 hours ago]
Я уже понял, что с ней шутки плохи))


Tanya [18 hours ago]
ну не то, чтобы сильно пинаю, пишу что так принято и надо запомнить этот момент

Для приложений правильно делать через init, т.к. init() получает ServletConfig параметр, который может содержать некие параметры инициализации для сервлета


zippospb [10 hours ago]
Таня,  за это и спасибо)


denis [4:00 AM]
@Maksim K там же где и был, только из майна убрать надо

denis [4:08 AM]
@Joanna "ДЗ первого урока будет связано с созданием небольшого CRUD приложения (в памяти, без DB) на JSP и сервлетах."

Joanna [11:12 AM]
это я уже поняла, просто у каждого свое восприятие прочитанного =)) Реализуем в ПАМЯТИ


Ma3stro [Today at 5:01 PM]
in #hw1
Можете еще раз пояснить, зачем на зависимости javax.servlet scope = provided?


5 replies
Yevhen Maksymovych [5 hours ago]
мы деплоим в томкат, который, по сути, является жава-программой


Yevhen Maksymovych [5 hours ago]
в нём уже есть javax.servlet



Yevhen Maksymovych [5 hours ago]
потому мы декларируем, что для сборки он нам нужен, но в конечный варник его вкладывать не стоит, нам его предоставит кто-то извне. в данном случае - томкат


Ma3stro [5 hours ago]
Благодарю за объяснение, теперь всё понял!


Yevhen Maksymovych [5 hours ago]
:+1:


Join_Selectovich [5:10 PM]
added and commented on this XML snippet: изменение параметра <defaultGoal> с install на package 
  <build>
    <finalName>topjava</finalName>
    <defaultGoal>install</defaultGoal>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-compiler-plugin</artifactId>
        <version>3.7.0</version>
        <configuration>
          <source>${java.version}</source>
          <target>${java.version}</target>
        </configuration>
      </plugin>
    </plugins>
  </build>
Collapse 
Может заодно еще подскажете для чего изменялся параметр <defaultGoal> с install на package в pom.xml

shomnest [6:04 PM]
@Join_Selectovich install добавляет в локальный  репозиторий, pakage просто упаковывает в war если pakaging помечен как war

Yevhen Maksymovych [7:43 PM]
вообще говоря, вопрос правильный :slightly_smiling_face:


Макс Куркудюк [Today at 7:45 PM]
in #hw1
Типичные ошибки
16 после операции delete в браузере должен быть url http:\\localhost:8080\topjava\meals

Моє http://localhost:8080/topjava/meals?action=delete&mealId=6 певно не підходить, так? (edited)


2 replies
Yevhen Maksymovych [2 hours ago]
ні, просто зроби редирект на мілз після деліт


Макс Куркудюк [2 hours ago]
Дякую, тепер все ок)


Yevhen Maksymovych [7:45 PM]
на текущий момент это бессмысленная оптимизация. мы не деплоим приложение непосредственно через мавен. мы запускаем его на выполнение через томкат-плагин идеи. в пом.хмл мы можем написать в дефолтгол хоть инсталл, хоть пэкэдж, хоть "оторви-и-выброси", разницы не будет
но, как выше заметили, технически разница есть. при инсталл спакованный жар (вар) ляжет в репозиторий (та папка, куда мавен выкачивает все свои зависимости) (edited)
но для этого нам надо будет вручную запустить maven install. при Shift+F10 ничего подобного не произойдёт
https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html


shomnest [Today at 7:54 PM]
in #hw1
@Yevhen Maksymovych При инсталл в репо ляжет. Если рассматривать вопрос осмысленности действия по замене инсталл на пэкэдж то важно понимание таргетов, мож кто захочет через мавен задеплоить. И у меня встречный вопрос, если собирать мавен-плагином из идеи, то это равнозначно будет как и сборка мавеном из консоли?
Yevhen Maksymovych
но, как выше заметили, технически разница есть. при пэкэдж спакованный жар (вар) ляжет в репозиторий (та папка, куда мавен выкачивает все свои зависимости)
Thread in #hw1Today at 7:47 PM
 


4 replies
Yevhen Maksymovych [2 hours ago]
да, это я описАлся, естественно, при инсталл ляжет :slightly_smiling_face:


shomnest [2 hours ago]
главное правильно расставить акценты и ударения))


e.pekhterev [2 hours ago]
@Yevhen Maksymovych ёлы, я думал у меня мозк под конец дня поплыл))) (edited)


Yevhen Maksymovych [2 hours ago]
ну, я честно пытался связно формулировать после литра пива :slightly_smiling_face:


turhanow [Today at 7:56 PM]
in #hw1
ребят привет, а счетчик в storage размещали или в каком классе?


1 reply
e.pekhterev [2 hours ago]
и счетчик, и хранилище делай обычными полями класса, который реализует интерфейс дао. Никакого там статика не надо (edited)


Макс Куркудюк [8:09 PM]
Ще таке запитання, як почистити file.log?
Вже маю ~ 1000 записів..


Макс Куркудюк [Today at 8:11 PM]
in #hw1
Потрібно редагувати logback.xml, чи якось інакше...?


4 replies
Yevhen Maksymovych [2 hours ago]
можеш або руками видалити зайві записи, або змінити тип аппендера на такий, що підтримує циклічні записи


Yevhen Maksymovych [2 hours ago]
наприклад, ch.qos.logback.core.rolling.RollingFileAppender


Yevhen Maksymovych [2 hours ago]
і для нього встановити ліміт, після якого старі записи будуть видалятися


Yevhen Maksymovych [2 hours ago]
https://tridion.stackexchange.com/questions/253/logback-xml-limit-the-size-of-files
Tridion Stack Exchange
Logback.xml - limit the size of files
I'm trying to figure out if there is a way limit the size of log files within the logback.xml configuration file. I've reviewed the SDL documentation, which points me to the official documentation...
 


SergeyA [10:04 PM]
Кто скажет - почему ТомКат не запускается?

SergeyA [10:04 PM]
added this Plain Text snippet: Untitled 
C:\Java\apache-tomcat-8.5.32\bin>catalina.bat jpda start
Neither the JAVA_HOME nor the JRE_HOME environment variable is defined
At least one of these environment variable is needed to run this program


e.pekhterev [10:11 PM]
переменную окружения JAVA_HOME задал?


SergeyA [10:12 PM]
да только что
но не помогло, надо что то перезагрузить
?

e.pekhterev [10:12 PM]
commented on SergeyA’s snippet Untitled
идею перегрузил после этого?

SergeyA [10:12 PM]
под win7
так я из командной строки запускаю
JAVA_HOME
то есть >catalina.bat jpda start

e.pekhterev [10:13 PM]
commented on SergeyA’s snippet Untitled
в командной строке забей echo %JAVA_HOME% и посмотри есть ли результат и правильный ли путь на jdk

SergeyA [10:14 PM]
ответ "%java_home%" не является внутренней или внешней
командой, исполняемой программой или пакетным файлом.

e.pekhterev [10:14 PM]
echo %JAVA_HOME%


SergeyA [10:14 PM]
в переменной значение = C:\Program Files\Java\jdk1.8.0_151


Stanislav [Yesterday at 10:15 PM]
in #hw1
после выставления переменной среды необходимо перезагрузить компьютер


1 reply
dustnfox [18 hours ago]
Не компьютер, а тот процесс, который использует переменную среды. Как правило процессы читают все переменные среды при запуске и после этого не обновляют этот список. Так что в данном случае, я бы перезапустил именно cmd.exe из которого пытаешься стартануть Tomcat.


SergeyA [10:15 PM]
вот блин  - как обычно )

e.pekhterev [10:15 PM]
у меня как то и без перезагрузки цеплялось

SergeyA [10:15 PM]
спасибо
а в эппл как ?

Stanislav [10:16 PM]
хз

e.pekhterev [10:16 PM]
init -6

ахах

SergeyA [10:16 PM]
я себе еще ноут купил , но пока еще едет со штатов


SergeyA [Yesterday at 10:18 PM]
in #hw1
Странно что никто не спросил ранее - один я не дружу с командной строкой?  ))


5 replies
Kiri [1 day ago]
а какая у тебя версия винды?


Kiri [1 day ago]
или у тебя мак?


SergeyA [1 day ago]
win7


SergeyA [1 day ago]
mac позже буду юзать, пока винда


Kiri [1 day ago]
а, тогда понятно: 10ка перезагрузки для установки переменных не требует


SergeyA [10:18 PM]
Ок ушел в ребут

SergeyA [10:27 PM]
Спасибо! ребут помог теперь томкат сообщил что он listening :slightly_smiling_face:

Victor_D [10:59 PM]
проверка переменной в командной строке: echo %Переменная%
например, echo %JAVA_HOME%
если следующей строкой вышел путь, который был задан, переменная подтянулась

в линуксе: echo $JAVA_HOME


stea1th [Yesterday at 11:48 PM]
in #hw1
кто подскажет как избавиться от кракозябр при выводе листа на страницу?


3 replies
vch [24 hours ago]
3 пункт в разделе `Вопросы по HW1`



stea1th [24 hours ago]
супер, гран мерси :))


Sergey [13 hours ago]
А кто-нибудь знает, в чем причина того, что кодировка приезжает в реквесте некорректной изначально? Где-то можно в веб-проекте задать кодирвоку по умолчанию utf-8?


stea1th [11:49 PM]
то есть добавляю новый meal и у меня вместо русских букв какая то фигня

Andy Fleer [11:53 PM]
Проблемы с кодировкой в POST (кракозябры).

Возможное решение - выставьте кодировку ДО первого чтения из request:

protected void doPost(HttpServletRequest request, ...) {
   request.setCharacterEncoding("UTF-8");

stea1th [11:53 PM]
спасибо


Avaaron [Today at 11:36 AM]
in #hw1
второе занятие пришло уже?


2 replies
Victor [12 hours ago]
Нет, ждемс


Victor [12 hours ago]
https://github.com/JavaWebinar/topjava/blob/doc/doc/lesson02.md


Yevhen Maksymovych [11:39 AM]
да ладно, чего ждать-то? по ссылке зашли, и готово
https://github.com/JavaWebinar/topjava/blob/doc/doc/lesson02.md
doc/lesson02.md
```
# Онлайн проект <a href="https://github.com/JavaWebinar/topjava">Topjava</a>

## <a href="https://drive.google.com/drive/folders/0B9Ye2auQ_NsFfkpsWE1uX19zV19IVHd0bTlDclc5QmhMMm4xa0Npek9DT18tdkwyLTBZdXM">Материалы занятия</a> (скачать все патчи можно через Download папки patch)

## ![hw](https://cloud.githubusercontent.com/assets/13649199/13672719/09593080-e6e7-11e5-81d1-5cb629c438ca.png) Разбор домашнего задания HW1:

- **Перед сборкой проекта (или запуском Tomcat) откройте вкладку Maven Projects и сделайте `clean`**
- **Если страничка в браузере работает неверно, очистите кэш (`Ctrl+F5` в хроме)**

### ![video](https://cloud.githubusercontent.com/assets/13649199/13672715/06dbc… Show more
JavaWebinar/topjavaAdded by GitHub

Grigory Kislin [12:27 PM]
@Avaaron #hw2
сначала выкладываю здесь, письмо днем шлю


shomnest [Today at 2:06 PM]
in #hw1
Таблицу прям прорисовать нужно используя только html и css, и уже в отоисованых ячейках при помощи jstl выводим данные? 
Только созрел hw1 делать, от Григория решения ещё не смотрел принципиально, хочу сам))


1 reply
Yevhen Maksymovych [9 hours ago]
Да


Егорро [2:37 PM]
uploaded and commented on this image: idea64 2018-07-05 14-33-42 

Кто подскажет, что я делаю не так? Посмотрел видео по HW1, узнал про jsp:useBean, попробовал продублировать у себя - почему-то видит только первое упоминание (exceed), а дальше воспринимает все meal как Object (свойства вообще не определяет), а при запуске вываливает org.apache.jasper.JasperException: /meals.jsp (line: [21], column: [12]) The value for the useBean class attribute [ru.javawebinar.topjava.model.MealWithExceed] is invalid. 
Без useBean все работало, что я не так делаю?
Yevhen Maksymovych [2:39 PM]
геттеры есть у мила?

Yevhen Maksymovych [2:39 PM]
попробуй дописать scope="page"

Егорро [2:41 PM]
@Yevhen Maksymovych да, геттеры есть, scope прописывал - не помогает (удалить его предложила сама Идея - как я понял, это значение по умолчанию)

Yevhen Maksymovych [2:46 PM]
ну, судя по всему джасперу не нравится этот бин. он точно соответствует жсп-бину? есть ноарг-конструктор?
покажи гит

Егорро [2:53 PM]
https://github.com/Eroppo/topjava/tree/HW1
Ноарг-конструктора нет, но его же нет и в коде из патча - там все работает, да и какой в нем смысл, если все поля объявлены как final - если даже пытаться добавить, Идея ругается, что ничего не инициализируется... (edited)


Егорро [Today at 2:57 PM]
in #hw1
* я эту строчку еще не пушил, пока не работает))


17 replies
Yevhen Maksymovych [9 hours ago]
да, я понял :slightly_smiling_face:


Егорро [9 hours ago]
<jsp:useBean id="meal" class="ru.javawebinar.topjava.model.MealWithExceed"/>
Сразу после foreach))


Yevhen Maksymovych [9 hours ago]
а, так вот в чём ошибка


Yevhen Maksymovych [9 hours ago]
ты пишешь class="...", а надо type="..."


Yevhen Maksymovych [9 hours ago]
если ты указываешь "class" - будь добр, делай так, чтобы он соответствовал требованиям жсп бина


Yevhen Maksymovych [9 hours ago]
с ноарг конструктором, не абстрактный и со всеми геттерами


Yevhen Maksymovych [9 hours ago]
а если у тебя просто pojo, которое ты хочешь отрисовать - указывай "type"


Yevhen Maksymovych [9 hours ago]
https://www.javatpoint.com/jsp-useBean-action
www.javatpoint.com
jsp useBean tag - javatpoint
JSP useBean tag with examples of session tracking, implicit objects, el, jstl, mvc, custom tags, file upload, file download, interview questions etc.


Егорро [9 hours ago]
Не, тоже пробовал - вариант с class просто писал изначально, сразу его зачем-то закоммитил, теперь после переключения на мастер и обратно он восстанавливается каждый раз. А с type точно так же видит только следующую строку, дальше - везде Object


Егорро [9 hours ago]
Но с type хотя бы работает без ошибки, как выясняется, и на том уже спасибо))


Yevhen Maksymovych [9 hours ago]
скорее всего какие-то баги идеи. она у меня перестала отслеживать тип вот на этом этапе
```<fmt:parseDate value="${meal.dateTime}"```


Yevhen Maksymovych [9 hours ago]
подозреваю, что это из-за того, что включился посторонний неймспейс, и она потерялась


Yevhen Maksymovych [9 hours ago]
пошла в его скоп, вышла из него, и потеряла текущий

Егорро [9 hours ago]
Попробовал закомментировать эти строки (вывод даты) - так же не видит.

Егорро [9 hours ago]
Судя по всему, какой-то конфликт с другими переменными: убрал c:set, перенес тернарный оператор напрямую в tr - теперь видит все до форматирования даты, там объявляется еще одна переменная - после нее уже опять не видит... 
https://i.imgur.com/RHMnsJW.jpg (113 kB)


Yevhen Maksymovych [9 hours ago]
у меня на этом этапе видит и с незакоменченными строками. ну, похоже на баг, можешь написать в багтрекер :slightly_smiling_face:

Егорро [8 hours ago]
https://i.imgur.com/wixQXIT.jpg (151 kB)

Да реально баг какой-то, только в таком виде видит все свойства и до, и после var="parsedDateTime", но код не работает - двойное объявление бина)) Обидно, показалось удобной возможностью, ну да и ладно)) (edited)


Макс Куркудюк [3:15 PM]
Що краще використовувати і в чому різниця:

<%--@elvariable id="meal" type="ru.javawebinar.topjava.model.Meal"--%>

<jsp:useBean id="meal" scope="request" type="ru.javawebinar.topjava.model.Meal"/>


Alexander Pilipenko [Today at 3:34 PM]
in #hw1
Верхнее скриплет. Везде советуют их избегать. Нижнее JSTL. Лучше использовать последнее. Все сказанное выше - ИМХО


1 reply
Макс Куркудюк [6 hours ago]
Дякую, запам'ятаю..


Jury Mironov [4:38 PM]
Всем привет. Не могу накатить патч 1_0_fix.patch, конфликты какие-то.
Не понимаю, что сделать надо, после применения ошибки появляются в классах. Не должно же быть подобных проблем? Применяю патч после патча Prepare_HW0 (edited)

Jury Mironov [4:39 PM]
uploaded this image: Snap 2018-07-05 at 16.28.10.png 


Jury Mironov [Today at 4:44 PM]
in #hw1
Похоже, что проблема в том, что патчи взял из topjava13. Как вообще решать подобные конфликты?


2 replies
Victor [7 hours ago]
просто: сделать все заново и с правильными патчами


Victor [7 hours ago]
сложно: устранять конфликты, ссылка в помощь: https://github.com/JavaOPs/topjava/wiki/Git


Victor [4:49 PM]
))) форматирование, паттерны, часы пролетели не заметно....
Оказывается все гениальное просто:
${meal.dateTime.toLocalDate()} ${meal.dateTime.toLocalTime()} и буква T волшебным образом исчезла ...... ))))))))

denis [5:53 PM]
@Jury Mironov конфликты не надо резолвить. возьми патчи topjava14

Janna [7:08 PM]
@Victor, отличная идея! элегантно!

stea1th [9:44 PM]
здрасти, вот вопрос у меня
вчера сделал так, что дату можно было по паттерну задавать, и все хорошо работало
много раз пробовал...
сегодня же постоянно пишет введите данные в указанном формате
вот код
<td><input type="text"  name="date" placeholder="<javatime:format value="${meal.getDateTime()}" pattern="yyyy-MM-dd HH:mm" />" pattern="yyyy-MM-dd HH:mm"/></td>
что там может быть не так?

stea1th [9:51 PM]
а?

Yevhen Maksymovych [9:52 PM]
не заставляй пользователя по такому сложному паттерну вводить, используй html5-инпуты, 2018-й год на дворе :slightly_smiling_face:
<input type="datetime-local">

Alexander Pilipenko [9:55 PM]
firefox против :slightly_smiling_face:

stea1th [9:55 PM]
сейчас попробую
кстати разобрался :slightly_smiling_face:

Alexander Pilipenko [9:55 PM]
Расскажи. Я использовал rexp
Но там длинно получается

stea1th [9:56 PM]
я_
?

Alexander Pilipenko [9:56 PM]
Ты :slightly_smiling_face:
Ты же разобрался почему у тебя не работали паттерны

stea1th [9:57 PM]
<javatime:parseLocalDateTime value="" pattern="yyyy-MM-dd HH:mm" />
это надо было добавить
он этот паттерн буквально вопринимал

Alexander Pilipenko [9:59 PM]
спасибо

stea1th [10:01 PM]
но вариант от @Yevhen Maksymovych мне больше понравился


Ilya V [Today at 12:56 PM]
in #hw1
Привет, никто не знает зачем при добавлении JSTL в pom.xml нужно добавлять помимо
```<dependency>
       <groupId>javax.servlet</groupId>
       <artifactId>jstl</artifactId>
       <version>1.2</version>
    </dependency>```
Ещё и вот эту хрень
 `<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>`  (edited)


9 replies
Yevhen Maksymovych [41 minutes ago]
это не хрень :disappointed:


Yevhen Maksymovych [41 minutes ago]
это неймспейс


Merkulov [41 minutes ago]
))

Yevhen Maksymovych [40 minutes ago]
ты верстаешь страницу в xml, добавляешь нестандартный тэг "с". Надо как-то показать джасперу, куда заглядывать, если у него будут вопросы, как с этим тэгом работать


Yevhen Maksymovych [40 minutes ago]
и ты даёшь ему ссылку на неймспейс, в котором содержится описание этого тега


Yevhen Maksymovych [39 minutes ago]
по факту он, конечно, не пойдёт по этому урлу. все стандартные неймспейсы зашити у него в жарнике, но спецификация этого требует


Ilya V [38 minutes ago]
да не я думал что `<@ taglib` нужно добавлять в pom.xml %) (edited)


Yevhen Maksymovych [38 minutes ago]
аа


Yevhen Maksymovych [38 minutes ago]
не, нафиг не надо :slightly_smiling_face:

realcorwin [23 hours ago]
"это не дура, это лошадь!" :slightly_smiling_face:


stea1th [12:57 PM]
эту хрень надо добавлять в jsp

Ilya V [12:57 PM]
а ok спасибо (edited)


SergeyA [Jul 7th at 7:56 PM]
in #hw1
@Grigory Kislin вопрос: сейчас наткнулся на возможность аннотации к классу сервлета:
*@WebServlet("/topjava")* 
это гораздо удобнее  чем писать в web.xml:
   <servlet>
       <servlet-name>MealServlet</servlet-name>
       <servlet-class>ru.javawebinar.topjava.web.MealServlet</servlet-class>
       <load-on-startup>0</load-on-startup>
   </servlet>
   <servlet-mapping>
       <servlet-name>MealServlet</servlet-name>
       <url-pattern>/topjava</url-pattern>
   </servlet-mapping>
И не запутаешься.
- почему в уроке не используется аннотация? (edited)


2 replies
sky [1 day ago]
Было вроде про это в видео к уроку, или текстом. Можно использовать оба варианта. Плюс web.xml в том, что там отображены все сервлеты. И если в приложении много классов и сервлетов из них тоже не мало, найти нужный в иерархии папок может оказаться непросто, если нет web.xml



Михаил [1 day ago]
Как я понял из видео - это кому как удобнее, кому-то удобнее чтобы все сервлеты были определены в одном месте - в этом XML файле, особенно если их много и проект писал не ты, глянул и сразу они все видны, а аннотации - ищи их по всему проекту.
 


Nikolay [8:43 PM]
Я так понимаю, что это просто для общего развития, так как вдальнейшим все эти сервлеты из помника должны уйти

Grigory Kislin [8:53 PM]
@SergeyA если сервлетов несколько, но удобнее в одном xml.. собственно это стандартная практика. с аннотацией кстати делаем на masterjava


Albert [9:59 PM]
uploaded and commented on this image: image.png 

У меня не разрешается uri="http://java.sun.com/jsp/jstl/core"
Albert [10:01 PM]
в помнике:
    <dependency>
           <groupId>javax.servlet</groupId>
           <artifactId>jstl</artifactId>
           <version>1.2</version>
       </dependency>
       <dependency>
           <groupId>jstl</groupId>
           <artifactId>jstl</artifactId>
           <version>1.2</version>
       </dependency>
подскажите куда копать? 
p/s клинил проект, обновлял зависимости


Vitaly [Yesterday at 10:19 PM]
in #hw1
@Albert меня смущает groupid - *jstl*


10 replies
Albert [16 hours ago]
<dependencies>
       <!-- Logging with SLF4J & LogBack -->
       <dependency>
           <groupId>org.slf4j</groupId>
           <artifactId>slf4j-api</artifactId>
           <version>${slf4j.version}</version>
           <scope>compile</scope>
       </dependency>

       <dependency>
           <groupId>org.slf4j</groupId>
           <artifactId>jcl-over-slf4j</artifactId>
           <version>${slf4j.version}</version>
           <scope>runtime</scope>
       </dependency>

       <dependency>
           <groupId>ch.qos.logback</groupId>
           <artifactId>logback-classic</artifactId>
           <version>${logback.version}</version>
           <scope>runtime</scope>
       </dependency>

       <!--Web-->
       <dependency>
           <groupId>javax.servlet</groupId>
           <artifactId>javax.servlet-api</artifactId>
           <version>3.1.0</version>
           <scope>provided</scope>
       </dependency>


       <!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-site-plugin -->
       <dependency>
           <groupId>org.apache.maven.plugins</groupId>
           <artifactId>maven-site-plugin</artifactId>
           <version>3.3</version>
       </dependency>
       <!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-deploy-plugin -->
       <dependency>
           <groupId>org.apache.maven.plugins</groupId>
           <artifactId>maven-deploy-plugin</artifactId>
           <version>2.7</version>
       </dependency>

       <dependency>
           <groupId>javax.servlet</groupId>
           <artifactId>jstl</artifactId>
           <version>1.2</version>
       </dependency>
</dependencies>
подключал и так но чего -то еще не хватает


Vitaly [16 hours ago]
так зависимости подтянулись? есть на диаграмме либо в списке библиотек?


Albert [16 hours ago]
да все подтянулось.

Vitaly [16 hours ago]
*mvn -U clean install*  пробовал?


Albert [16 hours ago]
да конечно, не лечит(


Vitaly [16 hours ago]
могу у себя попробовать, кинь ссылку на гит

Albert [16 hours ago]
https://github.com/AlbertoJava/topjava/tree/HW1


Vitaly [16 hours ago]
вроде все  работает, uri есть


Albert [15 hours ago]
Спасибо!


Vitaly [15 hours ago]
`<jsp:useBean id="meal"` исправь только, у тебя там `userBean`


Albert [2 days ago]
с нуля накатил патчи -  все подтянулось, все заработало. Такие глюки напрягают конеш... В чем косяк так и не выяснил(


Vitaly [10:20 PM]
added this Plain Text snippet: Untitled 
 <dependency>
      <groupId>javax.servlet</groupId>
      <artifactId>javax.servlet-api</artifactId>
      <version>3.1.0</version>
      <scope>provided</scope>
    </dependency>
    <dependency>
      <groupId>javax.servlet</groupId>
      <artifactId>jstl</artifactId>
      <version>1.2</version>
    </dependency>


Grigory Kislin [9:07 PM]
@Albert Alt+F1  на том месте попробуй- idea предлагает решение
