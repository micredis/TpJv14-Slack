Grigory Kislin [12:41 AM]
joined #hw0.

Grigory Kislin [12:41 AM]
set the channel purpose: https://github.com/JavaOPs/topjava

Grigory Kislin [12:41 AM]
set the channel topic: https://github.com/JavaOPs/topjava

LeoJames [6:47 PM]
joined #hw0 along with 18 others.

Daria [8:02 PM]
всем привет, подскажите плиз, что за "+5 бонусов" в описании задания Optional?

LeoJames [8:14 PM]
К карме

Daria [8:26 PM]
где эта карма считается и на что она влияет?

Vitaly [8:31 PM]
@Daria влияет на ЧСВ :slightly_smiling_face:

LeoJames [8:33 PM]
На личностный рост и внешние условия следующего воплощения:thinking_face:

Vitaly [8:33 PM]
ну тогда скорее на профессиональный, не личностный

LeoJames [8:34 PM]
Профессиональная карма качается "проверкой заданий", а выполнение опциональных задач - только личностных
Мне еще 15 очков до фаербола

Daria [8:35 PM]
т.е. никакого рейтинга лучших по окончанию стажировки, никаких доп. скидок при наборе на следующие проекты?)

Vitaly [8:36 PM]
твои знания - твоя награда

LeoJames [8:36 PM]
Рейтингами мерятся не приучены

Vitaly [8:37 PM]
имхо - в optional - не менее половины всего времени уходит на задачи, так что там немало полезного

LeoJames [8:37 PM]
Рейтинг участников определяется зарплатой и количеством ассистенток

Daria [8:38 PM]
разумно) только ассистентов тоже можно считать)

vch [8:38 PM]
@Daria бонусы - это скидки на следующие курсы

LeoJames [8:38 PM]
:thinking_face:Только миленьких

Daria [8:39 PM]
@vch ага, значит все-таки что-то есть? считается только при купленной проверке ДЗ, как понимаю?

LeoJames [8:40 PM]
Такие бонусы вроде только за приглашения

vch [8:41 PM]
@Daria Нет. Конкретно в данном случае - интересные решения принимаются от всех.

Daria [8:42 PM]
@vch, понятно, спасибо :slightly_smiling_face:

LeoJames [9:06 PM]
Почему бы просто не взять и не создать ударную группу для участия в хакатонах во время стажировки. :face_with_rolling_eyes:  Чисто от javaops и от Григория лично
Народу полно, а на мероприятия ходят пара человек в Питере и МСК. Стыдно, товарищи
:woman-lifting-weights:

MaximusWork [9:13 PM]
Что за мероприятия?

LeoJames [9:15 PM]
:confused:Эм...хакатоны
Так. Я все понял:expressionless:

MaximusWork [9:19 PM]
ААА
слышал, но не учавствовал
не до того совсем было
читал с конца, поэтому не понял про что речь


sergentum [9:23 AM]
@LeoJames удивлю наверное тебя - не все русскоязычные живут в москве и в часовом поясе москвы. может даже большинство на проекте

LeoJames [9:36 AM]
:thinking_face:А я то думал, что за мкадом нет разумной жизни ай-ай-ай.
:face_with_rolling_eyes:В онлайн мероприятиях тоже желающих раз-два и все

Большинство и не знало, что так можно


sergentum [7:44 PM]
большинство этих мероприятий проходит вероятно мимо  от полной неизвестности. некоторые про которые я слышал мне не были интересны потому что уровень был сильно выше моего. те которые прям в онлайне, и проходят в мск вечером, следовательно у меня в 00 часов - тоже не особо интересно

LeoJames [8:15 PM]
Эм. Хорошо. Платочек дать? Зачем ты мне это рассказываешь? Не хочешь, не можешь, не заинтересован и тд - мне то до этого какое дело? Я предлагаю желающим и "могущим" поучаствовать в парочке мероприятий, которые можно будет добавить в резюме или упомянуть на собеседовании, особенно в тех фирмах, которые их проводят, а до остальных мне мягко говоря...похеру. Вот доказывает мне что то

Grigory Kislin [12:29 AM]
друзья, привет!
@Daria подтвержу, что бонусы- это скидки в % на оплату других проектов (если в своем профиле javaops наведете на них, то есть подсказка)
даются за активное участие, вклад в проект а также приглашение коллег- в профиле javaops есть красная кнопка "порекомендовать коллеге"
@LeoJames по поводу хакатонов- я счас загружен поуши
но можете самоорганизоваться:) в javaops группе например создать канал и велком (edited)

alexv [9:31 PM]
Кто уже проходит есть?

Vitaly [9:56 PM]
@alexv есть
а в чем вопрос?

alexv [9:58 AM]
ищу есть ли те кто начал идти заранее по 13 группе

alexv [10:06 AM]
вместе проще

Artem [11:05 AM]
Всем привет!
Кто-то уже смог сделать первую домашку в один проход? У меня в один проход ну никак не получается. Невозможно это, по-моему)))

Valery.Shkerdin [11:20 AM]
@Artem возможно )

Artem [11:24 AM]
Но как??? В один проход? Нет, я еще понял бы в одну строку, но в один проход?
Ведь там нужно сначала объекты сгруппировать, потом преобразовать (и преобразовывать в зависимости от первой группировки), а потом отфильтровать и опять сгруппировать. Так или иначе, ту как минимум два прохода получаются...
@Valery.Shkerdin первый проход для понимая в какой день сколько каллорий, второй для преобразования из объекта UserMeal в объект UserMealWithExceed с передачей значения "превышения". (edited)

shtramak [11:28 AM]
В стримах нет проходов. Это декларативное прогр-е. Ты написал, что нужно сделать, джава сама разберется как лучше сделать
Если ты ей ты написал понятно и незамудрено, то она сделает в один проход

Artem [11:31 AM]
@shtramak Не совсем понял.. Т.е. если я пишу Stream.of(бла-бла) потом .map потом .filter потом .collect - то это считается один проход?

shtramak [11:32 AM]
Пока ты коллект не сделаешь, дажва ничего делать не будет. Может создаст какие-то объекты, но итерироваться она не будет ни по чему
Если делаешь коллект, она сделает это максимально эффективным способом.
Чтобы она это сделала это эффективно, нужно ей давать понятную ей задачу, т.е следовать общим практикам, как обычно это используют и для чего это задумывалось

realcorwin [11:35 AM]
на самом деле старые "for" производительнее, чем стримы, если они не параллельные. впрочем, и в последнем случае необходимо, чтобы отдельные итерации были затратными по времени, иначе и тут старые способы итерирования выигрывают

shtramak [11:38 AM]
То что в форах делается за два фора, стрим может сделать за один проход, объединив условия
Так что не согласен. Но там все условно, где-то выигрывает, где-то нет.

Artem [11:44 AM]
так я не и понял)))
Если в стриме идут по порядку .map .filter  .collect - то это считается одним проходом? Как по мне так это два...

Merkulov [11:44 AM]
@shtramak А вы разбирались с документацией, знаете как работает внутри стримы?

shtramak [11:45 AM]
внутрь не лез

realcorwin [11:45 AM]
посмотри видео Куксенко. он на Оракле эти стримы писал. там по производительности всё подробно разбирается (edited)

shtramak [11:46 AM]
Я так же видел бенчмарки гуавы и стримов, где стримы в 2 раза производительней

realcorwin [11:47 AM]
плюс стримов не в производительности, а в том что это иная парадигма. ты говоришь не "как делать", а "что делать". ява делает за тебя. за удобство надо платить
было бы странно, если бы оракл сделал хуже старой гуавы


Grigory Kislin [12:30 AM]
+ большие задачи можно распараллелисть одним словом parallel


Alexander Pilipenko [1:49 PM]
Нашел интересный материал
https://programmingideaswithjake.wordpress.com/2015/12/19/313/
Programming Ideas With JakeJacob Zimmerman
How Java 8 Streams Work
When I first laid eyes on Java 8's Stream API and found out that it worked lazily, I was blown away and utterly baffled. It didn't seem possible. Eventually, I was able to wrap my head around it. In this post, I'm going to go through and write up a simplified implementation, creating filter(), map(), and reduce().
В виде вывода в нем написано следующее
Starting at the base Stream of some collection, we call filter(), then map(), then reduce() on it. This results in calling reduce() from a MapStream wrapped around a FilterStream, wrapped around a basic Stream. For each iteration done inside of reduce(), it calls hasNext() on the MapStream (since the Stream is also the Iterator), which simply delegates to its wrapped Iterator, which is a FilterStream in this instance. The FilterStream loops through until it finds an object that passes the filter’s test or the end of the collection. During that looping, it uses the hasNext() and next() methods of its wrapped Iterator, which is just the base Stream in this case. It returns its calculated hasNext() value, passing it back up the chain, where it is used by reduce().

Then reduce() needs the next() value. It goes through the same chain, delegating down the wrapper hierarchy until it gets a definitive answer that gets passed back up to it.
Т.е. если верить этому сайту, то в случае .map .filter  .collect все будет сделано за 1 проход

shtramak [2:12 PM]
Все промежуточные операции, которые выполняются до терминальной - проходят за один проход по стриму... в принципе по стриму можно пройтись только один раз

Artem [2:48 PM]
@Alexander Pilipenko Большое спасибо!

Но за один проход задача HW0 все равно не решается. Ну никак. Это противоречит логике. Мы в любом случае должны сначала пройти по ВСЕМУ списку чтобы сделать группировки и узнать количество калорий за ЦЕЛЫЙ ДЕНЬ за каждый день. - и это уже будет первый проход. И уже только потом фильтровать и из каждого объекта UserMeal делать объекты UserMealWithExceed. - и это второй проход.

Да, можно сделать вложенный стрим, но в задании сказано, что нужно без вложенных.

Да, можно придумать еще хитрые способы... Можно внутри класса UserMealWithExceed хранить статический список всех UserMealWithExceed (нам же не запрещали UserMealWithExceed изменять?!) и добавить конструктор, который будет принимать еще и значение дневной нормы калорий, в этом конструкторе будем перебирать весь список объектов UserMealWithExceed, отбирать по дате, если есть избыток по дневной норме калорий, то у всех объектов меняем exceed на значение true! Жесть, извращение и говнокод))) Но зато притянутое за уши решение в один проход в методе getFilteredWithExceeded будет работать. И да, все равно получается вложенный стрим/цикл, просто мы маскируем его внутрь UserMealWithExceed. (edited)

Alexander Pilipenko [2:50 PM]
Может меня и побьют, но в комментариях был намек на то, что код можно менять
Т.е. читать как Нужно
Ну и еще 1 намек. При указании сложности более большая поглощает более маленькие
Более точно сказать не могу. Может я неправильно понимаю и все сделал неправильно. И вообще выгонят из группы

Artem [2:54 PM]
И "уволят" со стажировки еще до её начала)))))
Да не, про изменение класса я и сам ранее написал :point_up_2:

Про сложность не понял.. Что значит более большая поглощает более маленькую?)

Alexander Pilipenko [2:55 PM]
O(n) теоретически выполняется дольше чем O(log(n))
Поэтому даже если сначала выполнилась операция O(log(n)), а за ней O(n), то общая сложность будет O(n) (edited)
Это для последовательных операций
Если Одна операция выполняет другую в цикле, то они перемножатся
И будет O(n*log(n))
Если операция O(1) - то она не повлияет ни на первый ни на второй случай. И при последовательной обработке и при обработке в цикле останется O(n) (edited)
Может я и не прав, но нам так объясняли

Stanislav [3:09 PM]
uploaded this image: 20180611_180806.png 


Stanislav [3:10 PM]
O(n+n), O(n) ни как не получится

Alexander Pilipenko [3:10 PM]
Вот. А так как n - это просто какая-то величина, то O(A+B) = O(n)

Stanislav [3:10 PM]
да

Alexander Pilipenko [3:11 PM]
Индексы опускают

Stanislav [3:11 PM]
+

Alexander Pilipenko [3:11 PM]
O(n+n) = O(2n) = O(n)
В натации
Но не в реальной работе
А откуда картинка?

Artem [3:12 PM]
Хм))) В общем я понял. Все сделали примерно одинаково. Сначала собрали Мапу, потом с её помощью преобразовали элементы.

Stanislav [3:13 PM]
Карьера Программиста Г.Лакман Макдауэлл

Alexander Pilipenko [3:13 PM]
Спасибо
Спойлер :slightly_smiling_face:

Artem [3:14 PM]
@Alexander Pilipenko Спойлер - это мне?))) Думаешь, удалить лучше?)

Alexander Pilipenko [3:14 PM]
Нет
Я бы не удалял, а админ ветки потом сам решит

Artem [3:17 PM]
Ок, оставлю.
И все равно это два прохода, а не один... в моем понимании. Вот такой я зануда..:upside_down_face: (edited)

Alexander Pilipenko [3:18 PM]
Можно за 1

Artem [3:31 PM]
Вторую неделю думаю и не понимаю как.. Похоже, что узнаю на первом занятии, где будет разбираться HW0.

Tim [6:04 PM]
два прохода - это тоже O(n)
я не понял только одно - сделали hw0 и ждем теперь типа 28е число?

Vitaly [6:06 PM]
да
на проверку только отправь

Merkulov [7:26 PM]
на проверку 21 нужно отправлять

Avaaron [8:22 PM]
цикл в цикле это 2 прохода? и сортировка компоратором считается за проход?

shtramak [8:32 PM]
Два цикла по отдельности это два прохода и O(n), а цикл в цикле это O(n2), сортировка по условию не требуется

Avaaron [8:41 PM]
ну, она мне была нужна (сортировка) , для исполнения задуманного

Tanya [10:25 PM]
те, у кого оплачена топджава с проверкой, могут на проверку сейчас отправлять
если есть решение за один проход, но топджава без проверки ДЗ - то скидывайте ссылку на гитхаб мне в ЛС (edited)


Vadim [1:42 PM]
Всем привет. Как думаете, должен ли метод getFilteredWithExceeded возвращать объекты UserMealWithExceed, у которых поле exceed == false? Мне кажется, что сама возможность наличия объекта, который называется WithExceed, но на самом деле exceed == false, не логична. Только мне так кажется?

Vladimir Gorbatenko [2:02 PM]
имеется в виду с полем, которое показывает "есть ли превышение"
Vadim
Всем привет. Как думаете, должен ли метод getFilteredWithExceeded возвращать объекты UserMealWithExceed, у которых поле exceed == false? Мне кажется, что сама возможность наличия объекта, который называется WithExceed, но на самом деле exceed == false, не логична. Только мне так кажется?
Posted in #hw0Jun 12th

Vadim [2:32 PM]
Если объект называется приёмПищиСпривышением, то странно, что этот объект может существовать, когда превышения нет

Vadim [2:57 PM]
это, как минимум, не очевидно
Vladimir Gorbatenko
имеется в виду с полем, которое показывает "есть ли превышение"
https://topjava14.slack.com/archives/CAJL007L3/p1528800127000066
Posted in #hw0Jun 12th

Vadim [3:11 PM]
Мне кажется, что UserMealWithExceed не должен содержать поля exceed, т.к. оно уже исходя из названия должно быть true, и вообще зачем нам объекты UserMealWithExceed, у которых exceed == false. Как мы их используем?

Vladimir Gorbatenko [3:14 PM]
Exceeded  - это флаг. Сам класс - как адаптер.

Stanislav [3:21 PM]
UserMeal - это энтити, UserMealWithExceed - это ДТО. метод "getFilteredWithExceeded" - это мапер, удачное ли название метода, хз, можно было бы и по другому.

AlxB [3:24 PM]
@Vadim по простому. Есть флажек, который показывает переел ли пользователь. Хранить его бесмыслено, так как он вычисляем.

Stanislav [3:25 PM]
Я так понимаю что ему не нравится название метода. Исходя из названия, метод делает не то что в названии.

Vadim [3:26 PM]
аллилуйя
Stanislav
Я так понимаю что ему не нравится название метода. Исходя из названия, метод делает не то что в названии.
Posted in #hw0Jun 12th

Stanislav [3:27 PM]
Переименуй в HW :wink: + в карму тебе будет...тут много к чему можно придраться, суть не в этом.

Vadim [3:28 PM]
Пусть будет ДТО, объясните, зачем объекты с exceed == false?
Stanislav
UserMeal - это энтити, UserMealWithExceed - это ДТО. метод "getFilteredWithExceeded" - это мапер, удачное ли название метода, хз, можно было бы и по другому.
Posted in #hw0Jun 12th
я не пытаюсь придираться, просто хочу разобраться, вполне допускаю, что я не прав или что-то не до конца понимаю

Stanislav [3:30 PM]
А ты смотрел готовое приложение? этот флаг определяет раскраску строки
переел или нет и подкрашывается

shtramak [3:32 PM]
А еще у UserMealWithExceed все поля приватные и нет геттеров... )


Stanislav [Jun 12th at 3:33 PM]
in #hw0
А еще много там чего нету) В реальной работе будете писать когда еще ни чего нету, одни заглушки...


2 replies
shtramak [3 days ago]
в реальной работе по началу, как правило, колупаются в куче уже написанного легаси говнокода) А так, конечно понятно, что все будем дописывать... Просто DTO без доступа к полям совсем на него не похож)


Stanislav [3 days ago]
:slightly_smiling_face:


Vadim [3:34 PM]
Если бы все объекты UserMealWithExceed были бы с превышением, это было бы логично, а уж подкрасить их вряд ли сложно. Ну или назвать UserMealWithExceedField or UserMealWithExceedFlag

Stanislav [3:35 PM]
Как назвать корабль так он и поплывет :wink:

Artem [4:46 PM]
Про проверку домашек не совсем понял. Получается, что даже если подписка без проверки - все равн оотправлять на проверку надо?) Просто ревью не будет.. или как?)

vch [4:57 PM]
@Artem думаю, это касается только решения `Optional 2` в данном уроке... Впрочем, Григорий упоминал ещё `вклад в проект` - если ты сможешь придумать решение лучше чем его эталонное в каком-нибудь уроке или найдёшь ошибку в эталонном решении - вряд ли он откажется посмотреть. (edited)

Artem [5:14 PM]
@vch Спасибо

e.pekhterev [2:23 PM]
Всем привет)! Реализовал в цикле за 2 прохода (не понимаю, как можно сделать за один, ведь предварите @льно нужно подсчитать сколько калорий за день получается). Если у кото-то есть идеи, не отказался бы от подсказки.
Да, я так понял, что раз у меня подписка без проверки и не лучшее решение, то и отправлять не нужно на проверку? (edited)

Artem [2:26 PM]
Да, если в два прохода, то можно пока и не отправлять. Говорят можно как-то в один. Вторую неделю думаю... чем больше думаю - тем больше понимаю, что нельзя в один проход сделать..) (edited)

Stanislav [2:28 PM]
Скорее всего не правильно сформулирована задача. Скорее всего имеется ввиду сложность O(n), а не сколько циклов. Уже выше обсуждалось, 2 цикла и 1 цикл в котором вложенный цикл это разные вещи.

Artem [2:33 PM]
Да не, мы уже 14-я группа, судя по url, не могли же задачу до 14-ой группы довести и до сих пор не доформулировать корректно.

Stanislav [2:34 PM]
Тогда есть еще мысль.Что это нормально т.к. на собеседовании-на реальной работе такое будет часто, скажут какую то *** сделать, а ты встанешь ступором и не будешь знать что ответить-написать.
Я уже задачу на проверку сдавал, обсуждал с девушками (кто проверяет). Ни чего не сказали про 1 цикл (у меня решения О(n) что циклами, что стримами). Так что, не совсем корректно описана задача, хотя как выше написал, такое будет часто.

Artem [2:39 PM]
Т.е. несколькими стримами приняли как правильно решенную?)

Stanislav [2:40 PM]
На собеседовании вообще могут дичь какую нибудь спросить :slightly_smiling_face: и надо будет как то обьяснить-доказать что они спрашивают не правильно, что так не возможно, по таким то, таким причинам.
Да, 1 стрим группирует по дате и каллориям, второй делает что уже надо (смотря на результат 1).
это О(n)
вернее О(n+n) но индексы опускаются, по этому О(n)

Artem [2:42 PM]
эээээ, но мне сказали, что это классическое решение в два прохода, а должно быть (если решать "optional 2") решение в один проход.)

Stanislav [2:43 PM]
тогда хз, мне не сказали что есть другое решение, но так же сказали классическое решение...лано, видно будет что они там напридумали в начальном уроке)

Join_Selectovich [4:23 PM]
Мне тоже сразу показалось что в 1 цикл нельзя решить, но через пару недель появилась идея как это можно попробовать сделать. буду пробовать )

Artem [4:45 PM]
@Join_Selectovich Ты вот зачем сейчас это написал?))) Ты либо делись, либо не сыпь соль на рану :smiley:

Join_Selectovich [4:49 PM]
Я уже засомневался .. что все-таки это можно сделать. но может как-то динамически рассчитывать значения и сразу в этом же цикле делать маркировку строк. (edited)

Avaaron [6:59 PM]
в итоге цикл в цикле будет
я так решил


Tanya [Jun 13th at 8:50 PM]
in #hw0
ДЗ принимается
base - через циклы со сложностью O(N)
optional - стримы  со сложностью O(N)
optional 2 - один проход по mealList и сложность O(N) это уже чтобы поиграться, если есть время и желание + бонус, если получится



1 reply
Tim [23 hours ago]
потом расскажете как можно за один проход? по мне это противоречит логике: 1 проход группировка по дням с подсчет калорий, второй проход - расставление true/false каждому приему пищи


Vitaly [11:59 PM]
кому интересно - сравните время выполнения своих методов getFilteredWithExceeded через циклы, и через стримы

Tanya [12:24 AM]
только сравнивать над не в лоб, а желательно с помощью подходящих инструментов, например JMH


Grigory Kislin [1:15 PM]
в лоб- это с потолка. нужно спец. инструменты на прогретой jvm

Avaaron [1:32 PM]
я возможно ошибаюсь, но в идее вроде бы есть пердустановленный мавен

Alexander Pilipenko [2:16 PM]
На моем варианте с 2 циклами или 2 стримами (реализуют похожую логику) в JMH получил такие результаты:
# Run complete. Total time: 00:08:49

Benchmark                                       (iterations)   Mode  Cnt       Score       Error  Units
BenchMark.benchGetFilteredWithExceededByLoop               5  thrpt   20  862593.239 ± 29883.843  ops/s
BenchMark.benchGetFilteredWithExceededByLoop              10  thrpt   20  469197.070 ± 12271.461  ops/s
BenchMark.benchGetFilteredWithExceededByLoop              15  thrpt   20  294510.912 ± 13768.790  ops/s
BenchMark.benchGetFilteredWithExceededByLoop              20  thrpt   20  226841.896 ±  4487.993  ops/s
BenchMark.benchGetFilteredWithExceededByLoop              30  thrpt   20  150431.766 ±  3710.687  ops/s
BenchMark.benchGetFilteredWithExceededByStream             5  thrpt   20  718339.870 ± 18108.173  ops/s
BenchMark.benchGetFilteredWithExceededByStream            10  thrpt   20  408348.499 ± 16130.764  ops/s
BenchMark.benchGetFilteredWithExceededByStream            15  thrpt   20  288469.300 ±  7000.323  ops/s
BenchMark.benchGetFilteredWithExceededByStream            20  thrpt   20  252440.735 ±  3888.902  ops/s
BenchMark.benchGetFilteredWithExceededByStream            30  thrpt   20  150050.116 ±  5572.242  ops/s
iterations - количество заполненных дней в массиве (1 день = 3 приема пищи)

Alexander Pilipenko [2:37 PM]
# Run complete. Total time: 00:03:32

Benchmark                                       (iterations)   Mode  Cnt     Score     Error  Units
BenchMark.benchGetFilteredWithExceededByLoop             500  thrpt   20  5103.401 ±  56.740  ops/s
BenchMark.benchGetFilteredWithExceededByLoop            1000  thrpt   20  2364.176 ±  13.455  ops/s
BenchMark.benchGetFilteredWithExceededByStream           500  thrpt   20  6515.109 ± 163.518  ops/s
BenchMark.benchGetFilteredWithExceededByStream          1000  thrpt   20  2717.628 ±  28.614  ops/s

Vitaly [23 hours ago]
как-то странно, у тебя ops/s почти равны у стримов и циклов


Alexander Pilipenko [23 hours ago]
На больших количествах стримы даже выиграли


Vitaly [23 hours ago]
просто у меня больше разница вышла между обычным циклом и стримом


Alexander Pilipenko [23 hours ago]
После первого урока могу скинуть код задания


Alexander Pilipenko [23 hours ago]
Или сейчас код запуска бенчмарка


Alexander Pilipenko [23 hours ago]
А на коком количестве записей ты тестировал?


Vitaly [23 hours ago]
мне код самих методов не нужен, скинь бенчмарк просто


Vitaly [23 hours ago]
сейчас мой бедный ноут дожжужит, скину


Vitaly [23 hours ago]
я вот по поводу Fork - не очень понял смысл


Alexander Pilipenko [2:47 PM]
added this Java snippet: BenchMark.java 
package ru.javawebinar.topjava;
​
​
​
import com.google.common.hash.HashFunction;
import com.google.common.hash.Hasher;
import com.google.common.hash.Hashing;
import org.openjdk.jmh.annotations.*;
import ru.javawebinar.topjava.model.UserMeal;
import ru.javawebinar.topjava.model.UserMealWithExceed;
import ru.javawebinar.topjava.util.UserMealsUtil;
​
import java.nio.charset.Charset;
import java.time.LocalDateTime;
import java.time.LocalTime;
import java.time.Month;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.Random;
​
public class BenchMark {
​
  @State(Scope.Benchmark)
  public static class ExecutionPlan {
​
    List<UserMeal> mealList;
​
    @Param({ "5", "10", "15", "20", "30" })
    public int iterations;
​
    @Setup(Level.Invocation)
    public void setUp() {
​
​
      Random random = new Random();
​
      mealList = new ArrayList<>();
      for (int i=1; i<iterations; i++) {
        mealList.add(new UserMeal(LocalDateTime.of(2015, Month.MAY, i, 10, 0), "Завтрак", 300+i*14));
        mealList.add(new UserMeal(LocalDateTime.of(2015, Month.MAY, i, 13, 0), "Обед", 500+i*10));
        mealList.add(new UserMeal(LocalDateTime.of(2015, Month.MAY, i, 20, 0), "Ужин", 200+i*13));
      }
    }
  }
​
  @Fork(value = 1, warmups = 1)
  @Benchmark
  @BenchmarkMode(Mode.Throughput)
  @Warmup(iterations = 5)
  public void benchGetFilteredWithExceededByStream(ExecutionPlan plan) {
​
    UserMealsUtil.getFilteredWithExceededByStream(plan.mealList, LocalTime.of(7, 0), LocalTime.of(12, 0), 2000);
​
  }
​
  @Fork(value = 1, warmups = 1)
  @Benchmark
  @BenchmarkMode(Mode.Throughput)
  @Warmup(iterations = 5)
  public void benchGetFilteredWithExceededByLoop(ExecutionPlan plan) {
​
    UserMealsUtil.getFilteredWithExceededByLoop(plan.mealList, LocalTime.of(7, 0), LocalTime.of(12, 0), 2000);
​
  }
​
}


Alexander Pilipenko [2:47 PM]
added this Java snippet: BenchmarkRunner.java 
package ru.javawebinar.topjava;
​
public class BenchmarkRunner {
​
  public static void main(String[] args) throws Exception {
    org.openjdk.jmh.Main.main(args);
  }
​
}
Collapse 

Alexander Pilipenko [2:47 PM]
added this XML snippet: pom.xml 
<project xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://maven.apache.org/POM/4.0.0"
     xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
​
  <groupId>ru.javawebinar</groupId>
  <artifactId>topjava</artifactId>
  <packaging>jar</packaging>
​
  <version>1.0-SNAPSHOT</version>
​
  <name>Calories Management</name>
  <url>http://topjava.herokuapp.com/</url>
​
  <properties>
    <java.version>1.8</java.version>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
  </properties>
​
  <build>
    <finalName>topjava</finalName>
    <defaultGoal>install</defaultGoal>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-compiler-plugin</artifactId>
        <version>3.7.0</version>
        <configuration>
          <source>${java.version}</source>
          <target>${java.version}</target>
        </configuration>
      </plugin>
    </plugins>
  </build>
​
  <dependencies>
    <dependency>
      <groupId>org.openjdk.jmh</groupId>
      <artifactId>jmh-core</artifactId>
      <version>1.19</version>
    </dependency>
    <dependency>
      <groupId>org.openjdk.jmh</groupId>
      <artifactId>jmh-generator-annprocess</artifactId>
      <version>1.19</version>
    </dependency>
    <dependency>
      <groupId>com.google.guava</groupId>
      <artifactId>guava</artifactId>
      <version>18.0</version>
    </dependency>
​
  </dependencies>
​
  <profiles>
  </profiles>
​
  <dependencyManagement>
  </dependencyManagement>
</project>
Collapse 

Vitaly [2:56 PM]
uploaded this image: image.png 


Alexander Pilipenko [3:06 PM]
Это на каком количестве записей?

Vitaly [3:06 PM]
5
iteration
2 дня, 6 записей

Alexander Pilipenko [3:19 PM]
Странно, что у тебя стримы на малом количестве быстрее
# Run complete. Total time: 00:02:39

Benchmark                                       (iterations)   Mode  Cnt        Score       Error  Units
BenchMark.benchGetFilteredWithExceededByLoop               2  thrpt   40  1962076.081 ± 44780.327  ops/s
BenchMark.benchGetFilteredWithExceededByStream             2  thrpt   40  1311009.308 ± 16205.788  ops/s

Process finished with exit code 0
Или это по среднему времени?

Vitaly [3:20 PM]
среднее
Fork - value - это что? какой физический смысл?

Alexander Pilipenko [3:22 PM]
http://www.baeldung.com/java-microbenchmark-harness
Baeldung
Microbenchmarking with Java | Baeldung
Learn about JMH, the Java Microbenchmark Harness.
Jul 24th, 2017
By using the @Fork annotation, we can set up how benchmark execution happens: the value parameter controls how many times the benchmark will be executed, and the warmup parameter controls how many times a benchmark will dry run before results are collected, for example:
По среднему времени у меня не сработало :slightly_smiling_face:
# Run complete. Total time: 00:02:38

Benchmark                                       (iterations)  Mode  Cnt   Score    Error  Units
BenchMark.benchGetFilteredWithExceededByLoop               2  avgt   40  ≈ 10⁻⁶            s/op
BenchMark.benchGetFilteredWithExceededByStream             2  avgt   40  ≈ 10⁻⁶            s/op

Vitaly [3:25 PM]
поставь наносекунды, интересно ж
он округлил просто сильно

Alexander Pilipenko [3:30 PM]
# Run complete. Total time: 00:02:39

Benchmark                                       (iterations)  Mode  Cnt    Score    Error  Units
BenchMark.benchGetFilteredWithExceededByLoop               2  avgt   40  523.923 ± 18.749  ns/op
BenchMark.benchGetFilteredWithExceededByStream             2  avgt   40  749.729 ± 17.808  ns/op

Vitaly [3:34 PM]
ну да, примерно то же соотношение, что у меня


Stanislav [Yesterday at 4:14 PM]
in #hw0
Я надеюсь решение в 1 проход (Option 2) не из разряда "не правильного программирования", типа, создать статическую мапу класса UserMeal и ложить туда суммированные калории по дням :slightly_smiling_face: А то такого г** можно много придумать.


4 replies
Tim [20 hours ago]
это 2 прохода все равно, сначала надо заполнить мапу


Stanislav [19 hours ago]
В конструкторе...


Grigory Kislin [19 hours ago]
1. а почему  статическую мапу в  UserMeal? ее где угодно можно сделать
2. и как она поможет?


Stanislav [18 hours ago]
Вообще мысль была, на этапе создания UserMeal как то суммировать калории (хэш, или вот статик мапу<Date, калории> на класс и в конструкторе заполнять). Но это ерунда 1. Нет уникальности, если объект был бы persist, но то же не то 2. Очищать мапу....в общем ерунда...
Тут скорее всего или не правильно мы понимаем "Option 2" или не правильно сформулировано. 1 проход по листу UserMeal, O(n)...Можно при проходе запоминать калории и создавать DTO, как только привысил максимум калорий перебирать созданые DTO и изменить флаг. Но то же мне это не нравится, хотя и 1 проход пл листу с UserMeal, а вот сложность О я затрудняюсь измерить.


Crazz [6:05 PM]
как вариант можно складывать отфильтрованное в 2 захардкоженных списка - один exceed true, другой false

Stanislav [6:39 PM]
Тут не сам алгоритм, а структуру менять надо. 1 цикл, на первом проходе уже надо знать exceed или нет. Тот же exceed финальный, то есть потом не поменяешь (да и смысл, все равно если менять тот же цикл в цикле будет). Хэшировать на момент создания энтити тоже маразм....

Andy Fleer [8:26 PM]
Подскажите где есть внятное объяснение как прицепить JMH к проекту

Alexander Pilipenko [9:13 PM]
Выше был туториал

Andy Fleer [9:59 PM]
Уточню вопрос


Andy Fleer [Yesterday at 9:59 PM]
in #hw0
import org.openjdk.jmh.annotations.Benchmark;
идея не видит


59 replies
Vitaly [16 hours ago]
зависимости в pom.xml поставил?


Andy Fleer [15 hours ago]
Да. Но вот сейчас доходит до меня, что OpenJDK это не то же что JDK от Oracle


Andy Fleer [15 hours ago]
похоже в этом дело


Andy Fleer [15 hours ago]
Так?


Alexander Pilipenko [15 hours ago]
Нет

Alexander Pilipenko [15 hours ago]
Когда пропишешь в pom.xml должны, потом нужно сделать maven -> reimport


Alexander Pilipenko [15 hours ago]
Будут скачаны необходимые jar файлы


Alexander Pilipenko [15 hours ago]
После этого все должно нормально быть

Andy Fleer [15 hours ago]
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
   <modelVersion>4.0.0</modelVersion>

   <groupId>jmh-test</groupId>
   <artifactId>jmh-test</artifactId>
   <version>1.0-SNAPSHOT</version>

   <dependencies>
       <dependency>
           <groupId>org.openjdk.jmh</groupId>
           <artifactId>jmh-core</artifactId>
           <version>1.19</version>
           <scope>system</scope>
           <systemPath>${project.basedir}/src/main/resources/jmh-core-1.19.jar</systemPath>
       </dependency>
       <dependency>
           <groupId>org.openjdk.jmh</groupId>
           <artifactId>jmh-generator-annprocess</artifactId>
           <version>1.19</version>
           <scope>system</scope>
           <systemPath>${project.basedir}/src/main/resources/jmh-generator-annprocess-1.19.jar</systemPath>
       </dependency>
   </dependencies>

</project>


Andy Fleer [15 hours ago]
Всё так?


Andy Fleer [15 hours ago]
От реимпорта легче не становится


Andy Fleer [15 hours ago]
О!


Andy Fleer [15 hours ago]
Есть контакт


Andy Fleer [14 hours ago]
Я не реипортом jarы качал, а руками закинул в директорию resources и прописал к ним путь


Andy Fleer [14 hours ago]
Это был не лучший путь


Andy Fleer [14 hours ago]
А вообще какая общая стратегия? Добавляю JMH в рабочий проект или делаю тестовый проект, куда пересаживаю части для тестирования? Как опыт подсказывает? Как добрее и разумней?


Alexander Pilipenko [14 hours ago]
Разработчики рекомендуют отдельный MAVEN/GRADEL проект в который копируются jar c тестируемой частью (edited)


Alexander Pilipenko [14 hours ago]
А в pom.xml меня очень смущают строки  <systemPath>${project.basedir}/src/main/resources/jmh-core-1.19.jar</systemPath>


Alexander Pilipenko [14 hours ago]
Скорее всего не туда копировалось



Vitaly [14 hours ago]
я отходил, но вижу все решилось :grin:

Vitaly [14 hours ago]
@Andy Fleer искренне советую посмотреть/почитать про мавен, мне кажется здесь у вас пробел, это оч важный аспект


Andy Fleer [14 hours ago]
Однозначно пробел

Vitaly [14 hours ago]
можно сказать - бросьте все и займитесь, дальше будут везде зависимости, плагины, сборка проекта, и т.д., это правда просто, но будет отвлекать


Andy Fleer [14 hours ago]
Есть мысли о вменяемом ресурсе или учебном курсе на тему


Andy Fleer [14 hours ago]
Английский подходит

Vitaly [14 hours ago]
Ща

Andy Fleer [14 hours ago]
На Юдеми были курсы с Maven но кажется вместе с Nod-ом

Vitaly [14 hours ago]
https://proselyte.net/tutorials/maven/
PROSELYTE
Руководство по Maven (полная версия).
Руководство по Maven (полная версия). Введение. Файл POM. Жизненный цикл сборки проектов. Профили сборки. Репозитории. Плагины. Создание проекта. Сборка и тестирование проекта. Внешние зависимости.… (16 kB)
Mar 26th, 2016 at 10:24 PM


Vitaly [14 hours ago]
на ютубе море, на офиц сайте тоже есть достаточно много

Andy Fleer [14 hours ago]
Отлично

Andy Fleer [14 hours ago]
Изучу

Vitaly [14 hours ago]
на проселайт - основа есть в принципе

Vitaly [14 hours ago]
если мало будет: 
https://www.tutorialspoint.com/maven/maven_overview.htm
www.tutorialspoint.com
Maven Overview
Maven Overview - Learn Maven in simple and easy steps starting from basic to advanced concepts with examples including Overview, Environment Setup, POM, Build Life Cycle, Build profiles, Repositories, Plug-ins, Creating Project, Build & Test Project, External Dependencies, Project Documents, Project Templates, Snapshot, Build Automation, Dependency Management, Deployment Automation, Web Application, Eclipse IDE, Netbeans IDE, IntelliJ IDEA.


Andy Fleer [14 hours ago]
Как сконфигурировать проект чтобы запускался с Main в BenchMarkRunner


Vitaly [14 hours ago]
это отдельный учебник на 120 стр, с примерами, но на англ., но большая часть все равно стразу не нужна будет, все равно вылетит, лучше вернуться осознанно, когда что-нибудь не взлетит


Andy Fleer [14 hours ago]
Edit Configurations здесь другие (в Ultimate)


Vitaly [14 hours ago]
я в смятении..

Vitaly [14 hours ago]
вы про мавен архетип?


Andy Fleer [14 hours ago]
)))

Andy Fleer [14 hours ago]
Прости, дорогой))))


Andy Fleer [14 hours ago]
Я же мануал еще не прочитал))


Andy Fleer [14 hours ago]
Когда я создаю проект Maven


Andy Fleer [14 hours ago]
Накидываю туда несколько классов


Andy Fleer [14 hours ago]
В одном из них Main


Andy Fleer [14 hours ago]
как я говорю Maven где тот класс в котором нужный для запуска main


Andy Fleer [14 hours ago]
?

Vitaly [14 hours ago]
src/main/java ->> а дальше делай что хочешь, главное структура каталогов. мавен сам разберется


Vitaly [14 hours ago]
мавен не запускает класс


Vitaly [14 hours ago]
в данном случае, он просто обеспечивает библиотеки


Vitaly [14 hours ago]
1. сделать проект мавен


Vitaly [14 hours ago]
2. добавить в dependencies нужные библиотки, посмотреть чтобы подтянулись


Vitaly [14 hours ago]
3. все, делаешь классы

Vitaly [14 hours ago]
вот неплохое видео
https://www.youtube.com/watch?v=gv60974ebDY
YouTube Java Beginners Supplimentary Videos
Maven: создание простейшего проекта
 


Andy Fleer [14 hours ago]
Заработало!!


Andy Fleer [14 hours ago]
Надо было в конфигурации поставить чекбокс  Resolve Workspace Artifacts


Andy Fleer [14 hours ago]
И жизнь наладилась


Andy Fleer [14 hours ago]
На примере работает


Andy Fleer [14 hours ago]
Спасибо большое


Andy Fleer [14 hours ago]
Завтра двинусь дальше


Join_Selectovich [11:25 AM]
Кто-нибудь правильно решил HW0 задачу за один проход по массиву? (edited)


Grigory Kislin [1:56 PM]
Коллеги, привет!
@Join_Selectovich 1. да, решения есть. но до 28 не публикуем.
2. разбор всех решений будет 28.06- на первом занятии


Andrew Kuzin [4:51 PM]
Benchmark                                Mode  Cnt    Score   Error  Units
UserMealsUtil.testCycleFunc  avgt   20  289,415 ± 6,574  ns/op
мой результат в JMH.

Alexander Pilipenko [5:18 PM]
Это с 1 проходом по массиву?

Andrew Kuzin [6:03 PM]
да.

Andy Fleer [6:41 PM]
А вообще когда тестируем стоит же делать шаффл листа. Как считаете? Указано вроде было не ожидать, что лист отсортированный будет

Andy Fleer [8:13 PM]
uploaded and commented on this image: stat.png 

Друзья, проверьте меня. Правильно ли я читаю результаты тестов JMH. Три алгоритма.

Andy Fleer [8:13 PM]
Так вот. Я читаю
Первый совсем не хороший ибо N*N
Второй и третий приемлемые O(N)
При этом второй в два раза быстрее третьего
всё так я понимаю?

Alexander Pilipenko [8:17 PM]
Лучше выложи в avgt
Будет проще сравнивать
Я бы на то что отсортировано не рассчитывал (по заданию) и сортировать это минимум n*log(n) https://topjava14.slack.com/archives/CAJL007L3/p1529077304000223 (edited)
Andy Fleer
А вообще когда тестируем стоит же делать шаффл листа. Как считаете? Указано вроде было не ожидать, что лист отсортированный будет
Posted in #hw0Jun 15th

Andy Fleer [8:20 PM]
Александр, а чтобы в среднем времени показывались ns или что-то такое как настраивать? Ибо он показывает мне в экспоненциальном представлении, а это не очень удобно для чтения

Alexander Pilipenko [8:21 PM]
http://tutorials.jenkov.com/java-performance/jmh.html
tutorials.jenkov.com
JMH - Java Microbenchmark Harness
JMH (Java Microbenchmark Harness) is a toolkit that helps you implement Java microbenchmarks correctly. JMH is developed by the same people who implement the Java virtual machine, so these guys know what they are doing. This JMH tutorial will teach you how to implement and run Java microbenchmarks with JMH.
http://tutorials.jenkov.com/images/java-performance/java-performance-teaser-500-300.png
@OutputTimeUnit(TimeUnit.MINUTES)

Andy Fleer [8:23 PM]
О!
Спасибо от души
делаю

Andy Fleer [8:36 PM]
uploaded this image: stat.png 


Alexander Pilipenko [8:45 PM]
Красиво выглядит и очень наглядно. n*n это что-то

Andy Fleer [2:38 AM]
Возвращаясь к вопросу) Правильно ли я истолковываю эти данные.
Первый совсем не хороший ибо N*N
Второй и третий приемлемые O(N)
При этом второй в два раза быстрее третьего
всё так я понимаю?
И о каких ошибках гoворит колонка Error?

Andy Fleer [2:52 AM]
А выглядит и правда шикарно))))

Andrew Kuzin [4:50 AM]
error, как я понял говорит о разнице между самым быстрым результатом и средним значением.

Alexander Pilipenko [10:00 AM]
Все правильно. n*n очень сильно растет количество выполняемых операций с увеличением объема обрабатываемых данных. Все эти О не говорят о том что дольше выполняется. Они говорят о том по какой закону будет увеличиваться количество проделанных операций при увеличении количества обрабатываемых данных
https://m.habr.com/post/188010/
Хабр
Знай сложности алгоритмов
Эта статья рассказывает о времени выполнения и о расходе памяти большинства алгоритмов используемых в информатике. В прошлом, когда я готовился к прохождению...
https://habrastorage.org/getpro/habr/post_images/3da/386/eed/3da386eed54c16ff73b647b383aea085.png

Andy Fleer [11:18 AM]
:+1: Спасибо!

Avaaron [12:14 PM]
Первое занятие будет 28.06?
@Grigory Kislin если я правильно понял первое занятие с разбором вводного 28.06 будет?

Alexander Pilipenko [12:51 PM]
https://topjava14.slack.com/archives/CAJL007L3/p1529060212000077
Grigory Kislin
Коллеги, привет!
@Join_Selectovich 1. да, решения есть. но до 28 не публикуем.
2. разбор всех решений будет 28.06- на первом занятии
Posted in #hw0Jun 15th

Avaaron [1:26 PM]
я поэтому и переспросил..ибо ранее указывалась другая дата.., пораньше

Andy Fleer [1:31 PM]
Есть требования по комментам в домашках?

Grigory Kislin [3:56 PM]
@Andy Fleer требования по комментариям- код должен быт максимально понятный, так что лучше без них
но если в редких случаях они требуются- то обязательно
мне не приходилось участвовать в проектах с обязательными javadoc (edited)

tim [8:51 AM]
Так а 21.06 что будет? Начало же 21.06?
Grigory Kislin
Коллеги, привет!
@Join_Selectovich 1. да, решения есть. но до 28 не публикуем.
2. разбор всех решений будет 28.06- на первом занятии
Posted in #hw0Jun 15th

Join_Selectovich [12:18 PM]
uploaded and commented on this image: image.png 

Так будет 21.06 что-то или как?
e.pekhterev [12:48 PM]
21-го начинается курс, с этого момента до 28-го нужно пройти вводное занятие и выполнить ДЗ, которое будет обсуждаться на первом занятии 28.06. 
Ну это как я понял.
Просто кто то раньше пришел (до 21-го), а кто ещё только делает тестовое задание (на джавараше прием заявок идет до 20-го июня включительно. И им нужно будет время на прохождение вводного занятия и выполнения ДЗ

Join_Selectovich [12:53 PM]
томительно ждать, за это время можно уже и подзабыть что ты там нарешал пару недель назад, скорей бы уже началось..

e.pekhterev [12:57 PM]
можно пока почитать книжечку Spring in Action, что я и делаю)))

Stanislav [12:58 PM]
Oh my God, это получается Javarush сотрудничает с этим проектом и как раз их стажировка это и есть этот проект....
?
Javarush :nauseated_face:

tema.emelyan [12:59 PM]
@Stanislav я так понял

e.pekhterev [1:01 PM]
так и есть, я пришел на стажировку с джавараша. только я не понял, в чем тут проблема то? (edited)

tema.emelyan [1:02 PM]
не знаю чо так на джавараш все так гонят, валидатор якобы там полный отстой и лекции говно. скорее всего так, но для многих людей какя-никакая структура изучения
кстати, пока не разгорелось, можно во #flooding свалить
:smiley:

e.pekhterev [1:03 PM]
прошел всё 40 уровней джавараша, всё там нормально, идеальных вещей не бывает, да и на будущей работе заказчик будет ещё хуже любого валидатора в цать раз - в том смысле, что ну совсем не понятно чего он реально хочет))) (edited)


Stanislav [Yesterday at 1:09 PM]
in #hw0
Не в валидаторе дело, долго писать, на ютубе есть ревью Javarush не ноунейм людей


2 replies
kunduz [19 hours ago]
знаю у Немчинского что-то вроде ревью есть, а какие еще люди?


Stanislav [19 hours ago]
Петр Арсентьев, в ютубе набери, вылезет список


LeoJames [1:11 PM]
Это проект Григория, а JavaRush сюда периодически подбрасывает мяска, которое в виду своей упорности или упоротости смогло пройти это болото, раньше они свою стажировку делали

Stanislav [1:11 PM]
ясно

LeoJames [1:12 PM]
Но это как в игре Марко Поло, если кто то крикнет "JavaRush - ты должен крикнуть "Говно!"
:grin:


LeoJames [Yesterday at 1:14 PM]
in #hw0
То что у тебя хватило мозгов пройти сюда - тебя реабилитирует от JavaRush, но в приличном обществе о нем не стоит упоминать


17 replies
Макс Куркудюк [17 hours ago]
Якщо сам не пробував, нема чого критикувати.


LeoJames [17 hours ago]
:thinking_face:Обязательно какаху пробовать на вкус, что бы понять, что это какаха?


Макс Куркудюк [17 hours ago]
Ти не правий.
Скільки часу тобі було потрібно, щоб дійти до даного стажування? (edited)


LeoJames [17 hours ago]
Это далеко не первый мой ЯП. Я уже 8 лет работаю.


LeoJames [17 hours ago]
И в любом случае я сперва делал основу из математики, алгоритмов и логики. Так что много


Макс Куркудюк [17 hours ago]
А я з повного нуля, за 3 місяці.
Я розумію, що всеодно багато чого не знаю, але - 3 місяці...

LeoJames [17 hours ago]
И это что то значит? Как это связано с JR?


Макс Куркудюк [17 hours ago]
За 3 місяці на JR.


Макс Куркудюк [17 hours ago]
Тому для мене даний курс відкрив великі можливості, за що йому вдячний.

Макс Куркудюк [17 hours ago]
Ну, тут ціниться саме проходження даного стажування, тому краще поговоримо при завершенні даного курсу. Успіху)

LeoJames [17 hours ago]
:face_with_rolling_eyes:

LeoJames [17 hours ago]
Можно было задонатить Григорию и пройти сюда быстрее и намного эффективнее через Start и Base - за упоминание которых, на том самом JavaRush можно схлопотать перманентный бан, что бы паства не ушла


Макс Куркудюк [16 hours ago]
Я розумію, що є багато курсів і кожен хороший по своєму. Так вийшло, що я потрапив саме на JR і саме він мене дуже зацікавив. Я лиш зараз дізнався про Start і Base, тому не можу про них нічого сказати. 
Мені сподобався JR тим, що курс можеш проходити в будь-який час і скільки-завгодно часу. От це - супер! А так, то там звісно є недоліки, помилки, іноді виносячі мізки... але загалом, для мене - це був хороший старт.


LeoJames [16 hours ago]
То что ты ложкой из дерьма вырыл котлован это тебе респект и уважуха, но это никак не отменяет тот факт, что сам проект JR, под управлением новой администрации, существует только для выкачивания денег из новых подписчиков и я более чем уверен, что не попадись ты на их рекламу, на которую они вливают бешеные ресурсы, и попав бы на нормальный курс - твой результат был бы еще лучше

Макс Куркудюк [16 hours ago]
Так, я читав, що раніше курс був досить дешевший і було більше безкоштовних рівнів, але мені не дуже шкода витрачених грошей, бо - це таки підганяло швидше вчитись. Але, все ж знання того варті. )
І все ж - головне бажання людини вчитись, розуміти і не здаватись. Без цього, я б давно вже закинув дану затію і далі б продовжував шукав, де б себе реалізувати...


Макс Куркудюк [16 hours ago]
І да, мені таки нема з чим порівнювати JR...


Макс Куркудюк [16 hours ago]
Тому з нетерпінням чекаю початку даного стажування, щоб здобути досвід і в такому форматі навчання:slightly_smiling_face: , + до всіх інших плюсів.


Stanislav [1:16 PM]
Может вообще лучше ни чего не говорить о курсах :thinking_face: Может лучше свой проект-ы сделать, что бы было хоть что показать.

LeoJames [1:18 PM]
Лучше, но тут это не прокатывает (edited)
народ ленивый

e.pekhterev [1:20 PM]
LeoJames, ты сам учился на джавараше?

tema.emelyan [1:21 PM]
народ, давайте во флудилку отсюда

LeoJames [1:21 PM]
Мне провели мастеркласс по нему

tema.emelyan [1:21 PM]
#flooding

realcorwin [1:33 PM]
тот, кто считает, что здесь хорошо, не может утверждать, что JR - плохо, потому что JR ведёт сюда :slightly_smiling_face:

Stanislav [1:35 PM]
Мое мнение, что пока свой собственный проект худо-бедно не начать делать, толку мало. С момента начала изучения Java до сейчас, я уже раз 10 свой проект переписал :slightly_smiling_face:

realcorwin [1:36 PM]
у каждого свой путь. трудно сравнивать. и не нужно :slightly_smiling_face:

LeoJames [2:12 PM]
@Stanislav Ссыль на проект в студию

Stanislav [2:13 PM]
по гиту посмотри, но много что у меня локально т.к. затирал гит-начинал заново и т.д. так же нет последних коммитов.

Ma3stro [5:17 PM]
Пилю Benchmark тесты. Так и не понял, что он от меня хочет. @State поставил на UserMeal. Методы пометил @Benchmark и @BenchmarkMode(Mode.Throughput)
`Error:(30, 45) java: Method parameters should be either @State classes`

Stanislav [5:30 PM]
@Ma3stro https://stackoverflow.com/questions/43251310/how-to-get-rid-of-method-parameters-should-be-state-classes-in-jmh-when-param
Stack Overflow
How to get rid of "Method parameters should be @State classes" in JMH when parameters come from another method?
I'm working on a maven project. The scenario is something like below... class Test { public void applyAll() { .................... .................... Collection<

Andy Fleer [9:17 PM]
Spring in action 13 года актуальна книга?
Привет

Макс Куркудюк [9:21 PM]
В інтернеті є 15 року книги для скачування. Краще по-свіжіше..

Ma3stro [9:21 PM]
Я не находил свежее с переводом

Andy Fleer [9:31 PM]
На английском вижу 14 года есть
свежее пока не нашел
Макс, ты свяжее видел?

Макс Куркудюк [9:36 PM]
Через хвилин 10 надішлю

Andy Fleer [9:39 PM]
:+1:

e.pekhterev [9:41 PM]
только третье издание на русском, после прочтения можно посмотреть, что появилось в 4-ой и 5-ой версии

Макс Куркудюк [9:48 PM]
uploaded and commented on this file 
Spring4 для  профессионалов,  4-е  изд 2015.pdf
110 MB PDF

На здоров'я)

Vitaly [9:55 PM]
так это разные книги, в принципе

Макс Куркудюк [9:56 PM]
Я знаю, але - це Spring4.

Vitaly [9:57 PM]
а я уже обрадовался, после слов - "через 10 минут пршлю" - думал счастье будет
:grin:

Макс Куркудюк [9:59 PM]
Ну, Spring in action таки лиш 3 з перекладом є...

Vitaly [10:00 PM]
ProSpring 5 - на англ норм читается, но Spring in action 4 - мне хочется убить автора... куча воды.. мусора и фразеологизмов, которые стараешься перевести, а потом оказывается это была шутка не к месту.. и так всю книгу.. (edited)

Макс Куркудюк [10:00 PM]
А тут пишеться:
Удаление устаревших пакетов и методов, относящихся к предыдущей  версии
Spring 3
тому читаю цю книгу.

Vitaly [10:00 PM]
я в итоге плюнул, просто читаю референс

Макс Куркудюк [10:00 PM]
Це було про одне з покращень Spring 4
Так, референс - це таки самий свіжіший варіант.


Ramil [Today at 9:30 AM]
in #hw0
зачем нужно менять фон на дежавю?



1 reply
Artem [34 minutes ago]
Гы) Я тоже когда пришел - спрашивал.
Сказали, что не надо менять. Считай, что это просто инструкция на будущее чтобы ты знал как это делать. 
А на проект это никак не повлияет. Если все нравится - оставляй шрифт какой есть.


Ramil [9:30 AM]
фонт*

tema.emelyan [9:38 AM]
нужно менять на Source Code Pro

Join_Selectovich [9:40 AM]
а чем дефолтный плох?

Ramil [9:43 AM]
ну хз, я в инструкции https://github.com/JavaOPs/topjava#%D0%92%D0%B2%D0%BE%D0%B4%D0%BD%D0%BE%D0%B5-%D0%B7%D0%B0%D0%BD%D1%8F%D1%82%D0%B8%D0%B5 написано, что надо менять
GitHub
JavaOPs/topjava
topjava - Java Enterprise: Maven/ Spring/ Security/ JPA(Hibernate)/ REST(Jackson)/ Bootstrap(CSS)/ jQuery

tema.emelyan [10:13 AM]
дело вкуса, мне соурс код нравится, Григорию видимо дефолтный не по душе. Я ещё в настройках люблю поставить отличие интерфейсов от классов по цвету, чтобы сходу понятно было кто есть кто, когда код читаешь


Maxim Gusev [10:51 AM]
added and commented on this Java snippet: Untitled 
public static List<UserMealWithExceed> getFilteredWithExceeded(List<UserMeal> mealList, LocalTime startTime, LocalTime endTime, int caloriesPerDay)
В каком промежутке времени нам нужно посчитать превышение калорий, т.е. зачем нужны startTime и endTime? Нам нужно учитывать приемы пищи, которые были осуществлены в каждый из дней в интервале (startTime, endTime)?

Join_Selectovich [10:53 AM]
да

Maxim Gusev [10:55 AM]
То есть, например, при интервале 10:00-18:00, если прием пищи был в 18:05, то он никак не учитывается и в return не попадает?
Join_Selectovich
да
Posted in #hw0Jun 20th

shtramak [10:55 AM]
Нужно сосчитать сумму всех приемов пищи за каждый полный день и уже от этого ставить булеан переменную
Но в результирующем листе будут приемы только в указанном диапазоне времени

Maxim Gusev [11:00 AM]
Понял, сначала считаем все превышения, а затем фильтруем в соответствии с заданным пользователем временем
shtramak
Нужно сосчитать сумму всех приемов пищи за каждый полный день и уже от этого ставить булеан переменную
Posted in #hw0Jun 20th

shtramak [11:04 AM]
Ну типа того, но так ты себе делаешь задачу из 3 действий, типа сосчитать сумму, считать первышение/непревышение , фильтровать дату. Хотя 2 фильтра можно применять сразу

Stanislav [11:06 AM]
Действия: 1. Мапа<LocalDate, Integer> 2. Создаем DTO, флаг выставляем на основе мапы
А вот задача по Option2, уже сложнее

shtramak [11:07 AM]
)) это ты уже решение сливаешь, эт неинтересно)

Stanislav [11:07 AM]
Да тут и идиот поймет - надеюсь ни кого не обидел...тут же все логически

shtramak [11:08 AM]
Грубо :(

Stanislav [11:08 AM]
А вот в 1 проход, надо менять структуру как то
извиняюсь

shtramak [11:08 AM]
Люди слишком разные))

Stanislav [11:08 AM]
Извиняюсь, эмоции :disappointed:

Ramil [11:09 AM]
"Optional 2 (+5 бонусов)"
что за бонусы?

Stanislav [11:09 AM]
В твоем профиле есть, уже обсуждали...грубо говоря "скидка на след. проекты"
Не столь интересны бонусы, сколько, а сможешь ли...
Сколько думал, не могу придумать решение Option2, уже и модель менял под себя хз, не нравятся мне решения...Интересно увидеть решение от проекта

e.pekhterev [11:14 AM]
а что ты менял и в каком классе конткретно?

Stanislav [11:15 AM]
Если подумать, 1 проход, 1 раз когда создаем DTO уже надо знать, превысили мы порог еду или нет. Значит где то надо это хранить, усложнять model DAO выходит за рамки парадигмы model DAO, делать какие то обертки то же ерунда какая то.

e.pekhterev [11:15 AM]
так то решение в один проход есть, но оно совсем не очевидное

Stanislav [11:16 AM]
Я писал в 1 проход, но в лучше случае O(n) в худшем (On*n), не вариант.

e.pekhterev [11:16 AM]
это не один проход))) это n в квадрате)

Stanislav [11:17 AM]
n2 = n*n  разве нет?)
2 на верху не могу написать

Join_Selectovich [11:17 AM]
:grinning:

e.pekhterev [11:17 AM]
да, именно.
по классике если делать, то в худшем случае будет 2*N

Join_Selectovich [11:18 AM]
обычно коэфициент вроде как опускают

e.pekhterev [11:18 AM]
я имел ввиду, что это не один проход, а на каждой итерации ты ещё раз беагешь по всему листу, это много-много много проходов

Stanislav [11:18 AM]
Хорошо, если кто-то написал, просто ответе на вопрос :slightly_smiling_face: при первом же создании DTO мы уже должны знать реальное значение flag?
@e.pekhterev ты не правильно понял

e.pekhterev [11:19 AM]
нет, мы не должны знать)))

Stanislav [11:20 AM]
@e.pekhterev 1. Запоминаем каллории по датам + Создаем DTO 2. Бегаем по DTO и проставляем флаг....это не то же самое что и n2
но в худшем случае n2

Ramil [11:21 AM]
что такое DTO?

Stanislav [11:21 AM]
Data Transfer Object   - в нашем случае UserMealWithExceed
а UserMeal - это DAO модель

e.pekhterev [11:22 AM]
неправильное решение))

Stanislav [11:22 AM]
я вкурсе что не правильное)

e.pekhterev [11:23 AM]
я не просто так пишу, я сделал уже за один проход после маленькой (или большой) подсказки от Григория, но я не хочу её ретранслировать, так как вы не получите тогда кайфа от решения задачи по сравнению с тем, если бы сами дошли до этой идеи
решение есть и очень простое, думайте)))

Stanislav [11:25 AM]
Я еще думал как бы реализовать внутриний класс у UserMeal и как то там это все замопинать...в общем слишком много уже перебрал, пока в голову ни чего не приходит

e.pekhterev [11:25 AM]
wrong)))

Stanislav [11:26 AM]
)

e.pekhterev [11:26 AM]
мы не должны менять базу, мы не будем в ней хранить инфу по превышению лимит
а
ведь лимит можно в любое время менять, и возможно он не будет глобальным для всех, а будет разный для всех
так то всё правильно, один объект для получения данных из базы, другой - для отправки на jsp

Stanislav [11:28 AM]
:slightly_smiling_face:

Alexander Pilipenko [11:29 AM]
https://topjava14.slack.com/archives/CAJL007L3/p1529482912000181
Stanislav
Data Transfer Object   - в нашем случае UserMealWithExceed
Posted in #hw0Jun 20th
ИМХО это не DAO
Скорее обезличенная entity, или по другому View Object

Stanislav [11:30 AM]
ну да, ентити, DAO паттерн который оперирует с энтити и базой)

Alexander Pilipenko [11:30 AM]
:slightly_smiling_face:

Join_Selectovich [11:31 AM]
емаё, ну как так можно?!
Stanislav
а UserMeal - это DAO модель
Posted in #hw0Jun 20th

Stanislav [11:32 AM]
не придерайтесь)) энтити это

tim [11:32 AM]
Там подсказка есть в задании : 3: Правильная реализация должна быть простой и красивой, можно сделать 2-мя способами: через стримы и через циклы. Сложность должна быть O(N), т.е. без вложенных стримов и циклов.
4: При реализации через циклы посмотрите в Map на методы getOrDefault или merge

Stanislav [11:32 AM]
тим уже все реализовали O(n), мы сейчас об Option2

tim [11:32 AM]
почитайте про   merge

Alexander Pilipenko [11:33 AM]
merge(K key, V value, BiFunction<? super V,? super V,? extends V> remappingFunction)
If the specified key is not already associated with a value or is associated with null, associates it with the given non-null value.
Это не решает проблемы Курицы и Яйца

e.pekhterev [11:37 AM]
и тут по идее один проход не получится, во всяком случае внутри функции тоже всё будет вертеться

Stanislav [11:39 AM]
задача то не все в одну строчку вместить, а 1 проход + O(n)

tim [11:41 AM]
Option 2 же и есть реализовать в   O(n)..?

Andrew Kuzin [11:42 AM]
в option 2 реализовать в один проход
не путать со сложностью алгоритма

tim [11:43 AM]
У меня  Один проход - разбивка по дням, а второй - формирование UserMealWithExceed

Andrew Kuzin [11:46 AM]
ну это в худшем случае два прохода

sky [1:05 PM]
Вроде как указывалось, что 1 проход по mealList для option2 нужен. Если мы пройдемся потом по тому, что получено на 1ом проходе, это будет уже выход за рамки требований option2?

Stanislav [1:06 PM]
да

sky [4:51 PM]
Benchmark                                  (iterations)  Mode  Cnt     Score    Error  Units
BenchMark.WithExceededBySecret             5  avgt   20     2,207 ±  0,048  ns/op
BenchMark.WithExceededBySecret            10  avgt   20     2,136 ±  0,015  ns/op
BenchMark.WithExceededBySecret            30  avgt   20     2,191 ±  0,046  ns/op
BenchMark.WithExceededByStream           5  avgt   20   968,014 ±  4,208  ns/op
BenchMark.WithExceededByStream       10  avgt   20  2016,356 ± 10,504 ns/op
BenchMark.WithExceededByStream       30  avgt   20  5435,089 ± 26,267  ns/op

Alexander Pilipenko [4:57 PM]
Интересное решение. Не зависящее от размера обрабатываемого списка
А можно прогнать бенчмарк на 100 или более записях?
Что еще интереснее, так это, то что на большем количестве данных работает быстрее

sky [5:08 PM]
Benchmark                                    (iterations)  Mode  Cnt      Score    Error  Units
BenchMark.WithExceededBySecret           100  avgt   20      2,146 ±  0,006  ns/op
BenchMarkTest.WithExceededByStream      100  avgt   20  17711,930 ± 83,809  ns/op

Alexander Pilipenko [5:11 PM]
:open_mouth:
Спасибо
Надеюсь 28 покажут это решение. У него сложность постоянная. Круто

Ma3stro [6:11 PM]
У меня на стримах тоже решение значительно медленнее

sky [6:46 PM]
Беда еще походу в том, что то решение, которое все здесь описывают как очевидное и имеющее сложность якобы O(2*N)~О(N) (первый проход - мапа по дням + фильтрация,  второй - заполнение объектами нового типа (или вариации на эту тему)) по факту имеет сложность O(N*log(N)), так как время на выполнение операции возрастает с количеством итераций (судя по данным бенчмарков в ветке). А такое не тянет даже на решение уровня base, что уж говорить про optional2. Если кто решил с независимым, от количества итераций, временем в бенчмарке отзовитесь, возможно ли это в принципе.. (edited)

Stanislav [6:50 PM]
@sky 1. 1 цикл Группировка дни-сумма каллорий, сложность O(n+n) = O(n) 2. Option 2 решение есть 100%
@sky не дописал, 1. 2 цикл
Всего 2 цикла

shtramak [6:51 PM]
А кто сказал, что наверху решение о(1)?

Stanislav [6:51 PM]
O(1)? Это как :)

shtramak [6:52 PM]
Такой же о(н) просто эффективней

Stanislav [6:52 PM]
O(n) и O(1) разные вещи

shtramak [6:52 PM]
Да я не знаю, вон пишут «постоянное время»

Stanislav [6:53 PM]
O(n), где n это количество в списке


sky [Jun 20th at 6:54 PM]
in #hw0
решения О(1) быть не может в данной ситуации
А про решение с 2умя циклами я тоже думал, что получится О(N) а бенчмарк говорит что нет. Вопрос именно, чтоб в бенчмарке время на операцию не зависело от их количества


2 replies
shtramak [3 days ago]
Без кода нельзя сказать, что у него такое же решение как у тебя


sky [3 days ago]
Мне было бы действительно интересно посмотреть на решения из 2ух циклов, которые прям кардинально будут отличатся от очевидного


Stanislav [Jun 20th at 6:55 PM]
in #hw0
Я уже скилывал скрин


2 replies
sky [3 days ago]
Вы тестировали свое решение с помощью JMH?


Stanislav [3 days ago]
Нет, не тестировал, мне это не зачем, я знаю какое отличие цикл в цикле от 2ух циклов


Stanislav [6:57 PM]
mentioned this image: 20180611_180806.png 


Stanislav [6:58 PM]
Не знаю что там бечмарк пишет, но когда 2 разных цикла  это O(n+n) = O(n)


Alexander Pilipenko [9:13 PM]
Benchmark                                  (iterations)  Mode  Cnt     Score    Error  Units
BenchMark.WithExceededBySecret             5  avgt   20     2,207 ±  0,048  ns/op
BenchMark.WithExceededBySecret            10  avgt   20     2,136 ±  0,015  ns/op
BenchMark.WithExceededBySecret            30  avgt   20     2,191 ±  0,046  ns/op
Время постоянное, взято из бенчмарков SKY (edited)
https://topjava14.slack.com/archives/CAJL007L3/p1529502684000374
sky
Benchmark                                  (iterations)  Mode  Cnt     Score    Error  Units
BenchMark.WithExceededBySecret             5  avgt   20     2,207 ±  0,048  ns/op
BenchMark.WithExceededBySecret            10  avgt   20     2,136 ±  0,015  ns/op
BenchMark.WithExceededBySecret            30  avgt   20     2,191 ±  0,046  ns/op
BenchMark.WithExceededByStream           5  avgt   20   968,014 ±  4,208  ns/op
BenchMark.WithExceededByStream       10  avgt   20  2016,356 ± 10,504 ns/op
BenchMark.WithExceededByStream       30  avgt   20  5435,089 ± 26,267  ns/op
Show less
Posted in #hw0Jun 20th

stea1th [9:21 PM]
ессть тут кто нибудь?

Alexander Pilipenko [9:22 PM]
+

stea1th [9:22 PM]
вопрос... почему у меня вечно крутится определение версии git?
так же как и остановка этого определения

Alexander Pilipenko [9:23 PM]
Можно картинку или текст?

stea1th [9:24 PM]
Stopping -Identifying Git Version
крутится уже хз сколько времени

stea1th [9:30 PM]
uploaded this image: Screenshot_1.png 


stea1th [9:31 PM]
вон внизу крутится, хотя вроде все правильно установлено

Tanya [9:34 PM]
попробуй File | Invalidate Caches/Restart

stea1th [9:36 PM]
о, заработало, сенькюю :slightly_smiling_face:

Shumadan [12:42 AM]
Подскажите, может сталкивались с такой проблемой, не могу накатить HW.patch  
public class UserMeal {
error: main/java/ru/javawebinar/topjava/Main.java: No such file or directory
git вот такую штуку выкидывает, я уже не знаю что делать, все перепробовал

Vitaly [3 days ago]
класс Main не менял?


Vitaly [3 days ago]
вручную


Shumadan [3 days ago]
не менял, все делал по инструкции. через консоль так и не осилил, в итоге apply сделал через идею, там все прошло как по маслу


Shumadan [3 days ago]
но я потерял немного веры в хардкорные консольные утилиты...

Tanya [3 days ago]
а откуда ты патч накатываешь?


Tanya [3 days ago]
в какой папке  HW.patch?


Shumadan [3 days ago]
в корне проекта, HW.patch <- это файл Prepare_to_HW0.patch, пытался делать через git.BASH, командой ::  git apply HW.patch


Tanya [3 days ago]
скинь скрин из идеи со структурой проекта


Shumadan [3 days ago]
я уже загрузил патч средствами IDE, так что будем считать, что проблема решена (edited)


Tanya [3 days ago]
ок :slightly_smiling_face:


Ilya Ivanchenko [4:34 PM]
Привет всем

Join_Selectovich [4:40 PM]
привет

Ramil [4:40 PM]
q

Gagarina6794 [4:44 PM]
:woman-raising-hand:

KaryNaiKo [7:24 PM]
Что такое hw0?

stea1th [7:28 PM]
нулевое задание

Stanislav [7:35 PM]
@KaryNaiKo Home work 0


KaryNaiKo [Jun 21st at 7:37 PM]
in #hw0
Делать его надо или ждать 28.06.18?


1 reply
e.pekhterev [1 day ago]
нужно сделать до 28-го, если подписка с проверкой дз, то ещё и отправить на проверку нужно успеть.


stea1th [9:17 PM]
есть тут кто?

Alexander Pilipenko [9:35 PM]
Пока есть :slightly_smiling_face:

stea1th [9:37 PM]
кто сделал задание?

Alexander Pilipenko [9:37 PM]
Доктор, меня все игнорируют )
Я сделал. А что?

stea1th [9:38 PM]
а кто оплатил проверку дз?
меня да...все игнорируют

Alexander Pilipenko [9:38 PM]
+
Это был опрос?

stea1th [9:39 PM]
я весь в сомнениях


vch [Jun 21st at 9:40 PM]
in #hw0
@stea1th Вряд ли кто превзойдёт твоё решение... O(n^4) - это редкость.


3 replies
realcorwin [1 day ago]
Надо меньше жрать :wink: :rolling_on_the_floor_laughing:


vch [1 day ago]
Надо больше практиковаться... Теряю квалификацию. Выяснилось, что я ошибся, и там всего лишь O(N^2)


realcorwin [1 day ago]
ну, одно другому не мешает :wink:...


stea1th [9:40 PM]
а вы его смотрели?

vch [9:42 PM]
@stea1th иначе б не говорил

Ma3stro [9:42 PM]
N^4?!
Такое бывает?

stea1th [9:43 PM]
а где ты его взял? :slightly_smiling_face:

Alexander Pilipenko [9:43 PM]
Бывает и O(n!)

shtramak [9:45 PM]
Здесь квантовый комп понадобится) Задача коммивояжера с userMealIsDelivered

Alexander Pilipenko [9:45 PM]
uploaded this image: image.png 


agrusu [1:59 PM]
Как проверить работает ли мое решение?
Debuging :slightly_smiling_face: ?

shtramak [2:01 PM]
Залезть на сайт-пример на хероку
В задании указан
И там фильтром поиграться

e.pekhterev [2:02 PM]
и дебаг, и в мейне можешь сделать вывод результата вызова метода  getFilteredWithExceeded, только нужно переопределить метод toString() для UserMealWithExceed

shtramak [2:02 PM]
Валидатора нет, нужно самому понимать задачу и тесты самому писать

agrusu [2:02 PM]
адресс сайта?

shtramak [2:03 PM]
Лень искать

agrusu [2:03 PM]
Понятно.

shtramak [2:03 PM]
Посмотри в задании hw0

agrusu [5:25 PM]
там есть main(). Спасибо всем.

Victor [12:54 AM]
помогите кодом, как BenchMark этот запились побыстрому.:blush: пожалуйста
мой на ERROR: Unable to find the resource: /META-INF/BenchmarkList ругается (edited)

Victor [1:10 AM]
:grin: сам сделал, не знаю, конечно правильно ли. Он у меня уже минут 10 комнату компом греет. Как им пользоваться то правильно?
зы: ну не сам, конечно, в слаке код нашел и запустил...:sunglasses: (edited)

Victor [1:50 AM]
Я без стримов делал:
BenchMark.benchGetFilteredWithExceededByStream             5  avgt    5  28137,970 ± 3497,744  ns/op
BenchMark.benchGetFilteredWithExceededByStream            15  avgt    5  27639,453 ± 1546,556  ns/op
BenchMark.benchGetFilteredWithExceededByStream            30  avgt    5  27755,354 ± 3644,982  ns/op
На сколько это плохой результат, может кто оценить? (edited)

shtramak [10:16 AM]
блеять, у вас разный код, разные стенды, вы секундами меритесь.Для этого O нотацию и придумали

Stanislav [10:17 AM]
+

Max(O)n [10:18 AM]
согласен

Merkulov [2:33 PM]
ребят, давайте уважать друг друга, не надо сквернословить...

LeoJames [3:00 PM]
Предлагаю решить спор как цивилизованные люди - поединком!
Встретьтесь на кибер арене! Докажите чей дух и вера сильнее! Проигравший оплачивает победителю проверку д/з!
Григорий будет судить и стримить!

realcorwin [3:18 PM]
"блеять" - это глагол. так овцы разговаривают :slightly_smiling_face:

shtramak [4:07 PM]
Так же хотел ответить, но подумал, что лучше просто проигнорить
realcorwin
"блеять" - это глагол. так овцы разговаривают :slightly_smiling_face:
Posted in #hw0Today at 3:18 PM

Victor [4:50 PM]
Для парней, которые любят "блеять" есть отдельно #флуд. Если может кто ответить про суть benchmakr нормально, буду благодарен.

shtramak [4:53 PM]
Если ты поставишь себе i7, отключишь все сторонние процессы и запустишь бенчмарки, цифирьки будут другими, но станет ли от этого код лучше?
Покупай проверку и сдавай на ревью, самый простой вариант получить вразумительный ответ

Victor [3 days ago]
буду координально другими в разы? или ±30%? Если у меня O(N^2), и у друга O(N^2) на сколько могут отличаться результаты?


Stanislav [3 days ago]
Не правильный вопрос. Почитай про нотацию О, что она показывает.



Stanislav [3 days ago]
Означает.


Victor [3 days ago]
Да я в общем хорошо понимаю нотации.  Вопрос в том, что дают при этом benchmark-и.


Max(O)n [2 days ago]
На счет покупай проверку и получай вразумительный ответ. Относительно бенчмарка - ... отлично, подскажите есть вменяемая информация по правильной настройке JMH? я что-то делаю, какие-то результаты получаются, но я не совсем понимаю как правильно настраивать тесты и о чем конкретно говорят результаты. Мы дальше будем разбирать JMH?

Tanya [9:06 PM]
привет
не будем, но немного попользуемся в мастерджава
вроде в общем слаке кидали ссылку
http://www.baeldung.com/java-microbenchmark-harness (edited)
Baeldung
Microbenchmarking with Java | Baeldung
Learn about JMH, the Java Microbenchmark Harness.
Jul 24th, 2017 at 4:18 PM
 


Max(O)n [2 days ago]
Был бы каркас общий для всех с пояснениями что зачем. Совсем другое дело.


Mihail Kedel [Jun 23rd at 6:45 PM]
in #hw0
Я правильно понял,в методе getFilteredWithExceeded надо вернуть все объекты UserMealWithExceed с датой между датами  startTime и endTime,вне зависимости от поля exceed ?


3 replies
Stanislav [3 days ago]
Да, вне зависимости.


Mihail Kedel [3 days ago]
Спасибо.


Kiri [14 hours ago]
С пунктом "между датами" тоже поаккуретней: там нюанс есть, на нем много наших полегло.


MikeMSN [Jun 23rd at 11:33 PM]
in #hw0
Может я неправильно понял задание, но не могу понять в чем сложность реализовать getFilteredWithExceeded со сложностью O(n). Можно же просто пробежаться по списку mealList и для каждого UserMeal проверять не меньше ли он чем startDate и не больше ли чем endDate, и равны ли калории, если ок, то добавляем к результирующему листу. В итоге мы получаем максимальную сложность 5n(бежим по списку + 3 проверки + добавляем в лист), при этом многие UserMeal могут быть отбракованы на этапе первой проверки. То есть в среднем сложность 3,5n. Но если мы говорим про O(n), то коэффициент не играет роли и это всё уже итак O(n).



2 replies
agrusu [2 days ago]
Согласен.


Kiri [14 hours ago]
Перечитай еще раз задание внимательно, очень многое упустил. И сложность в реализации в 1 проход.


Tanya [11:34 PM]
"и равны ли калории" равны чему?

MikeMSN [11:35 PM]
параметру метода
caloriesPerDay


Tanya [Jun 23rd at 11:36 PM]
in #hw0
читай внимательно задание
-  поле UserMealWithExceed.exceed должно показывать, превышает ли сумма калорий *за весь день* параметра метода caloriesPerDay          
Т.е UserMealWithExceed - это запись одной еды, но *поле exceeded будет одинаково для всех записей за этот день.*


4 replies
Victor [3 days ago]
то есть, если за день общая сумма калорий превышает параметр метод caloriesPerDay, то UserMealWithExceed.exceed у всех UserMealWithExceed entities за этот день равно true?



Victor [3 days ago]
а я у первых блюд отмечал false, а когда лимит превышен, у остальных true... :hear_no_evil:


Albert [2 days ago]
Похоже это неправильная трактовка и требует 2-х циклов. Если за период превышение - то все записи красные, нет?


Tanya [2 days ago]
то за весь день записи красные


MikeMSN [11:41 PM]
ммм да, прошу прощения, я не заметил что метод getFilteredWithExceeded возвращает лист типизированный UserMealWithExceed

agrusu [12:54 AM]
согласен.
MikeMSN
Может я неправильно понял задание, но не могу понять в чем сложность реализовать getFilteredWithExceeded со сложностью O(n). Можно же просто пробежаться по списку mealList и для каждого UserMeal проверять не меньше ли он чем startDate и не больше ли чем endDate, и равны ли калории, если ок, то добавляем к результирующему листу. В итоге мы получаем максимальную сложность 5n(бежим по списку + 3 проверки + добавляем в лист), при этом многие UserMeal могут быть отбракованы на этапе первой проверки. То есть в среднем сложность 3,5n. Но если мы говорим про O(n), то коэффициент не играет роли и это всё уже итак O(n).
Posted in #hw0Jun 23rd

Daniel [12:56 AM]
@agrusu вроде как разобрались уже, что он задание неправильно понял.

MikeMSN [1:21 AM]
Если не оплачен review кода, то как баллы начисляются?

Albert [2:33 AM]
"Т.е UserMealWithExceed - это запись одной еды, но поле exceeded будет одинаково для всех записей за этот день."  Я правильно понимаю, что если случилось превышение за период - то все записи за период должны быть красными? (edited)


NikolayPotapov [2:37 AM]
added and commented on this Java snippet: Может кто подсказать по ДЗ со стримами? 
public static List<UserMealWithExceed> getFilteredWithExceeded(
      List<UserMeal> mealList, LocalTime startTime, LocalTime endTime, int caloriesPerDay) {
​
    mealList.stream()
        .collect(Collectors.groupingBy(UserMeal::getDate))
        .entrySet()
        .forEach(System.out::println);
	
2015-05-30=[UserMeal{dateTime=2015-05-30T10:00, description='Завтрак', calories=500}, UserMeal{dateTime=2015-05-30T13:00, description='Обед', calories=1000}, UserMeal{dateTime=2015-05-30T20:00, description='Ужин', calories=500}]
2015-05-31=[UserMeal{dateTime=2015-05-31T10:00, description='Завтрак', calories=1000}, UserMeal{dateTime=2015-05-31T13:00, description='Обед', calories=500}, UserMeal{dateTime=2015-05-31T20:00, description='Ужин', calories=510}]
Collapse 
Получается я группирую по дате,  а как потом просуммировать калории не знаю. Стримы только осваиваю)

stea1th [2:47 AM]
сразу и надо суммировать
и делать мапу день-суммарное количество каллорий


Albert [Jun 24th at 3:24 PM]
in #hw0
Можете подсказать, почему sout выводит 2 раза false:
Boolean bool = new Boolean(false);
       Boolean bool2 = bool;
       System.out.println(bool2);
       bool=true;
       System.out.println(bool2);


31 replies
Stanislav [1 day ago]
Boolean не изменяемый, так же как и String


Stanislav [1 day ago]
String string = new String("ddd");
       String string2 = string;
       System.out.println(string2);
       string = "aa";
       System.out.println(string2);


Stanislav [1 day ago]
https://clck.ru/DeEYC
Stack Overflow на русском
immutable-объекты и многопоточность
Доброго дня, уважаемые гуру Java. Анализирую вопросы, которые задают на собеседованиях. Пытаюсь более детально разобраться с темой immutable-объектов. К сожалению, те ресурсы, которые предлагает «G...
 


LeoJames [1 day ago]
А про Integer ему расскажи:face_with_hand_over_mouth:


Stanislav [1 day ago]
:slightly_smiling_face:


Stanislav [1 day ago]
Integer one = 1;
       Integer two = 1;

       System.out.println(one == two);

       Integer oneA = 200;
       Integer twoB = 200;

       System.out.println(oneA == twoB);


LeoJames [1 day ago]
Ты такой - ой, равно же, а тебе Java такой - нифига дарагой, значение не из пула, сравниваем ссылки, а ссылки ОПА ведут на разные объекты


LeoJames [1 day ago]
но когда сравниваем с примитивом - обертка падает и сравниваются значения


e.pekhterev [1 day ago]
Лео, тебя не поймешь, то ты издеваешься, когда задают банальные вопросы, то начинаешь разжовывать))


e.pekhterev [1 day ago]
на топДжаве таких вопросов уже не должно быть



LeoJames [1 day ago]
Ты не представляешь как много народу с опытом на этом спотыкаются


Albert [1 day ago]
ладно издеваться) С интом тоже заезжанный вопрос


LeoJames [1 day ago]
Особенно если разжевать это, а потом дать тот же пример но уже с Double


Stanislav [1 day ago]
:slightly_smiling_face:


LeoJames [1 day ago]
:grin:


LeoJames [1 day ago]
Джава троллить умеет лучше меня


e.pekhterev [1 day ago]
ну смешно ребята, может не тратить время и пока не поздно пойти на baseJava?

Stanislav [1 day ago]
Берешь вопросник-ответов на собеседовании и если не знаешь  вопрос, прорабатываешь его (не запоминаешь, а прорабатываешь-примеры-почитать и т.д.)


Stanislav [1 day ago]
Даже где то в профиле http://javaops.ru были ссылки на вопросы
Java Online Projects
Java программист: курсы, обучение, трудоустройство. Бесплатные первые занятия. Core,Web,Веб,Maven,Spring 5,Security,JPA(Hibernate),REST,AJAX,Botstrap,Enterprise
Java программист: курсы,обучение,трудоустройство. Бесплатные первые занятия. Core,Web,Веб,Maven,Spring 5,Security,JPA(Hibernate),REST,AJAX,Botstrap,Enterprise (77 kB)


LeoJames [1 day ago]
А тебе потом вопрос "Можно ли на джава написать вирус")

Stanislav [1 day ago]
Ни кто не отменял нативность в Java

Stanislav [1 day ago]
Да и вирус абстрактное понятие

LeoJames [1 day ago]
:muscle:

LeoJames [1 day ago]
Но книжники будут яро доказывать обратное


Stanislav [1 day ago]
На заборе тоже пишут. Я писал на языке (не буду говорить на каком) игры, и для этого языка это было нонсенс


LeoJames [1 day ago]
А есть вообще книги по джава где первая глава не про историю создания, а вторая не про то, какая она защищенная в отличии от "острого как бритва Си"

LeoJames [1 day ago]
Вроде где то на хабре мелькнула статейка про ведьмака на паскале

Stanislav [1 day ago]
:slightly_smiling_face:

Stanislav [1 day ago]
когда скучно, можно многое сделать


LeoJames [1 day ago]
В первой части, конечно же, был дикий изврат с карточками, но с паскалем даже Геральт поседеет


Tim [1 day ago]
между прочим идея использовать ссылку - правильная для решения за 1 проход


Merkulov [3:58 PM]
Wrapper classes are immutable.

Merkulov [4:04 PM]
если просто пишешь bool = true, то ничего не поменяется, а если напишешь bool = new Boolean(true), тогда произойдет переприсвоение значения переменной bool

e.pekhterev [4:04 PM]
merkulov - you are wrong
тут не примитив, а ссылочный и, самое главное, имьютэбл тип

Merkulov [4:05 PM]
открой книгу OCA Java SE 8 страница 136
там увидешь

e.pekhterev [4:06 PM]
открой JDK

Merkulov [4:08 PM]
ьвое объяснение если я не прав?

e.pekhterev [4:09 PM]
Boolean b = false;
Boolean b2 = b;
b = true;
b.compareTo(b2);
b = true равнозначно в данном случае b = new Boolean(true);
не правильНО?

Stanislav [4:10 PM]
Boolean bool = new Boolean(true);
       System.out.println(System.identityHashCode(bool));
       bool = true;
       System.out.println(System.identityHashCode(bool));
       bool = new Boolean(true);
       System.out.println(System.identityHashCode(bool));

e.pekhterev [4:12 PM]
вот именно

Stanislav [4:13 PM]
каждый раз создается новая ссылка, значит утверждение "если просто пишешь bool = true, то ничего не поменяется" не правильное

e.pekhterev [4:13 PM]
патамушта и String, и все обортки примитивов immutable

Stanislav [4:13 PM]
не всегда если  immutable то создается новая ссылка :slightly_smiling_face:

e.pekhterev [4:13 PM]
да хоть что пиши - true или false - получаешь ссылку на новый объект Boolean

Merkulov [4:14 PM]
ytn
нет
создается новый объект когда ты создаешь через new и в конструктор передаешь значение

LeoJames [4:14 PM]
:face_with_hand_over_mouth: Драка драка

Merkulov [4:15 PM]
все значения до 8 бит кешируются

e.pekhterev [4:15 PM]
ёлы, меркулов, ты понимаешь разницу между мутируемыми и не мутируемыми объектами? (edited)

Stanislav [4:15 PM]
сколько в булене битов?

LeoJames [4:16 PM]
Может он понял, что был не прав и теперь ему стыдно?

Stanislav [4:17 PM]
Вроде как он написал "открой книгу OCA Java SE 8 страница 136"... ты же спец по сертификации, открой посмотри :wink:

LeoJames [4:17 PM]
Мысля у него правильная, а выводы - нет
Эх, щас бы старый добрый срач начать про substring

tema.emelyan [4:18 PM]
а чо я мож чот не пониманию, но там же просто ссылка на новый объект ссылаться начинает

LeoJames [4:19 PM]
Создается новый объект и ссылка указывает на него - все верно

tema.emelyan [4:20 PM]
с чего бы там объекту измениться на который другая ссылка ссылается

Stanislav [4:20 PM]
Скандалы, интриги, расследования

Merkulov [4:21 PM]
все ок, я просто загнался не в ту степь)

Stanislav [4:21 PM]
закрываем тему)

tema.emelyan [4:21 PM]
тут непонятно причём мьютабл или иммьютабл все операции на ссылках

e.pekhterev [4:26 PM]
парни, все тут говорят мол джавараш какашка, но вот после джавараша таких вопросов не возникает

LeoJames [4:27 PM]
Все кто пили воду - умерли, значит вода ядовитая, значит если не пить - будешь бессмертным.

e.pekhterev [4:27 PM]
крутяк, надо попробовать)

LeoJames [4:28 PM]
Если у тебя не возникло - не значит что у остального миллиона не возникнет

e.pekhterev [4:28 PM]
да нет, там такие темы разжовывались плотно

LeoJames [4:29 PM]
:thinking_face:Это про те куцые статейки?
С мемасиками и сме**ечками?

e.pekhterev [4:29 PM]
да может и статьи были, не помню, но несколько задачек с такими приколами точно были
а я люблю такую дурь, и хед ферст джава мне дико вкатила с самого начала
каждому своё

LeoJames [4:30 PM]
Сравнил жопу с пальцем, серию Head First делали профи

e.pekhterev [4:30 PM]
и спринг ин экшин клёво читай из-за подобного подхода
ахахаааа)))

LeoJames [4:31 PM]
Я в свое время прошел всю серию

e.pekhterev [4:31 PM]
а спринг ин экшен - делали профи, которые училе тех профи, которые учили профе, которые писали хеад ферст)))

Stanislav [4:32 PM]
Head First тоже не всем нравится (манерой изложения)

LeoJames [4:32 PM]
ЧСВ не влезает в книжечку

Stanislav [4:32 PM]
Мне Хорстман с 2мя томами зашел

e.pekhterev [4:32 PM]
ну так скажем, что в джавараше многое слизали в том числе из хеад ферст джава  - тупо переписывали какие то моменты

LeoJames [4:33 PM]
Хотя там был просто отвратительный чат и примеры с RMI

e.pekhterev [4:33 PM]
надо попробовать Хорстмана

LeoJames [4:33 PM]
В сердце есть место только для codewars

Stanislav [4:34 PM]
Вышла новое издание Эффективное программирование Блоха, тоже хорошая

LeoJames [4:35 PM]
Но вся ветка книг по HTML/СCS/JS и дизайну были вау

Stanislav [4:35 PM]
Кто то пеной из рта Шилда продвигает, а мне не нравится, справочник справочником

LeoJames [4:35 PM]
Эккель!
Не, ну есть же те кто учится по серии "Для чайников"

e.pekhterev [4:36 PM]
Лео, если есть философия, есть смысл покупать Хорстмана?

Stanislav [4:36 PM]
Философия, у меня только старая 9 года, не читал

e.pekhterev [4:36 PM]
у меня 4-ое издание
книга классная

LeoJames [4:37 PM]
Эм, а на каком месте они пересекаются? Классика и электровеник
и то и то мне понравилось

e.pekhterev [4:38 PM]
ладно, надо сначала философию до конца осилить, потом Хорстмана погляжу

LeoJames [4:38 PM]
Щас бы начать вспоминать Танненбаума и Кнута

Stanislav [4:38 PM]
uploaded and commented on this image: 20180624_193719.jpg 

А у меня вон что есть :)

Merkulov [4:39 PM]
Boolean b1 = true;
Boolean b2 = true;
System.out.println(b1 == b2); что выведет этот код?

LeoJames [4:39 PM]
Не хватает чистого и совершенного кодов

e.pekhterev [4:39 PM]
сравнивает ссылки
не объекты

Merkulov [4:39 PM]
ну и по твоей логике что будет
false ?? так ведь если разные объекты

e.pekhterev [4:40 PM]
true

Stanislav [4:40 PM]
Чистый есть, практически дочитал
true выводит

e.pekhterev [4:41 PM]
тут задача другая - тут за кеш разговор, если не ошибаюсь

LeoJames [4:41 PM]
Паттерны и антипаттерны читай

Stanislav [4:41 PM]
Boolean bool = true;
       Boolean boolA = true;
       System.out.println(System.identityHashCode(bool));
       System.out.println(System.identityHashCode(boolA));
Одинаковые ссылки

Merkulov [4:42 PM]
вот я в эту степь и пер)))

LeoJames [4:42 PM]
-_-
Вообще не тоже самое (edited)

e.pekhterev [4:42 PM]
ну ладно ладно) выше чел давал другой пример

Merkulov [4:42 PM]
я знаю)

e.pekhterev [4:42 PM]
масое масое
ладно парни, формула 1 началась, ушел (edited)

LeoJames [4:44 PM]
Если обьект один хер неизменяемый, а в программе идут несколько инициализация подряд, то они будут вести на один и тот же обьект, т.к. один фиг изменения создадут новый обьект
Какая формула? Там дота 2 интернешнл!

Merkulov [4:52 PM]
я просто хотел донести то, что когда мы пишем Boolean b = true; это не то же самое Boolean b = new Boolean(true);

e.pekhterev [4:54 PM]
Встреча анонимных .... 
"Здравствуй, меня зовут Паша, и я учился на джаваРаш"

e.pekhterev [4:54 PM]
))

Stanislav [4:56 PM]
ибо авто упаковка (нативна), а там явно вызов конструктура

Merkulov [5:19 PM]
короче я разобрался)) Когда пишем Boolean b = true; сначала проверяется есть ли такое значение в кэше, если его там нет то создается новый объект. а если есть значение просто копируется и новый объект не создается. Кстати кэш хранит значения от -127 до 128, если я не ошибаюсь. Я прав?)

sky [5:20 PM]
Вот прикол:
       Long a = 100L;
       Long b = 100L;
       Long c = 200L;
       Long d = 200L;

       System.out.println(a == b);
       System.out.println(c == d);

tema.emelyan [5:21 PM]
-128 127

Merkulov [5:21 PM]
ой да ошибся

tema.emelyan [5:22 PM]
но это инты
а не булианы

Merkulov [5:22 PM]
в первом true во втором false

tema.emelyan [5:22 PM]
https://docs.oracle.com/javase/6/docs/api/java/lang/Boolean.html

LeoJames [5:23 PM]
:thinking_face:У него там уже каша

tema.emelyan [5:23 PM]
булианы "закешированы" здесь

Merkulov [5:29 PM]
да каша еще какая, читаю книгу готовлюсь к OCA

realcorwin [5:29 PM]
commented on Stanislav’s file 20180624_193719.jpg
Кто бы первую книжку отсканировал :slightly_smiling_face:

LeoJames [5:30 PM]
:thinking_face: А делать тесты не пробовал?

Merkulov [5:31 PM]
делаю и потихоньку разбираюсь, только те тесты которые после каждой главы идут

LeoJames [5:32 PM]
А там дадут другие и БАЦ

Merkulov [5:32 PM]
эту книгу лучше купить она того стоит
я только в первый раз читаю OCA точно будут все перечитывать несколько раз и готовиться уже по реальным тестам

realcorwin [5:33 PM]
@Merkulov по книжке и тестам в книжке ты не сдашь. для начала книжек этих надо перелопатить несколько. благо все они есть в эл. виде. во вторых в инете скачай несколько объемных тестов. ну и самое главное: по любой теме открывай идею и начинай ручками всё проверять и экспериментировать. тогда ты тест сдашь

LeoJames [5:33 PM]
ОСА он так сдаст
дальше - ниет

Merkulov [5:34 PM]
ок, спс за подсказку

LeoJames [5:35 PM]
Ну чисто в теории ты учишься, практикуешься и тд и тп, а уже потом читаешь книги по тестам, а тут как то не с того конца

Merkulov [5:35 PM]
а почему ты решил что дальше нет, во всем можно разобраться

realcorwin [5:35 PM]
я просматривал сливы тестов с Оракла - там какой-то кривой ужас и сплошные ошибки. неплохие тесты продают whizlabs и enthuware

LeoJames [5:37 PM]
:thinking_face:Это к слову о современном образовании, один и тот же человек может сдать ЕГЭ на MAX_VALUE, а знаний может быть на NULL

realcorwin [5:39 PM]
так бы было, если б слитые тесты оракула нормальные попадались - вызубрил, и вперед. а так я визлабовские тесты под 100% проходил, а на самом экзамене всё таки чуток хуже процент выбил
насколько я понимаю, Оракул скидывает настоящие тесты слушателям своих подготовительных курсов, что тысячи евро стоят
я когда курсы Oracle Siebel проходил, так и было. там каждый недельный курс - 6000 евро :slightly_smiling_face:
а если без покупки курсов сдавать - придётся помучаться

LeoJames [5:55 PM]
Вешаешь потом это дело в Линкед и успевай принимать восторженные приглашения работы и баааальшущей зарплаты
:thinking_face:Надо сразу договариваться на отдельный кабинет, секретутку и хорошее парковочное место. А то будут всякие нищебродские фирмы умолять за жалкие 200к работать

e.pekhterev [6:06 PM]
всё, бери шинель пошли на сертификацию

LeoJames [6:07 PM]
И моя секира!

Victor [8:09 PM]
commented on NikolayPotapov’s snippet Может кто подсказать по ДЗ со стримами?
привет :slightly_smiling_face: как получилось что? я отдельно собирал map дата - суммарное количество калорий, а потом по ней делал новый list.
agrusu [8:43 PM]
map() + flatMap() :slightly_smiling_face:

Stanislav [8:44 PM]
@Victor Вопрос не понятен. В коде ты группируешь по датам и  у тебя на выходе map<LocalDste, List<UserMail>> и?
@agrusu то же самое.

agrusu [8:48 PM]
Все вычисления происходят только при вызове финальной операции, т.н. lazy calculations.

Victor [8:50 PM]
@Stanislav Нет, я до таких вещей не дорос. Просто проходил по list и собирал Map с парами LocalData - Integer. Integer - сумма всех калорий за дату. А потом запускал стрим и делал фильтр и map по сделанному Map.

Stanislav [8:51 PM]
@Victor  у тубя в коде не то что ты тут пишешь:

mealList.stream()
               .collect(Collectors.groupingBy(UserMeal::getDate))
               .entrySet()
               .forEach(System.out::println);
Где тут суммирование

agrusu [8:52 PM]
и это тоже хорошо. Просто при одном проходе джава сама оптимизирует, примерно как и обычная СУБД при запросе SQL.

Victor [8:53 PM]
@Stanislav это не мой код

Stanislav [8:54 PM]
Я нажимаю ссылку https://topjava14.slack.com/files/UBA8Z34G0/FBCV3EFUJ/mozhet_kto_podskazat_po_dz_so_strimami_.java


Stanislav [8:54 PM]
mentioned NikolayPotapov’s Java snippet: Может кто подсказать по ДЗ со стримами? 
public static List<UserMealWithExceed> getFilteredWithExceeded(
      List<UserMeal> mealList, LocalTime startTime, LocalTime endTime, int caloriesPerDay) {
​
    mealList.stream()
        .collect(Collectors.groupingBy(UserMeal::getDate))
        .entrySet()
        .forEach(System.out::println);
	
2015-05-30=[UserMeal{dateTime=2015-05-30T10:00, description='Завтрак', calories=500}, UserMeal{dateTime=2015-05-30T13:00, description='Обед', calories=1000}, UserMeal{dateTime=2015-05-30T20:00, description='Ужин', calories=500}]
2015-05-31=[UserMeal{dateTime=2015-05-31T10:00, description='Завтрак', calories=1000}, UserMeal{dateTime=2015-05-31T13:00, description='Обед', calories=500}, UserMeal{dateTime=2015-05-31T20:00, description='Ужин', calories=510}]
Collapse 

Stanislav [8:54 PM]
Которую ты постил

Victor [16 hours ago]
commented on NikolayPotapov’s snippet Может кто подсказать по ДЗ со стримами? - это значит автор - NikolayPotapov
я только отвечал на вопрос. И в общем не хотел в общий чат постить, хотел только в треде писать.


Gennadiy [Yesterday at 9:41 PM]
in #hw0
Всем привет!


1 reply
Stanislav [15 hours ago]
@Tanya  и @Katherine


Gennadiy [Yesterday at 9:41 PM]
in #hw0
а кто проверяет HW0?


2 replies
Tanya [15 hours ago]
я и @Katherine


Tanya [15 hours ago]
если проверка оплачена, то в отд слаке
если нет, то #test_review