Grigory Kislin [12:11 AM]
joined #flooding.

Grigory Kislin [12:11 AM]
set the channel purpose: оффтопик

Grigory Kislin [12:11 AM]
set the channel topic: оффтопик

Katherine [7:02 AM]
joined #flooding along with 10 others.

Vitaly [4:47 PM]
знатоки wildcard, хелп
`List<? extends Number> numbers = new ArrayList<>();`
и второй вариант:
`List<? super Number> numbers = new ArrayList<>();`
добавляем элементы:
` numbers.add(1);
  numbers.add(1L);
  numbers.add(1f);` (edited)
на варианте 1 - идея ругается, на 2 - все норм, хотя по логике - Integer ext Number, Double ext Number  и т.д.,  и уж никак не Integer super Number
в чем подвох?

shtramak [4:52 PM]
Загугли PECS
Producer - extends, consumer - super
https://youtu.be/_0c9Fd9FacU
YouTubeJUG .ru
Александр Маторин — Неочевидные Дженерики



Vitaly [4:54 PM]
ага, спс, на хабре тоже нашел
действительно неочевидные


Vitaly [5:01 PM]
Знатоки Hibernate, хелп
есть реализация JPA через Hibernate и Spring
есть EntityManager

Vitaly [5:03 PM]
uploaded this image: image.png 


Vitaly [5:04 PM]
ставлю точку дебага, чтобы посмотреть что внутри EntityManager:

Vitaly [5:05 PM]
uploaded this image: image.png 


Vitaly [5:06 PM]
т.е. некая реализация FactoryBean, что и следовало ожидать, оно определено в xml
собственно вопрос - в самом классе Local...EFean - нет реализаций методов EntityManager, для примера смотрим метод persist()

Vitaly [5:10 PM]
uploaded this image: image.png 


Vitaly [5:10 PM]
как так происходит, что за магия?
и в списке классов, имплементирующих EntityManager не видно бина LocalContainerEntityManagerFactoryBean

Vitaly [5:13 PM]
uploaded this image: image.png 


Grigory Kislin [12:28 PM]
@Vitaly как у нас будет hibrnate - мы немножко это подебажим
в конце это все приходит к сессиям в реализации хибернайта (edited)

tema.emelyan [10:19 AM]
joined #flooding.


Vitaly [9:06 PM]
Всем привет, кто что знает про потокобезопасность int? Как-то спрашивали на собесе такое, потом гуглил, попадала пара статей - все скаляры меньше 4 байт записываются в одну операцию (что-то типа атомик), больше 4 - записываются в размер/4 байта прохода, и потоконебезопасны. Вопрос - насколько это реально применимо? Я так понимаю, можно byte/short/int писать без volatile? (edited)

Ma3stro [9:32 PM]
Atomic типы. Для инт AtomicInteger, все операции атомарные, загугли


Vitaly [Jun 15th at 9:33 PM]
in #flooding
обычный инт - атомик?


14 replies
vch [4 days ago]
1 и та же переменная хранится в нескольких местах - в памяти, в кэше 1 уровня (который у каждого ядра процессора свой), в кэшах 2 и 3 уровня. Процессор атомарно изменит переменную в своём кэше 1 уровня, но другие ядра об этом не узнают и будут какое-то время работать с устаревшими данными.


Vitaly [4 days ago]
я тоже так думал :slightly_smiling_face:


Vitaly [4 days ago]
думал - либо volatile, либо никак


vch [4 days ago]
может тут путаница в понятиях получилась? Атомарность присвоения означает, что если в переменной был 0, а мы присвоили 10000, то оно произойдёт сразу, а не по частям - т.е. другие потоки будут видеть либо 0, либо 10000, а не какие-нибудь иные промежуточные значения. Но - атомарность присвоения не гарантирует, что другие потоки немедленно увидят новое значение.


Vitaly [4 days ago]
не, там как раз по поводу записи, там в #flood кинул скрины


Vitaly [4 days ago]
оно отлично от обычного понятия потокбезопасности


vch [4 days ago]
Ну, это немного сомнительный аргумент - неизвестно чья статья. Найти бы точное указание в спецификации...


Vitaly [4 days ago]
по сути проблема возникает когда один поток пишет - и много потоков читает, например. Получается - он начинает писать лонг, он не влезает в 4 байта, записал первый байт, и тут же его читает второй поток - ссылка то на переменную есть у него, и хватает не то... как я понимаю


vch [4 days ago]
Ты опять про атомарность присвоения говоришь. А я про другое - про видимость для других потоков нового значения. Даже просто логически если подумать - есть множество последовательных вычислений. Если бы после каждого присвоения кэш сбрасывался в память - это было бы очень медленно.


Vitaly [4 days ago]
я тебя понимаю, и я  о том же


Vitaly [4 days ago]
https://stackoverflow.com/questions/3449790/java-atomics-operations
Stack Overflow
java atomics operations
Is correct to divide the following statements: int v = ++j; as: read j value (atomic); increment by 1 the value read (NON atomic possibly interference by other thread); write the adding result t...
 


Vitaly [4 days ago]
тоже рядом, но не совсем то


Vitaly [4 days ago]
но просто даже в разрезе атомарности присвоения - наверное должны ж быть у всего этого цели и методы работы?


vch [4 days ago]
единственное что я вижу для использования - это что будет видно либо старое значение, либо новое, но не что-то совсем новое. Есть случаи, когда это допустимо в логике приложения. (edited)


Vitaly [9:34 PM]
я не про AtomicInteger, самый обычный int

Ma3stro [9:34 PM]
Нет, обычный непотокобезопасен. Операция i++ вообще выполняется в несколького шагов, если из разных нитей дергать, то будут проблемы уж точно

Vitaly [9:35 PM]
так вот про это и вопрос
i++  - да, но операции чтения/записи в int - якобы безопасны
меня это мучает
ну вот смотрите, народ

Vitaly [9:36 PM]
uploaded this image: image.png 


Vitaly [9:43 PM]
uploaded this image: image.png 


Vitaly [9:44 PM]
оно по кускам везде гуглится, это явно происходит от JVM, но пока не нашел логического объяснения и применения
а тим лид с коварным видом спрашивал :grin:

Grigory Kislin [11:09 PM]
@Vitaly
1. https://dzone.com/articles/longdouble-are-not-atomic-in-java
2. про канкаренси нужно думать только при одновременном доступе нескольких потоком к одним объектам
про конкуренси еще можно посмотрет открытое занятие к masterjava (edited)
dzone.com
Long and Double Values Are Not Atomic in Java - DZone Java
In Java 64-bit, long and double values were treated as two 32-bit values. That means, a 64-bit write operation is basically performed as two separate 32-bit operations.
https://dz2cdn3.dzone.com/storage/article-thumb/792678-thumb.jpg

Stanislav [11:41 PM]
uploaded this image: Screenshot_20180616-024027_ReadEra.jpg 


Stanislav [11:44 PM]
uploaded this file 
JavaConcurrencyInPractice_2010.pdf
3 MB PDF


LeoJames [1:18 AM]
uploaded this image: @Макс Куркудюк 


LeoJames [1:18 AM]
uploaded this image: 2.png 


LeoJames [1:21 AM]
@Макс Куркудюк Гляди, Максимка, как надо людей нае** кхм, дезинформировать. Раз в полгода изображаем видимость работы, проплачиваем рекламу и на фриланс платформах нанимаем людей для комментов, делаем суперм-пупер-мега акцию с блекджеком и скидками, впариваем лоху годовые подписки, которые он выбросит через неделю - повторяем еще через полгода.
Специально для тебя заморочился:grin:
Это я еще так удачно попал, там есть счастливые обладатели годовых подписок с 0 уровнем. Сейчас ситуация не изменилась - разве что комменты потерли, а мой фейковый аккаунт с милейшим вопросом "какого рожна комментаторы больше не заходили на ресурс" потерли через 2 часа с 3х недельным баном (edited)

LeoJames [1:26 AM]
uploaded this image: 3.png 


Tanya [1:30 AM]
на счет проблем с оплатой и бурной радосью - это регулярно, и пластинка за 3 года не поменялась
но в 2015 я покупала на год, т.к. годовая 100 была (по сути безлимитная), а мес по 30 (edited)

LeoJames [1:32 AM]
Ну надо же изобразить дикое желание покупки и доброго дядю модера, который всегда придет на помощь

LeoJames [1:33 AM]
uploaded this image: 4.png 


LeoJames [1:34 AM]
Эти "в разработке" еще лет 5 позволят доить наивных

Макс Куркудюк [7:22 AM]
Ну так, в коментарях я також помічав людей, які не пройшли пару перших рівнів і вже дуже розхвалювали JR...
Але далі такі люди відсіялись і частіше всього писали корисну інформацію про матеріал та хороші посилання..
Тож загалом, там є достатьньо недоліків, які ніхто не хоче виправляти, але і плюси теж є.
Мені сподобався формат навчання у вигляді квесту. Це додавало азарту)
На рахунок "в розробці" недавно дійшов схожої думки. Чув, що "розробка" триває вже не один рік і, схоже, триватиме ще чимало часу)
Ну, я радий, що потрапив (майже, так як ще потрібно пройти стажування і знайти роботу) у дану область сидячи дома)
Надіюсь це швидко окупиться:slightly_smiling_face:

tema.emelyan [7:31 AM]
не ожидал, что гугл транслейт так швидко переводит украинский

tema.emelyan [7:32 AM]
uploaded this image: Screenshot_20180619_143001.png 


tema.emelyan [7:32 AM]
на английский причём ещё лучше


Tanya [7:13 PM]
@LeoJames @stea1th
флудим здесь

stea1th [7:13 PM]
яволь, гнедиге фрау

LeoJames [7:13 PM]
У чела вопрос по проекту, а его гонят во флуд

stea1th [7:14 PM]
кстати да.. из описания ничего не понятно
где, когда, во сколько
нафига скайп?
нужны ли микрофон и наушики?

LeoJames [7:15 PM]
Да ни разу его никто не использовал -_- (edited)

stea1th [7:15 PM]
я ж спецом нашел это г*вно мамонта... а оказывается он никому не нужен

Grigory Kislin [1:56 AM]
@stea1th микрофон и наушники по любому тбе пригодятся. письмо будет


Maksim K [Jun 21st at 11:07 PM]
in #flooding
Всем привет. Объясните как добавиться в общую группу JavaOPs. перехожу по ссылке https://javaops.slack.com/ и ввожу там свой емаил и пароль, которые вводил тут в группе Topjava14. Пишет, что неверно введен емаил или пароль.


1 reply
Grigory Kislin [1 day ago]
из профиля javaops есть кнопка - вступить в Slack javaops


stea1th [11:07 PM]
там надо заново регистрироваться

Maksim K [11:08 PM]
В смысле новый емаил и пароль?

stea1th [11:14 PM]
можешь те же самые задавать

LeoJames [11:14 PM]
Это тест. Нужно взломать

stea1th [11:14 PM]
но надо снова регистрироваться
:slightly_smiling_face:

Maksim K [11:16 PM]
В общем как-то зашел туда. Но не очень все это понятно)
В приложении вошел в одну группу потом в другую и там можно на вкладке переключаться между ними. А вот на сайте еще пока не разобрался как переключаться (тупо открыто две отдельные вкладки)
О. И тут понял как))

Stanislav [11:18 PM]
По началу не превычно, дне 14 пользуюсь слаком и мне нравится

Maksim K [11:18 PM]
Ну да. Надо привыкнуть.
Вообще в первый раз про него слышу
Ниче. Привыкну. Про Джаву тоже раньше ничего не слышал, а сейчас здесь:grin:

Stanislav [11:20 PM]
:)

Maksim K [11:23 PM]
Я так понял каналы нужно вручную все добавлять через поиск. Ибо у меня в javaops только два канала появилось (general и random) после того как добавился в эту группу

Daniel [11:25 PM]
Блин, а как зарегиться-то?) Он пишет "If you have an @javaops.ru email address, you can create an account." Но у меня же нет там почты.

stea1th [11:29 PM]
задавай свою
а мне тут уже нравится

Daniel [11:33 PM]
uploaded this image: 2018-06-21_23-32-17.png 


Daniel [11:33 PM]
Не подскажешь, как в таком случае задать свою почту?)

Maksim K [11:38 PM]
Я подскажу))
В общем, как делал я.
Там где надо было ввести свой мэйл и пароль снизу есть ссылки, мол, если забыл мэйл или пароль. Я перешел по ссылке, типа забыл свой емейл. там короче бла-бла-бла введите емейл и мы вышлем письмо. вводишь свой мейл
приходит письмо. нажимаешь на кнопку подтвердить и переходишь на страничку, где написано, что ты состоишь в топджава и можешь добавиться в джаваопс. нажимаешь добавиться  и там заново регистрируешься
я добавил тоже самое имя, мейл и пароль
и все.
:blush:

stea1th [11:42 PM]
странно... у меня было все проще.. задал емейл, задал пароль.. и вуаля

Maksim K [11:42 PM]
была ли полезна данная информация?
кликните да или нет
:blush:
хорошо, когда проще.

stea1th [11:43 PM]
клик

Maksim K [11:43 PM]
у меня че-то не вышло проще.
зато так вышло, как написал.

stea1th [11:43 PM]
может не на ту ссылку щелкали?

Maksim K [11:43 PM]
главное, что добавил группу))
да хз. везде щелкал))

Grigory Kislin [11:44 PM]
коллеги, зарегистрироваться в общую группу slack javaops можно из личного профиля javaops.ru
кнопка "Присоединиться к общей Slack группе участников и выпускников"
инфа есть в письме участника
зачем чтото изобретать через голову и еще и рекомендовать:) (edited)

Maksim K [11:44 PM]
просто поздно. я устал. голова после работы не варит. поэтому сделал так.
так быстрее
:blush:

Daniel [11:47 PM]
@Maksim K спасибо)

Maksim K [11:50 PM]
пожалуйста)

Maksim K [12:05 AM]
Grigory Kislin, я эту кнопку нажимал. еще вчера. но вчера в эту группу не добавился ибо было поздно. сегодня, когда зашел на slack то сразу автоматом зашло в группу топджава. когда пытался зайти в группу джаваопс, то была проблема как у Daniel. заходил в личный профиль и там еще раз нажимал на кнопку. вылезала следующая надпись:
Спасибо за присоединение общей группе Slack участников и выпускников

Ответ от Slack: already_in_team

НЕ ЗАДАВАЙТЕ вопросов по текущему проекту в эту общую группу!
Решение всех вопросов доступа ТОЛЬКО в личку

stea1th [12:06 AM]
классно
нас столько новеньких, будет интересно делиться опытом :))

Maksim K [12:08 AM]
Правда это ща такая надпись вылазит. А тогда вроде что-то другое было. Не already_in_team, а что-то вроде "уже добавлен"
но при вводе своего емейла и пароля писало, что неправильно ввожу
в общем хз че там было. ща все норм)

Grigory Kislin [12:38 AM]
already_in_team если перевести переводчиком означает, что уже в группе. нужно письмо в спаме поискать

Ramil [12:08 PM]
в раздумьях, стоит ли покупать ревью кода, ведь все равно мы будем разбирать код григория и я увижу свои ошибки

stea1th [12:40 PM]
тебе заранее скажут, что у тебя не так
по моему очень полезно


Max(O)n [2:24 PM]
vaadin 10 вышел, https://expensemanager-pro.demo.vaadin.com/
expensemanager-pro.demo.vaadin.com
Expense Manager
Progressive Web App built using Polymer and Vaadin components
https://vaadin.com/start кому интересно
Vaadin
Starter Packs | Vaadin
Starter packs – Get up and running with ready templates.
https://vaadin.com/images/social-media/vaadinffs-banner.png


Yevhen Maksymovych [4:05 PM]
ребят, подскажите, мне надо с помощью спринг дата массово импортнуть данные в бд. какой сейчас актуальный способ массовой вставки? на спринг.ио какой-то кривой пример, в других местах предлагают автовайрить ентитименеджер, вручную открывать транзакцию в ее рамках делать всю работу. неужели нет ничего в JpaRepository типа bunchSave(Collection<T> items)?

Yevhen Maksymovych [4:16 PM]
ну, т.е. я сделал так, но насколько это корректно?
```@Override
    public void bunchSave(List<Record> records, int batchSize) {
        EntityManager entityManager = entityManagerFactory.createEntityManager();
        EntityTransaction transaction = entityManager.getTransaction();
        try {
            transaction.begin();
            for (int i = 0; i < records.size(); i++) {
                if (i > 0 && i % batchSize == 0) {
                    transaction.commit();
                    transaction.begin();
                    entityManager.clear();
                }
                entityManager.persist(records.get(i));
            }
            transaction.commit();
        } catch (RuntimeException e) {
            if (transaction.isActive()) {
                transaction.rollback();
            }
            throw e;
        } finally {
            entityManager.close();
        }
    }```

tema.emelyan [4:42 PM]
@Yevhen Maksymovych вот так пробовал? я сам не пробовал https://stackoverflow.com/a/35794220/6098646
Stack Overflow
Spring Data JPA: Batch insert for nested entities
I have a test case where I need to persist 100'000 entity instances into the database. The code I'm currently using does this, but it takes up to 40 seconds until all the data is persisted in the

Yevhen Maksymovych [4:52 PM]
попробовал, но тупо прописать эти настройки в entityManagerFactory не помогает, все инсёрты делаются "поштучно"

Victor [5:10 PM]
Create-Retrieve-Update-Delete (CRUD) 
Retrieve вместо read как-то в рифму даже ))))

Stanislav [5:11 PM]
Посмотри на Spring Batch (edited)


Stanislav [Today at 5:12 PM]
in #flooding
http://javainside.ru/primer-ispolzovaniya-spring-batch-3-0-chast-1/
Java Inside
Spring Batch 3.0 - Часть 1: Пример использования - Java Inside
Spring Batch 3.0 – это подпроект Spring Framework, реализующий стандарт JSR-352 для выполнения пакетных заданий. Приступим сразу к делу и покажем на примере для чего это все нужно. Напишем небольшое веб-приложение, которое будет запускать пакетное задание и отображать состояние выполнения клиенту. В нескольких
Sep 9th, 2016 at 3:03 PM
 
 


4 replies
Yevhen Maksymovych [6 hours ago]
спасибо :slightly_smiling_face: вот эту штуку я и имел в виду под "кривой" - слишком много движений для казалось бы простой операции. + там третий спринг батч (уже четвертый есть), я думал, мало ли, может уже в spring-data-jpa что-то такое запихнули, но интуитивное и простое


Stanislav [6 hours ago]
Ну эт навороченое, но за то будет пунктик, что работал :)


Yevhen Maksymovych [6 hours ago]
да прикрутить не проблема, но я ж уже через два дня забуду, как я это сделал :slightly_smiling_face:


Stanislav [6 hours ago]
Сорсы останутся...я всегда вспоминаю по своим, чужие сложнее читать


tema.emelyan [Today at 5:45 PM]
in #flooding
@Yevhen Maksymovych а как ты понимаешь saveAll сохраняет в батчах или нет?


7 replies
Yevhen Maksymovych [6 hours ago]
showSql у jpaVendorAdapter'а включил


tema.emelyan [6 hours ago]
я просто читал, что у мужика вот логи не фурычили, хотя батчи работали


tema.emelyan [6 hours ago]
https://stackoverflow.com/questions/34228044/how-to-enable-batch-inserts-with-hibernate-and-spring-boot
Stack Overflow
How to enable batch inserts with Hibernate and Spring Boot
I want to insert a large number of entities into cross table. To do that, I want to enable hibernate's batch insert option, so that each insert will add not 1, but 20 or 50 rows at a time. I'm try...
 


Yevhen Maksymovych [6 hours ago]
странная штука


Yevhen Maksymovych [6 hours ago]
у меня, похоже, подобная беда


Yevhen Maksymovych [6 hours ago]
но, у меня логи пашут


Yevhen Maksymovych [6 hours ago]
но чисто по разнице по времени, явно saveAll делает это батчами, хотя вывод в консоль совершенно одинаковый


denis [6:01 PM]
@Yevhen Maksymovych есть же  saveAll(Iterable<S> entities) спрингдатовский

tema.emelyan [6:02 PM]
Я теперь запутался, если вызывать вставки внутри одной транзакции, то хоть по одной записи, хоть saveAll работает одинаково - примерно 40 сек на 100_000 записей
вывод в консоль (при меньшем кол-ве записей само собой) одинаковый
если убрать транзакции, то saveAll всё равно около 40 секунд
по одному в цикле - не дождался (сильно медленнее)

Yevhen Maksymovych [6:04 PM]
@denis, @tema.emelyan, спасибо, забил на консоль, главное, импорт заработал быстро :slightly_smiling_face:
а то я уже расстроился, что придётся на всю ночь ставить
70 секунд на 498000 записей

tema.emelyan [6:07 PM]
а сколько колонок у тебя?
полей

Yevhen Maksymovych [6:08 PM]
18

tema.emelyan [6:08 PM]
ssd?

Yevhen Maksymovych [6:08 PM]
причем 70 сек, это с учётом, что он из файлов подсасывает данные, щаз померяю чисто сохранение в бд
да, ссд
ну, я ещё щаз индексов накручу, по факту станет медленнее :slightly_smiling_face:

tema.emelyan [6:09 PM]
ssd кайф

Yevhen Maksymovych [6:13 PM]
ага, уже лет шесть на ссд живу, прямо дискомфорт чувствую, когда приходится на чужом пк работать с хдд
```18:13:11.012 DEBUG ua.dp.rundot.SpringCtxTest.folderImportSaveAll - Parsing time: 5212 ms
18:13:11.013 DEBUG ua.dp.rundot.SpringCtxTest.folderImportSaveAll - Records parsed: 398191
18:14:12.850 DEBUG ua.dp.rundot.SpringCtxTest.folderImportSaveAll - Storing time: 61837 ms```

tema.emelyan [6:15 PM]
щас всё тайное станет явным
:rat: :turtle: :turtle: :turtle: :turtle: (edited)
или не станет =(

Yevhen Maksymovych [6:18 PM]
мм?

tema.emelyan [6:18 PM]
сенсей печатал чота, но видимо передумал :slightly_smiling_face: (edited)
я теперь хочу настроить так, чтобы было батчами, но не получается. получается всё одим махом только

Yevhen Maksymovych [6:19 PM]
а ты STATEMENT_BATCH_SIZE укажи

Grigory Kislin [6:20 PM]
Spring batch  это отдельный фреймворк для выполнения пакетных задач. к bacth встевке в базу отношения не имеет
https://www.google.ru/search?newwindow=1&source=hp&ei=Czc-W-vFE6OE6ASwwKq4BA&q=spring%2Bdata%2Bjpa%2Bbatch%2Binsert&oq=spring%2Bdata%2Bjpa%2Bbatch%2Binsert


Ma3stro [Today at 9:08 PM]
in #flooding
Планирую написать небольшой сайт, куда можно добавлять новости. Правильно ли, что новость со всем ее текстом должна хранится в бд? Не накладно ли, что огромный текст будет там содержаться?
Также думал над тем, что новости не должны хранится в бд, а просто на сервере отдельной html страничкой, но пока даже не представляю, как это реализовать


1 reply
Yevhen Maksymovych [3 hours ago]
не парься. в БД в виде двоичных данных чего только не складывают. твоя текстовая новость для нее - что для слона дробинка

shomnest [3 days ago]
cms drupal тебе в помощь


Yevhen Maksymovych [9:51 PM]
а что случилось с versioneye? он как-то намертво лежит. есть какой-то другой сервис, который умеет актуальность зависимостей отслеживать?

Grigory Kislin [11:08 PM]
@Yevhen Maksymovych
он умер. автор закрыл (edited)


Victor [11:05 PM]
Пишу метод, возврат написал Spring вместо String и сижу смотрю на него. А Идея красным закрасила.... Думаю: с чего это Идея String красным красит.....:smiley:


Yevhen Maksymovych [9:53 PM]
ребят, подскажите, как лучше реализовать: есть две энтити, которые импортятся из логов двух разных видов (смс и визиты). надо пользователю выдавать сводную статистику из этих двух таблиц по запросу вида
```SELECT s.recipient, s.change_state_date, v.visit_date, DATEDIFF(hour, v.change_state_date, s.change_state_date) AS delay, v.city FROM sms s INNER JOIN visits v ON s.recipient = v.phone WHERE s.change_state_date < v.visit_date```
как-то можно это сделать силами спрингдата? jdbc я просто стейтмент запулю, и вручную замаплю его результат на какой-нибудь то, который отдам в вид
а как это сделать спрингом? как-то можно ввести какую-то энтити, у которой нет отображения в таблицу, и для нее сделать репозиторий с гетолл, на которой будет повешен нативный запрос?
вот тут нечто про мой случай, но у меня возник ровно тот же вопрос, что и у последнего комментатора:
```Can you please provide the detailed example? This does give me what I am looking for but what I am unable to understand is, where do we put the above code ? in repository layer or the bean itself?```
(edited)
https://stackoverflow.com/questions/28945146/jpa-entity-without-underlying-table
Stack Overflow
JPA entity without underlying table
I want to create a class that can be mapped to a result extracted from the database using JPA native query. Is there a way to map an entity without an underlying table to the result? I referred to ...

shtramak [10:11 PM]
Видимо создать native query https://www.thoughts-on-java.org/jpa-native-queries/#resultHandling

А потом засунуть native query в метод spring data через аннотацию (edited)
Thoughts on Java
Native Queries - How to call native SQL queries with JPA
JPQL supports only a small subset of SQL and no database specific features. But you can also use native queries to perform native SQL statements.
Jan 6th, 2016
https://www.thoughts-on-java.org/wp-content/uploads/2016/01/NativeQueries.jpg

Yevhen Maksymovych [10:49 PM]
works like a charm
:+1:
странно только что SqlResultSetMapper мапит класс не через отражение, а через конструктор

Ma3stro [9:29 PM]
Возможно ли устроиться на работу в 17 лет? Но при том, что скоро 11 класс и ЕГЭ, а желание работать есть, и в армию совсем не хочется:)
Кто-то знает, как обстоят дела с фрилансом на Java?

Join_Selectovich [9:55 PM]
Говорят фрилансить на java тяжковато
Чем больше город тем легче устроиться...

Ma3stro [10:01 PM]
Не могу определиться с тем, есть ли смысл устраиваться в ближайшее время (edited)


Daniel [10:11 PM]
@Ma3stro на твоем месте, я бы с 18 уже старался бы найти работу в Java, параллельно учась в универе. В 22, когда будешь выпускаться, по уровню уже будешь близок к Senior(при должном упорстве), а большая часть твоих однокурсников будет в растерянности думать, что им в жизни делать с этим дипломом. Ну это лишь мое субъективное мнение, ни в коем случае не совет.


Ma3stro [Yesterday at 10:19 PM]
in #flooding
Спасибо за мнение, это очень хороший вариант. Можно за всё это время подтнять front и UI, поучиться натягивать CMS'ки. Можно писать свои проектики и брать идеи вот отсюда - https://drive.google.com/drive/u/0/folders/0B1TmSF1-jkXyZU9EeldnOWNlalk. Полезная ссылочка для всех


1 reply
Daniel [16 hours ago]
Спасибо, интересно, сохраню.


Ma3stro [4:48 PM]
added and commented on this Plain Text snippet: Тестовое задание 
Тестовое задание:
Необходимо разработать REST-сервис на базе Spring/Spring Boot Framework для работы с БД и вывода результата.
Требования:
1. Сервис представляет из себя "обертку" для создания, удаления и отображения пользователей.
2. Пользователь должен иметь минимум 5 параметров разных типов.
3. Сервис должен работать с JSON или XML данными.
4. Сервис должен валидировать данные в зависимости от их типа.
Collapse 
Прислали следующее тестовое задание на позицию Java разработчика в контору, занимающейся платежными решениями

Ma3stro [4:48 PM]
Может быть кому интересно будет


Yevhen Maksymovych [Jul 11th at 5:22 PM]
in #flooding
ну вообще не космос


5 replies
Ma3stro [2 days ago]
Да, согласен:)


Ma3stro [2 days ago]
CRUD я и так писал при отборе на эту стажировку)


Yevhen Maksymovych [2 days ago]
там ещё и уи надо было :slightly_smiling_face:


Ma3stro [2 days ago]
Ага)
Здесь разве что REST и валидация


Ma3stro [2 days ago]
Ну сеньорам они неплохо дают для региона https://perm.hh.ru/vacancy/26640639
perm.hh.ru
Вакансия Ведущий программист Java в Перми, работа в Биллинговые системы
Вакансия Ведущий программист Java. Зарплата: от 70000 до 120000 руб.. Пермь. Требуемый опыт: 1–3 года. Полная занятость. Дата публикации: 02.07.2018. (13 kB)


Yevhen Maksymovych [11:01 AM]
ребят, подскажите, такая фигня:
есть простенькая программа, загружаю на сервер два здоровенных файла, импортирую их в бд, там происходит немного магии, и в ответ пользователю выдаю некоторую сводную таблицу
проблема в том, что эта магия занимает довольно продолжительное время, и браузер как-то перестаёт ждать респонса от сервера столько времени
т.е. по логам сервер посылает редирект (или отдаёт респонс) - один фиг, но через пару минут работы. браузер его уже не получает

Valery.Shkerdin [11:42 AM]
@Yevhen Maksymovych я б по другому сделал, браузер опрашивал бы сервер, с каким либо интервалом, на тему завершения обработки.

Yevhen Maksymovych [12:16 PM]
тоже не очень понимаю, как это сделать, там основное время - импорт в бд, так-то я после импорта бросаю редирект, а если я буду сразу редиректить, а потом аяксом вытаскивать данные - как проверить, что выгрузка завершена? делать какой-то флаг в бд по окончанию выгрузки, и в цикле проверять его наличие?


Stanislav [Yesterday at 12:21 PM]
in #flooding
Не сильно ли легкая форма модели (наследование, композиция)? Такое ощущение что Хибернейта коснемся совсем не много.


5 replies
Yevhen Maksymovych [1 day ago]
нормально коснёмся, там дальше поиграемся с транзакциями, ленивой загрузкой, отношениями и тп. чтобы понять - достаточно


Yevhen Maksymovych [1 day ago]
захочешь растиражировать это на 10 энтитей - сможешь сделать самостоятельно :slightly_smiling_face:


Stanislav [1 day ago]
Это хорошо, а то смотрю на модель сейчас и на планы уроков, не сильно то разгуляешься.


Ma3stro [1 day ago]
На выпускном проекте потренеруешься)


Stanislav [1 day ago]
Надеюсь что будет что-то сложное.


Prodigy [Yesterday at 4:34 PM]
in #flooding
@Yevhen Maksymovych у меня была задача парсить большой эксель файл на 70000 тыщ строк и загружать в базу, кароче эта вся тема у меня постоянно падала в браузере в процессе парсинга.... после увеличения размера стека в ВМ всё загрузилось.... суть в том, что это всё грузилось у меня порядка 30 минут на топовом i7, и никаких проблем с браузером не было.. загрузился и выдал окно об успешной загрузке.


16 replies
Yevhen Maksymovych [1 day ago]
ну вот у меня через раз. когда редирект срабатывает, когда нет. при этом если я руками вобью ссылку, на которую должен произойти редирект, все корректно отрисуется, т.е. импорт проходит, и сервисы, которые отдают сводную инфу тоже отрабатывают. так и не понял закономерности :confused:


Prodigy [1 day ago]
т.е. у тебя парсится файлик, потом грузится в бд, а потом ты делаешь редирект на другую страницу?


Yevhen Maksymovych [1 day ago]
ага

Yevhen Maksymovych [1 day ago]
только там не 70 000 строк, а порядка полумиллиона :slightly_smiling_face:


Prodigy [1 day ago]
спринг-мвс?


Yevhen Maksymovych [1 day ago]
ага


Prodigy [1 day ago]
а если без редиректа? у меня точно таких проблем небыло


Prodigy [1 day ago]
сколько ж у тебя эти данные загружаются?

Prodigy [1 day ago]
по времени

Yevhen Maksymovych [1 day ago]
по времени минуты три

Yevhen Maksymovych [1 day ago]
там не экселевский файлик, обычный csv


Yevhen Maksymovych [1 day ago]
в экселевский-то, небось, через какую-то либу надо ходить, которая, в свою очередь, через нативный интерфейс к нему лезет


Yevhen Maksymovych [1 day ago]
надо попробовать что там без редиректа, на работе ноут оставил. не помню, если честно, вроде та же фигня, остаётся на текущий странице в режиме ожидания сервера


Prodigy [1 day ago]
эта либа создает жирные объекты для работы со строками... у меня при загрузке порядка 4 гигов сожрало оперативы...


Prodigy [1 day ago]
я яправильно понял, ты в return пишешь "redirect:"?

shtramak [1 day ago]
может через async и Future это сделать? Сам не пробовал http://javasampleapproach.com/spring-framework/spring-boot/how-to-execute-asynchronous-query-with-spring-jpa-and-postgresql-spring-boot
JavaSampleApproach
How to execute asynchronous query with Spring JPA and PostgreSQL | Spring Boot - JavaSampleApproach
Spring JPA supports to write interface for repositories and custom finder methods. this is how to execute asynchronous query with Spring JPA and PostgreSQL.
Feb 9th, 2017 at 4:09 PM
 


tema.emelyan [6:27 PM]
@Yevhen Maksymovych или в цикле спрашивай готово или нет или подключи вебсокет и оповести когда процесс завершился

Stanislav [10:35 PM]
Кто нибудь читал Java. Эффективное программирование Блоха?

Tanya [11:06 PM]
у меня есть 3ье издание
https://images-na.ssl-images-amazon.com/images/I/51IcaSKfPAL._SX402_BO1,204,203,200_.jpg
https://images-na.ssl-images-amazon.com/images/I/51IcaSKfPAL._SX402_BO1,204,203,200_.jpg

Stanislav [11:07 PM]
Я читал, вопрос: есть издания 1,2,3 а есть "Предисловие Гая Стила" чем она отличается
Выглядят идентично, только там где Thrid Edition написано Предисловие Гая.....

Tanya [11:09 PM]
не знаю

Stanislav [11:09 PM]
я второе читал, третье не смотрел, времени мало на перевод :disappointed:

Tanya [11:10 PM]
я ее не читаю подряд, пользуюсь больше как справочником

Stanislav [11:11 PM]
хм...я привык что справочник это 1 нууу 2 страницы максимум...а там "разделы" по 5-20 страниц
Вроде нашел ответ:) "Предисловие Гая Стила"  - это первое издание

shtramak [11:14 PM]
3е издание исправляется от ошибок активно. Доходит до того, что код, который был правильный во второй книге, заменили на неправильный, а потом исправили обратно https://docs.google.com/document/d/1mAeEgQu4H4ADxa03k7YaVDjIP5vJBvjVIjg3DIvoc8E

Stanislav [11:15 PM]
Кстати, может кому будет интересно, на JUG-е появились интересные выступления.
Там Бут по косточкам расскладывают

Tanya [11:16 PM]
4 страницы ошибок - это еще немного :slightly_smiling_face:
я когда  к оракл готовилась, пришлось с карандашом по все книге пройтись и исправить... иначе даже в тестах попадались неправильные объяснения (edited)

Stanislav [11:17 PM]
:man-facepalming: как же стыдно...в мои молодые годы, девушки вообще не интересовались ИТ вещами....а сейчас.

shtramak [11:18 PM]
Они всегда были, просто ты смотрел не на тех))

Stanislav [11:18 PM]
готовилась к оракл юю
в 90х-2005г их практически не было

Tanya [11:51 PM]
были, я в лицее информационных технологий училась, соотношение мальчиков девочек было примерно 3/2 (edited)

Yevhen Maksymovych [9:28 AM]
ребят, ни у кого случаем нет spring in action в .mobi?
чет на амазоне в разделе киндла продают пэйпербек, а не электронную версию

Tanya [9:29 AM]
есть вроде

Yevhen Maksymovych [9:35 AM]
я только в pdf нашёл, но он на моём киндле страницу полминуты рисует

Tanya [9:36 AM]
так переконвертируй онлайн
я так и делала

Yevhen Maksymovych [9:36 AM]
гхм. нифига себе, оказывается так можно :slightly_smiling_face:

Prodigy [10:06 AM]
и что, получается успешно конвертировать пдф в книжный формат? у меня не получалось(
а как он конвертирует листинги интересно?

Yevhen Maksymovych [10:13 AM]
По ходу в моби можно, если это изначальный пдф с версткой в пдф, а не скан

Prodigy [11:42 AM]
попробовал конвертануть пару пдф-ов... ну такое.... как по мне не читабельно


Maksim K [Today at 10:54 PM]
in #flooding
Вопрос: как тут при написании сообщения выделить текст или код?


4 replies
Victor [17 minutes ago]
кода - на плюс жми слева от текста.., еще можно в начале строки '>' поставить, тогда цитата будет


Maksim K [3 minutes ago]
тут я смотрю люди и жирным шрифтом выделяют и в какие-то рамки текст берут. как это все делать...? если плюс слева нажать, то там типа как картинка получается, т.е. выделяется весь текст. а как просто часть текста выделить или слово одно? (edited)


Victor [< 1 minute ago]
*dasf*


Victor [< 1 minute ago]
_фыав_


Victor [4 days ago]
ну стандартно * - для жирного, нижнее подчеркивание для прописного


Maksim K [4 days ago]
в смысле стандартно? я не в курсе)


Victor [4 days ago]
https://get.slack.help/hc/en-us/articles/202288908-Format-your-messages
Slack Help Center
Format your messages
Use formatting to add clarity and detail to your message when you need it. There are two ways to format your text, depending on which Slack app you're using: Format as you type: On desktop and mo...
 


Victor [4 days ago]
повезло тебе, что самому было интересно. Эту ссылку искал целый час, чуть нашел...:rolling_on_the_floor_laughing:


Maksim K [4 days ago]
О. `спасибо` за
```ссылку```
:grin:


Maksim K [4 days ago]
Но блин, чего так сложно, то. Надо это запоминать. Мне нравится, как на `ДжаваРаш` сделали, типа пишешь сообщение, а сверху кнопочки типа выделить код, подчеркнуть, жирный, курсив. Конечно не очень много всего, но хоть что-то. и не надо вводить какие-то спец символы. просто нажал кнопку и все


Vitaly [9:14 PM]
смотрю пример rest сервиса на https://spring.io/guides/gs/rest-service/
spring.io
Building a RESTful Web Service
this guide is designed to get you productive as quickly as possible and using the latest Spring project releases and techniques as recommended by the Spring team
https://spring.io/img/spring-by-pivotal-9066b55828deb3c10e27e609af322c40.png
в pom.xml есть
   <build>
       <plugins>
           <plugin>
               <groupId>org.springframework.boot</groupId>
               <artifactId>spring-boot-maven-plugin</artifactId>
           </plugin>
       </plugins>
   </build> (edited)
есть парент:
<parent>
       <groupId>org.springframework.boot</groupId>
       <artifactId>spring-boot-starter-parent</artifactId>
       <version>2.0.3.RELEASE</version>
   </parent>
я лезу в него - в нем то же есть тот же самый плагин
<plugin>
                   <groupId>org.springframework.boot</groupId>
                   <artifactId>spring-boot-maven-plugin</artifactId>
                   <executions>
                       <execution>
                           <goals>
                               <goal>repackage</goal>
                           </goals>
                       </execution>
                   </executions>
                   <configuration>
                       <mainClass>${start-class}</mainClass>
                   </configuration>
               </plugin>
а почему так? какой смысл?

shtramak [9:22 PM]
В модулях мавена от родителя к детям не все передается, это не как в джаве) (edited)

Vitaly [9:22 PM]
он вообще что по смыслу делает? потомок переопределяет предка? или дополняет его?
и особо то отличий не нашел, goals-repackage - вроде ни о чем, мелочи.. зачем все это тогда..

shtramak [9:24 PM]
Ну например зависимости потомок не наследует, но в потомках можно не указывать версии зависимостей
Там странная логика, согласен

Vitaly [9:25 PM]
вот в данном случае что делает потомок?
я его цель не пойму ни разу

shtramak [9:25 PM]
Ну при сборке родителя соберутся дети
И модули могут использовать другие модули

Vitaly [9:26 PM]
и что будет с мавен плагином, который объявлен и там, и там?))

shtramak [9:28 PM]
Затруднюсь ответить сходу))

Vitaly [9:28 PM]
я гуглить конечно умею, но тут не понятно сходу) (edited)

Grigory Kislin [9:29 PM]
spring-boot-maven-plugin- для запуска приложения как jar

Vitaly [9:29 PM]
но он же есть в parent-е (edited)
к примеру, в том же паренте есть tomcat плагин, мы его не трогаем, а просто пользуемся

Grigory Kislin [6:58 PM]
нуда. из парента бурется плагины и версии зависимостей. 
заглянул в парент и не нашел там tomcat плагина


Vitaly [Yesterday at 6:22 PM]
in #flooding
народ, а кто что использует для своих записей? все в голове не удержишь, а иногда бывает очень нужно и ты уже сталкивался. я раньше Evernote пользовал, но у них глючная андроид версия, пытаюсь на гугл keep перейти, пока с метками не очень нравится. поделитесь


9 replies
shtramak [5 hours ago]
попробуй Todoist


Vitaly [5 hours ago]
это ж таскменеджер?


shtramak [5 hours ago]
видимо мы по разному смотрим на "записи" ) мои записи - мои таски, что мне стоит сделать/почитать/посмотреть...


Vitaly [5 hours ago]
нет, с этим гугл кип справляется замечательно, хочу сохранять статьи-картинки-куски кода - желательно в некое подобие древовидной структуры и с метками. Например - особо извращенный драйвер как прописать, или репозитории какие-нибудь, которые гуглил долго


Vitaly [5 hours ago]
это вот текущее состояние evernote


Vitaly [5 hours ago]
https://3thlkd3wpu0u1x0qbt19cxc8-wpengine.netdna-ssl.com/wp-content/uploads/2018/05/Evernote.Home_.png (289 kB)


Vitaly [5 hours ago]
но на мобильном просто жуть пытаться с ним работать


Ma3stro [4 hours ago]
Когда изучал непосредственно Java, использовал XMind, очень удобная штука. Сейчас, с EE технологиями, работать с ней стало не совсем удобно. Использую обычную тетрадку для пометок и ссылки на оверфлоу в коде:)


Vitaly [4 hours ago]
@Ma3stro жестоко)


Yevhen Maksymovych [4:51 PM]
ребят, подскажите, может кто-то  сталкивался
как в спринг-форму запихнуть табличку так, чтобы она на сервере упала мне в модель? с инпутами понятно, но это просто текстовые данные
вот эта штука у меня генерится динамически, а на сервере я хочу получить её как атрибут заказа типа List<MedicalTest>

Yevhen Maksymovych [4:53 PM]
uploaded this image: image.png 


Yevhen Maksymovych [5:07 PM]
мне ничего больше в голову не приходит, как мапить это не напрямую в заказ, в какой-нибудь промежуточный TO, на форме сделать динамически генерируемый hidden-input с айдишниками заказанных позиций в текстовом виде, который будет привязан к атрибуту этого ТО, а в контроллере вручную разбирать этот атрибут, и на его основании уже конструлить нормальный заказ, который и сторить в бд
но выглядит костыльно

Prodigy [5:10 PM]
мне кажется использовать ТО самое оно, я так бы делал


Grigory Kislin [8:01 PM]
to- это стандарт, многое что упрощают (edited)

Tanya [7:19 AM]
кто у же сделал ДЗ, предлагаю поколупать Criteria Api, и сделать get (SELECT...) методы  через CriteriaBuilder и так чтобы без дублирования

Vitaly [10:25 AM]
а кто знает - как в pgadmin посмотреть статистику обращений к БД? Т.е. я хочу посмотреть, сколько и каких запросов будет отправлять один мой метод в Postgres

Ma3stro [10:46 AM]
Можно ли в pgadmin схему связей таблиц посмотреть, как в mysql? Не нашел пока такой функционал

shtramak [10:49 AM]
@Ma3stro В pgafmin врядли, в idea ultimate можно посмотреть в панели database

Vitaly [10:49 AM]
я для этого DBeaver ставил, там было
хотя да, из самой идеи проще

Vitaly [11:14 AM]
вдруг кому поможет - XRebel показал всю статистику


Prodigy [2 days ago]
через maven можно добавить?


Prodigy [1 day ago]
или так как то хитро нужно прикручивать иксрэбель?


Vitaly [1 day ago]
@Prodigy очень простая настройка, скачиваешь архив с сайта, распаковываешь, указываешь в опциям томката при запуске


Vitaly [1 day ago]
http://manuals.zeroturnaround.com/xrebel/install/


Vitaly [1 day ago]
http://prntscr.com/k9xqwc
Lightshot
Screenshot
Captured with Lightshot (72 kB)


Vitaly [1 day ago]
собственно все, при запуске томката появляется окно плагина в браузере, много всякой полезной статистики (edited)

Prodigy [1 day ago]
круто! спасибо!

Prodigy [1 day ago]
только наше приложение крашится при запуске... это только у меня так?

Vitaly [1 day ago]
не понял, после установки xrebel падает?


Prodigy [1 day ago]
не, и без xrebel падает


stea1th [Jul 23rd at 7:26 PM]
Кто нибудь пользуется слаком на телефоне?


2 replies
Yevhen Maksymovych [1 day ago]
да


stea1th [1 day ago]
Прикольная штука:grinning:


izgarshev.pavel [Jul 23rd at 9:54 PM]
подскажите плз, наткнулся в одной из задач на джавараше: в задании написано создать публичную константу MAX_AGE со значением 12, к примеру. Соответственно пишу: publlic final int MAX_AGE = 12; Но без static не проходит по валидатору. Вопрос, разве без статика здесь не обойтись?


1 reply
shtramak [1 day ago]
static выводит поле на уровень класса, без статики - ты будешь на уровне объекта и у каждого объекта это поле будет своим (и, да, неимзенным внутри этого объекта).   Константа же - это то, что для всех и всегда одинаково, поэтому она и должна быть на уровне класса, то бишь static


Tanya [10:00 PM]
без статика не константа :wink:


Join_Selectovich [Jul 23rd at 11:11 PM]
Подскажите пожалуйста зачем в
@NamedQuery(name = User.DELETE, query = "DELETE FROM User u WHERE u.id=:id") вводятся дополнительные константы
public static final String DELETE = "User.delete";
Ведь можно было бы просто записать
@NamedQuery(name = "User.delete", query = "DELETE FROM User u WHERE u.id=:id")


5 replies
Prodigy [1 day ago]
как по мне эти NamedQuery бестолковая штука, которая только засирает класс сущности


Victor [1 day ago]
NamedQuery проверяется при компиляции, и если там ошибка, приложение не поднимется. Это преимущество.



Grigory Kislin [22 hours ago]
1. почему не в урок?
2. для удобства. например поиском по проекту можно пользоваться


Grigory Kislin [22 hours ago]
@Prodigy я отвечу словами Раневской про Мону Лизу: ttps://www.babyblog.ru/user/oceanocean/526977 (edited)


Victor [22 hours ago]
https://www.babyblog.ru/user/oceanocean/526977
babyblog.ru
Раневская о Моне Лизе
Когда в Москву привезли Мону Лизу, все ходили на нее смотреть. Фаина Георгиевна услышала разговор двух чиновников из Министерства культуры. Один утверждал, что картина не произвела на него впечатления. Раневская заметила:- Эта дама в течение стольких веков на таких людей производила впечатление, что теперь она сама вправе выбирать, на кого ей производить впечатление, а на кого нет! (46 kB)


Join_Selectovich [11:11 PM]
*в @Entity public class User* (edited)

Yevhen Maksymovych [10:22 AM]
ребят, какая-то фигня, не могу разобраться, пользую спринг жпа, в сущности есть связь manytomany, реализация репозитория дефолтная, руками ничего не добавляю
но при этом findAll() вытаскивает все данные корректно, а findById() в связанной табличке всё дублируется
примерно так выглядит:
```100404
MedicalTest{id=100000, code='Взятие крови', description='Взятие крови', isComplex=false, price=30.0}
MedicalTest{id=100003, code='1515', description='Клинический анализ крови (развернутый): общий анализ, лейкоформула, СОЭ', isComplex=false, price=130.0}
MedicalTest{id=100009, code='140', description='Аллоиммунные антитела (включая антитела к Rh-антигену)', isComplex=false, price=320.0}
MedicalTest{id=100014, code='110113', description='Кальций/креатинин соотношение в разовой порции мочи', isComplex=false, price=100.0}
---------------------------------------------
MedicalTest{id=100003, code='1515', description='Клинический анализ крови (развернутый): общий анализ, лейкоформула, СОЭ', isComplex=false, price=130.0}
MedicalTest{id=100003, code='1515', description='Клинический анализ крови (развернутый): общий анализ, лейкоформула, СОЭ', isComplex=false, price=130.0}
MedicalTest{id=100009, code='140', description='Аллоиммунные антитела (включая антитела к Rh-антигену)', isComplex=false, price=320.0}
MedicalTest{id=100009, code='140', description='Аллоиммунные антитела (включая антитела к Rh-антигену)', isComplex=false, price=320.0}
MedicalTest{id=100014, code='110113', description='Кальций/креатинин соотношение в разовой порции мочи', isComplex=false, price=100.0}
MedicalTest{id=100014, code='110113', description='Кальций/креатинин соотношение в разовой порции мочи', isComplex=false, price=100.0}
MedicalTest{id=100000, code='Взятие крови', description='Взятие крови', isComplex=false, price=30.0}
MedicalTest{id=100000, code='Взятие крови', description='Взятие крови', isComplex=false, price=30.0}```


Yevhen Maksymovych [Yesterday at 10:24 AM]
один и тот же заказ, первый вытащен findAll, второй findById, это его поле List<MedicalTest>


46 replies
e.pekhterev [1 day ago]
а в этитях у тебя как поля прописаны?


Yevhen Maksymovych [1 day ago]
    ```@ManyToMany(fetch = FetchType.EAGER)
    @JoinTable(
            name = "orders_medical_tests",
            joinColumns = {@JoinColumn(name = "order_id")},
            inverseJoinColumns = {@JoinColumn(name = "medical_test_id")}
    )
    private List<MedicalTest> tests;```


Yevhen Maksymovych [1 day ago]
сейчас поменял лист на сет, на вид отдаётся всё корректно, просто не сможет второй раз туда добавить аналогичную энтитю, но всё равно не понимаю, почему при листе он вытаскивает дважды

e.pekhterev [1 day ago]
а на стороне тестов @ManyToMany(mappedBy = "tests")?


Yevhen Maksymovych [1 day ago]
на стороне тестов вообще не указывал ничего, мне не надо заказы вытаскивать, в которых есть тесты


e.pekhterev [1 day ago]
аа, связь однонаправленная


Yevhen Maksymovych [1 day ago]
просто ладно бы он просто вытакивал дважды, но почему findAll() строит корректный лист, а findById() некорректный - я не понимаю в упор. реализация же в обоих случаях на стороне фреймворка, я руками не лезу туда


e.pekhterev [1 day ago]
эмммм, я затрудняюсь ответить)


Vitaly [1 day ago]
у тебя стоит List<MedicalTest> findById(Id id)?


Prodigy [1 day ago]
spring data jpa ?


Yevhen Maksymovych [1 day ago]
на оба вопроса да (edited)


Vitaly [1 day ago]
-> findAllById, попробуй


Yevhen Maksymovych [1 day ago]
это ж в другую сторону, искать по набору ид

Prodigy [1 day ago]
ох уж эта магия spring data jpa)


Vitaly [1 day ago]
но и findById тоже должен возвращать один объект, не List



Yevhen Maksymovych [1 day ago]
да он и возвращает один, тут речь немного о другом


Vitaly [1 day ago]
так ты показал список :slightly_smiling_face:


Yevhen Maksymovych [1 day ago]
у меня есть некая сущность, которая в себе держит лист ссылок на другую сущность


Yevhen Maksymovych [1 day ago]
если я эту первоначальную сущность вытаскиваю не как единицу, а прям все, которые сидят в бд, они все вытаскиваются корректно


Yevhen Maksymovych [1 day ago]
а если вытаскиваю конкретную одну, то в ее внутреннем листе некорректно собирается список зависимых сущностей


Vitaly [1 day ago]
где-то корявый JOIN


Vitaly [1 day ago]
ты получаешь произведение

Yevhen Maksymovych [1 day ago]
ну, т.е. как если бы в нашем примере у юзера был список еды, и если бы ты вытаскивал всех пользователей со всеми списками еды, то всё работало бы хорошо, а если бы конкретного пользвоателя - то у него в списке еды какждой позиции было по две


Yevhen Maksymovych [1 day ago]
ну это да, но я нигде никаких джойнов не применяю, data jpa как бы берёт всё на себя, и я ему верю, а тут оказалось что доверяй, но проверяй


Vitaly [1 day ago]
ну да, имею ввиду по факту JOIN


Vitaly [1 day ago]
может проще самому Query сделать, в данном случае

Vitaly [1 day ago]
я КЭП


Prodigy [1 day ago]
мне кажется spring data jpa больше подходит для простых приложений


Prodigy [1 day ago]
jpa наше всё


Yevhen Maksymovych [1 day ago]
ну, всяко, пока выкрутился объявлением возвращаемого результата как сет, вместо листа, но осадочек остался


Prodigy [1 day ago]
теперь придется тщательно тестировать приложение на возможные баги спринг даты


shtramak [1 day ago]
Ну я бы грешил на баги хибернейта, если честно


shtramak [1 day ago]
Понятно, что на рабочем проекте версию легко не поднимешь, но ради интереса бы проверить


Prodigy [1 day ago]
учитывая то, сколько живет проект spring data jpa и его "магия"... я бы в последнюю очередь грешил на хибернейт) (edited)


shtramak [1 day ago]
Гугл выдает туеву кучу ссылок на то, что хибер то выдает дубликаты, то инсертит дубликаты. И везде советуют решение просто юзать сет


shtramak [1 day ago]
Потом только к 5й версии они исправили багу с инсертом

e.pekhterev [1 day ago]
ничего себе


Yevhen Maksymovych [1 day ago]
я 5.3.2 пользую, ну, понятно, короче, надо экспериментировать с версиями


Stanislav [1 day ago]
Если ты используешь List тебе нужно в sql в доп. колонке сохранять последовательность

Prodigy [1 day ago]
@shtramak а там случайно в гугле про дубликаты говорится не в контексте spring dat jpa? ))


shtramak [1 day ago]
По spring data я особо не нашел такого кейса, только по самому хиберу


shtramak [1 day ago]
Я просто тоже не вкуриваю, с чего оно не работает, ничего же заумного не происходит..


shtramak [1 day ago]
Может вообще, дело в джойнах, и может быть они разные для findbyid и findall.

Гугл говорит, что для findbyid применяет left outer join, правда не понимаю, как это влияет на результаты..

Вообще, там столько ссылок открылось на stackoverflow по fetch type, что это просто читать-неперечитать


Grigory Kislin [22 hours ago]
@Yevhen Maksymovych у нас будет похожая проблема с ролями и едой для юзера. и решение (edited)

shtramak [6 hours ago]
Все, что я смог нарыть, что эта проблема похожа на Hibernate N + 1 problem. В хибере она решается через fetch join или @Fetch(FetchMode.join) . Второй вариант в spring data не работает, для первого придется писать свой query, из-за чего теряется весь смысл spring data. 
Интересно какое решение знает Григорий, гугл подсказывает только EntityGraph, суть чего даже не очень понятна. Я дальше вглубь не стал копать, т.к вроде проблема уже неактуальна

Надо будет еще Борисова по spring data глянуть, может он говорит про это.. и конечно почему два схожих по смыслу метода ведут себя по-разному, тоже странно (edited)


Yevhen Maksymovych [6 hours ago]
Кстати, да, энтитиграф же был в прошлом курсе, но я о нем в таком контексте не думал


Yevhen Maksymovych [10:24 AM]
сохраняется всё корректно, я проверил, проблема только при извлечении

Stanislav [11:33 AM]
20180724_143026.jpg 

20180724_143043.jpg 


Yevhen Maksymovych [11:34 AM]
ну так-то пусть порядок будет недетерменирован, у меня претензия к тому, что два метода, реализация которых скрыта от пользователя, и которые потенциально должны выдавать одинаковый результат, выдают разный

Prodigy [11:40 AM]
@Stanislav Java Persistance API and Hibernate ?)

Stanislav [11:41 AM]
@Prodigy аха

disemen [1:09 PM]
commented on Stanislav’s file 20180724_143043.jpg
что за книга?
Stanislav [1:10 PM]
Java Persistance API and Hibernate

Vitaly [12:14 AM]
кто-нибудь глубоко вникал в ссылку (3 лекция) про проблему JPA/hashcode dilemma?
как все-таки правильнее всего делать для сохраняемых сущностей?


Vitaly [Today at 12:18 AM]
image.png



7 replies
Victor [14 hours ago]
https://web.archive.org/web/20170524072455/http://www.onjava.com:80/pub/a/onjava/2006/09/13/dont-let-hibernate-steal-your-identity.html?page=1
как ни крути id в базе это плохо:
нужно переопределять equals, потому что иначе объект из базы и новый объект всегда будут не равны, потому что у них разные ссылки.
только если сравнивать только по id, тогда два новых объекта, у которых id = null будут равны не смотря на другие варианты == плохо (нельзя сохранить в один Set например)
если сравнивать по id, но когда id==null, всегда возвращать false == плохо(если такой объект сохранить в Set, а потом его id изменить, то объект будет потерян)
использовать natural key, который будет основан на immutable полях (кроме поля с ID) объекта == плохо (у объекта таких полей может не быть, или такие поля в редких случаях могут меняться. Тогда приложение сломается)
Итог: нужно id генерировать в приложении, а не в базе.
в model добавлять version, и если это поле равно null, значит объект новый.
и тогда можно спокойно использовать equals и hashcode.


Victor [14 hours ago]
это вывод из статьи, который я вывел. Если смотреть на наш проект, где уже есть реализация, то его переделывать не стоит. Так Татьяна сказала по моим выводам


Victor [14 hours ago]
2018-07-25_01-05-06.png



Vitaly [7 hours ago]
получается да, либо через version, либо через бизнес-ключ, по крайней мере в JPA in Pers об этом же сказано, значит я правильно подумал


Vitaly [7 hours ago]
ключевая мысль - equals через primary key это зло


Vitaly [7 hours ago]
мне вот еще не нравится реализаиця нашего equals через класс Хибернейта


Victor [2 hours ago]
ну вроде нет. Если id генерировать в базе + выполнить пару условий. То будет простой quals и hashcode методы. А если что, в ассертах есть методы сравнить каждое поле без equals


Grigory Kislin [2 days ago]
"правильнее" - нет такого
мой выбор (собственно стандартная практика) -  то что в topjava


Yevhen Maksymovych [8:46 PM]
не по теме, но что-то дико смешным показалось
https://www.youtube.com/watch?v=BNU7oYP59RQ
YouTubeBiplaneTV
Экскурсия в Digital лес


Grigory Kislin [10:17 PM]
@Yevhen Maksymovych разработчиков не увидел

Victor [1:54 PM]
нет, ну почему нет смайлика спасибо сказать,


Artem [Yesterday at 5:05 PM]
Коллеги.
Меня позвали в T-Systems на собеседование. Уже завтра.
(я работаю и на работе у меня просто ад, поэтому хочу быстрее уйти - не судите за торопливость)

Может быть кто-то что-то знает что там? Как там? Что за вопросы на тестировании? Какие-то советы есть? (edited)


43 replies
e.pekhterev [1 day ago]
город какой?


Daniel [1 day ago]
@e.pekhterev СПб


Daniel [1 day ago]
@Artem расскажи обязательно потом, как прошло:)


e.pekhterev [1 day ago]
тоже интересно


e.pekhterev [1 day ago]
я тоже в СПб


Artem [1 day ago]
Догадываюсь я как пройдет))) Раз это мое первое собеседование на программиста.


e.pekhterev [1 day ago]
как выйдесь с собеседования - запиши вопросы какие были, особенно те, на которы не ответил


e.pekhterev [1 day ago]
какое-нибудь тестовое задание было или сразу на собеседование?


tkorky [1 day ago]
вот они, конкуренты:sweat_smile: могу сказать что знание немецкого будет хорошим плюсом, тут зависит еще от проекта в который будешь собеседоваться


tkorky [1 day ago]
также если не оч подходишь, но хорошие знания кора могут позвать в джавашколу при них же, почти как тут пишешь проект на ЕЕ, 1,5 месяца чтоли, и занятия по 4ч, 2-3р в неделю


e.pekhterev [1 day ago]
он и собирается в эту джавашколу) т.е. это собеседование в джавашколу т-системс (edited)


Artem [1 day ago]
@tkorky ты тоже туда?)))


Artem [1 day ago]
Ну, немецкого у меня нет(


Artem [1 day ago]
И "хорошие знания кора" - во это меня всегда пугает... Неужели есть спецы, которые весь кор наизусть знают?


tkorky [1 day ago]
да я уже там как тестер, но хочу свитчнуться в разработчики) да не, сильно не переживай, это не яндекс какой нибудь, там тебя особо прям сильно гонять по кору прям  не будут, и вопросы по проксям/рми/ всякой ненужной непонятной хрени тоже врядли будут) скорее всего логические задачки+ джавараша 30+лвл (если ты оттуда) тебе хватит)


tkorky [1 day ago]
+ они сейчас набирают довольно часто, каждые 1,5мес


e.pekhterev [1 day ago]
тоже чтоль сходить)

Artem [1 day ago]
Спасибо, поддержал!) А как там с требованиям к иностранному?


tkorky [1 day ago]
и вообще они расширяются довольно быстро, за 2 года с 700 человек до почти 1200, вот


tkorky [1 day ago]
ну уметь читать документацию на англ это минимум


tkorky [1 day ago]
скорее всего даже на собеседе попросят технический текст перевести, и немного пообщаться


tkorky [1 day ago]
а там уже после джавашколы снова будет зависеть от проекта


e.pekhterev [1 day ago]
не очень высокие смотрю требования по сравнению с Епам например


e.pekhterev [1 day ago]
во всяком случае в плане знания английского


Artem [1 day ago]
Если ты про английский, то да)


Artem [1 day ago]
Во! В точку)


tkorky [1 day ago]
ну учитывайте что джавашкола это просто стажировка, а потом уже на показе выпускного задания с вами будут общаться менеджеры и смотреть подходите вы или нет в проект (edited)


e.pekhterev [1 day ago]
там миниму B1 на разговорный для выпускников

tkorky [1 day ago]
у каждого проекта свои требования)


e.pekhterev [1 day ago]
так я и говорю про требование на поступление на курс джаваКор в Епаме

tkorky [1 day ago]
Ааа :)


e.pekhterev [1 day ago]
опа, сейчас у них для всех *знание английского языка на уровне не ниже B1.*
раньше было только для выпускников такое требование, а для студентов A2


Artem [1 day ago]
@tkorky Расскажи как на тестера попал?)


tkorky [1 day ago]
по большей части случайно, через ихнюю же тестершколу) + к тестерам  другие требования, даже попроще чутка( правда давно было,  не знаю как сейчас): английский+немецкий(А2-Б1 оба) + логическое мышление


tkorky [1 day ago]
и еще совет, если по итогам джавашколы к примеру у вас будет два оффера или пойти в легаси проект но сразу на мидла, или на джуна, но там более менее современный стек, не ведитесь на зп и выбирайте второе :) иначе вполне может быть так что будете день за днем переписывать конфиги и парсить xml, и медленно деградировать :) :) :)


Artem [1 day ago]
Да))) Спасибо. Эт само собой)


Artem [1 day ago]
Проблема, если предлажат только один на Легаси, а я уже безработный и надо куда-то идти)


tkorky [1 day ago]
печально тогда, ну в случае чего есть программа ротации по которой через 1,5года можно сменить проект)


e.pekhterev [1 day ago]
@tkorky что значит пойти в легаси проект?


tkorky [1 day ago]
ну это те проекты в которых уже не ведется особой разработки, например или проект уже написан и нового функционала уже скорее всего не будет, но проект при этом нужно поддерживать. Также возможны случаи что софт вообще будет писать совсем другой вендор, а от разработчика в проекте будет требоваться только саппорт/апдейт тестового фреймворка для тестировщиков.


e.pekhterev [1 day ago]
т.е. это просто проект на поддержки без развития


tkorky [1 day ago]
угу


e.pekhterev [1 day ago]
мда, вот какие нюансы бывают


Stanislav [10:59 AM]
PDF 
Java_Magazine_JulyAugust_2018.pdf
22 MB PDF


Vitaly [5:18 PM]
читаешь и думаешь - как страшно жить


Vitaly [Today at 5:18 PM]
https://docs.google.com/spreadsheets/d/1YQv2E839DEqJ-bq5C872rpPVx-1RIh3XXjGAbcrE5kk/edit#gid=0



2 replies
Tanya [3 hours ago]
владелец удалил, но гугл так просто не сдается


Tanya [3 hours ago]
Pasted image at 2018-07-27, 10:41 AM


tema.emelyan [5:27 PM]
@Vitaly где ты такое добро нарыл :slightly_smiling_face: (edited)

Vitaly [5:29 PM]
я талант) если честно - искал задания на java junior, а это яндекс опять начал сканировать гугл доки, теперь сижу, просто до слез пробирает, надо сохранить себе

Yevhen Maksymovych [5:29 PM]
жиза )

Vitaly [5:29 PM]
да там каждая строчка - перл

tema.emelyan [5:30 PM]
вообще огонь. мой любимый пока что - это чувак, который начал почту спамить после того как не взяли из-за хамства

Vitaly [5:31 PM]
image.png 

надо взять на вооружение

tema.emelyan [5:36 PM]
Прекрасный разработчик с хорошими техническими знаниями проработал у нас полтора месяца (с 5 марта по 16 апреля). Он попросил для работы купить ему макбук - купили. И на следующий день он исчез и по сей день (в скайпе не отвечал, в вконтакте тоже, телефонные звонки игнорировал), даже не забрав свою зарплату.
у чувака квест был выбить макбук оригинальным образом

Vitaly [5:39 PM]
image.png 


Yevhen Maksymovych [5:40 PM]
может чувак живёт где-нибудь в бутого, и его просто гопнули по дороге домой с новеньким макбуком )

Vitaly [5:40 PM]
вот тут обидно, может он правда так думает

tema.emelyan [5:49 PM]
@Vitaly у нас такого одного забанили в начале стажировки по-моему
но там по амбициям чувак уже скорее всего ceo google
вообще похоже таких ребят в индустрии хватает =(

Yevhen Maksymovych [5:50 PM]
о, кстати, я все хотел спросить, куда делся чувак такой забавный, который всем про жизнь пояснял из самой первой темы

Vitaly [5:51 PM]
только Григорий знает

shtramak [5:51 PM]
Ну Григорий писал, что забанил на неделю

tema.emelyan [5:51 PM]
допояснялся видимо :slightly_smiling_face:

shtramak [5:51 PM]
Тот видимо не принял удара его самолюбию
:face_with_monocle::fencer::lion_face: остались от него только три смайла

Vitaly [5:54 PM]
я его как то так запомнил
image.png 

@tema.emelyan да не скажу, что по моей старой работе было меньше кадров.. везде есть.. человек, 40 лет, не вышел на работу - звоним - у него денег на проезд нет (вчера была ЗП), при чем он их не пропил, просто жене отдал.. второй сел на ящики с яйцами для отгрузки обедать.. много чего можно вспомнить веселого)

tema.emelyan [6:01 PM]
ну да приколы и особенности есть везде, просто у меня чувство, что в айти характерная черта у многих это наличие "я красавчег, а вы говно". я бы лучше с чуваком который на яйца садится работал чем с таким красавчегом

Vitaly [6:02 PM]
ну это да.. есть такая ерунда, почему то завышенное ЧСВ в среднем "по палате"

Grigory Kislin [7:18 PM]
> я все хотел спросить, куда делся чувак такой забавный, который всем про жизнь пояснял из самой первой темы
я ему аккаунт вернул, вот ответ:
> Отказано в большой просьбе, второй Javarush цензурой и разговорами, какие вы офигенные программисты, как вас все ждут, достаточно просто посидеть, а учиться, трудиться - это для лохов с огромным ЧСВ. Не полезу я к твоей пастве

извиняйте:) (edited)


e.pekhterev [4 hours ago]
это про LeoJames я так понимаю)?


Tanya [3 hours ago]
его видимо и в джавараш забанили... не оценили :face_with_rolling_eyes:


Grigory Kislin [3 hours ago]
про него. я честно не понял  ничего. но возможно:)


Daniel [2 hours ago]
Да не, парень 8 лет на Java уже кодит, какой JavaRush)


e.pekhterev [2 hours ago]
@Tanya я его там не помню, не видел и не слышал (я про JavaRush). Там как то тихо спокойно было, либо модераторы быстро чистили. (edited)


Daniel [2 hours ago]
Он просто сравнил цензуру на джавараше с тутошней, вот и все


Tanya [2 hours ago]
так, а что он делал то на джавараш с 8+ опытом?


Artem [2 hours ago]
@Tanya Тоже самое что и здесь))) Троллил всех, юморил "очень смешно".


Daniel [2 hours ago]
Да кто вам сказал, что он на джавараше был вообще? Я тоже могу бегать и орать, что в Америке все плохо, хотя я там никогда не был. Парень он нормальный, сужу по личному общению, просто амбиции достаточно высокие. Забанили - обиделся, бывает со всеми такое.


e.pekhterev [2 hours ago]
@Tanya критиковал, мол разводите людей на деньги и т.д. ну это с его слов, насколько я помню)) (edited)


Maksim K [2 hours ago]
Да был он на Джавараше!! Стопудово. Он меня еще там бесил). Типа все кругом тупые, а он один умный. Лично я с ним никогда в словесные перепалки не вступал, не считаю нужным тратить свое время на таких (хотя иногда хотелось) ). Его и на ДжаваРаше тоже, кстати, банили.


Daniel [2 hours ago]
@Maksim K стопудово  - это какой ник у него тогда был там? Или у тебя просто желание обкакать кого-то? Я лично не помню его, как и выше отписавшийся.


Maksim K [2 hours ago]
@Daniel Такой же и был. ЛеоДжеймс. Ну вы же про него. И для твоего сведения, я не из тех, кто просто так от нечего делать хочет обкакать кого-нибудь. В отличие от того же Лео. Если ты с ним там покорефанился и я обидел твоего друга, то извини.


Maksim K [2 hours ago]
Тут на первом или вводном задании была ссылка на видео Якова Фэйна. Там он по этому поводу хорошую вещь сказал с которой я полностью согласен. Не буду все пересказывать. Но суть такова, что он сказал, что в первую очередь надо быть нормальным адекватным человеком. Он сказал, что если к нему на работу придут устраиваться два человека, один хорошо кодит, но жуткий неадекват, а второй хороший парень, но кодит не очень, то он возьмет второго. Ибо научить кодить человека можно, а вот просто быть человеком это сложнее или невозможно. Можешь этот видос глянуть. Интересно


Maksim K [2 hours ago]
И  в случае с Лео и такими же. Мне кажется таким будет тяжело на работу устроиться и работать вообще. И я сейчас совсем не про его способности как программиста. Может он и действительно хорошо знает Джаву, но это не повод чтобы считать себя выше других. У меня, кстати, давно еще возникло мнение, что у него возможно в обычной не интернетовской жизни какие-то комплексы, вот он и вымещает свою злобу в инете.


e.pekhterev [2 hours ago]
@Maksim K про слова Файна о адекватности при выборе - это везде в айти так, софт скилзы очень ценятся, да и не только в айти


Maksim K [2 hours ago]
не понял, в смысле софт скилзы.


Maksim K [2 hours ago]
там он говорил, что ценятся коммуникейшен скилз (если по-русски))


e.pekhterev [2 hours ago]
_У меня, кстати, давно еще возникло мнение, что у него возможно в обычной не интернетовской жизни какие-то комплексы, вот он и вымещает свою злобу в инете._ - таким людям могу сказать только одно - найди уже себе бабу)))) надеюсь некого не обидел



Maksim K [2 hours ago]
ахаха. я тоже это про него думал))


e.pekhterev [2 hours ago]
ну почитай в гугде про soft skills


Maksim K [2 hours ago]
читанул в кратце. буду знать. просто Яков по другому выразился)


e.pekhterev [2 hours ago]
есть hard skills, soft skills и т.д., поищи почитай, и это не только в айти, это везде оперуют этими понятиями


e.pekhterev [2 hours ago]
ну Яков в теме что это такое, просто он общими словами сказал


Maksim K [2 hours ago]
ну в той сфере, где я работаю такими терминами вообще не оперируют


Maksim K [2 hours ago]
а насчет того, что надо быть человеком в любой ситуации, то это да! это везде важно


e.pekhterev [2 hours ago]
пойдешь в любую серьезную контору - люкссофт, епам, т-системс - везде это будет


e.pekhterev [2 hours ago]
как и тот же скрам, надо бы тоже почитать для общего развития что это такое, если не знаешь


Maksim K [2 hours ago]
ну если нужны такие скилз, то думаю. с этим у меня проблем не будет. Я вообще по жизни милашка)))


e.pekhterev [2 hours ago]
)

e.pekhterev [2 hours ago]
ты милашка, а он - противный))) ахаха)))


Maksim K [2 hours ago]
блин, хорошо бы вообще много чего почитать. но мне бы хоть про всякие спринги и хибернейты хотяб  пока почитать)


Maksim K [2 hours ago]
ты куда это клонишь?))


Maksim K [2 hours ago]
у меня, если че жена есть) и дети)


e.pekhterev [2 hours ago]
шутю, где твои софт скилс сразу пропали)?


Maksim K [2 hours ago]
я девочек люблю)

Maksim K [2 hours ago]
ну это же скиллз. их надо качать, как мышцу) век живи - век учись)

Maksim K [1 hour ago]
И вот, кстати, для тех кто не верит что ЛеоДжеймс с ДжаваРаша специально потратил две минуты жизни нашел его там. Ниже ссылка. Можете почитать комменты. И, кстати, там он еще мягко. Обычно всех посылал))
https://javarush.ru/groups/posts/581-podelisjh-znanijami-poluchi-priz-novihy-konkurs-postov-ot-javarush-
JavaRush
Поделись знаниями, получи приз! [новый конкурс от JavaRush]
Друзья! Мы, команда JavaRush, очень вдохновились результатами нашего первого конкурса статей, и решили не тянуть кота за хвост, а просто взять — и объявить следующий конкурс. И снова — творческий. Мы снова предлагаем вам написать пост (или несколько постов) для наши... (52 kB)


Daniel [1 hour ago]
@Maksim K хорошо, прошу прощения, судя по слогу - действительно он. Но он же никого не оскорблял, такая критика как у него - в каждом первом каменте на Хабре. Другом он мне не был. Я просто не люблю, когда толпой накидываются на людей за спиной у этих самых людей, какие бы они не были. Это как минимум не этично.


Maksim K [1 hour ago]
Ну не особо то и накидывались на него тут)) Даже ни одного мата не было)) А я и не обиделся. Я уже взрослый дядя)) Привык, что в инете всякое бывает. Это же интернет, тут все герои, красавцы, силачи и так далее. И просто я так про него написал, потому что он реально уже через край хамил порой. Высказаться резко иногда могут все. но некоторые   это делают регулярно. И это печаль


Join_Selectovich [1 hour ago]
Мне кажется у него всё-таки комплекс какой-то был


Join_Selectovich [1 hour ago]
Он 8 лет вроде фрилансил потом решил перепрофилироваться. Наверное обычно фрилансеры индивидуалисты - в коллективе наверное сложно им, а коллективу с ними. 
Кстати, если почитаете его диалоги - то во многих местах сквозит какое-то презрение и уничижительное отношение к людям. (как он их только не называл: и людишки, и население, серая масса и т.д.) В общем интересный чувак.. (edited)


Maksim K [39 minutes ago]
@Join_Selectovich Я так понял, что фриланс - это плохо)), 8 лет сидеть дома и не выходить "в люди" плохо сказывается на человеке)) Дичаешь)


Join_Selectovich [35 minutes ago]
@Maksim K Сложно сказать, но фриланс штука наверное довольно специфичная. Я не утверждаю что это плохо, но возможно какой-то отпечаток на личности оставляет. (edited)


Daniel [30 minutes ago]
Ну к слову сказать, он больше всех агитировал ходить постоянно на различные ивенты и митапы, сам их регулярно посещал, и говорил о важности подобных мероприятий и нетворкинга в частности. Так что заподозрить его в асоциальности было бы странно.


Vitaly [8:13 PM]
задумался - стоит ли писать в резюме про уровень ЗП? с одной стороны, напишешь, и он будет не завышенным - ты адекват; с другой стороны - нельзя занижать (мне кажется для нормального работодателя программист за еду - тоже неправильно); или все же не писать? где та грань для начинающего, как думаете?

Artem [8:14 PM]
Файнс говорит вообще не писать.

Victor [8:52 PM]
Если в резюме не напишешь, все равно могут спросить HR. Я думаю ответить так: "Эта работа будет первой в роли Java программиста. На какую заработную плату я могу претендовать, по вашему опыту?"

Vitaly [8:53 PM]
@Victor это да, я именно про резюме, чтобы увеличить шансы не быть отправленным в корзину в течении 5 секунд :slightly_smiling_face:

Victor [8:53 PM]
я не пишу в резюме, так проще

Daniel [9:05 PM]
@Artem ну что, тебя можно поздравить?)

Artem [9:14 PM]
@Daniel Только если принято поздравлять с провалом :disappointed:

tema.emelyan [9:15 PM]
@Artem чо было?

Artem [9:20 PM]
@tema.emelyan
Очень долго рассказывать.
Я рассказал вот тут: https://discord.gg/fRRmfU

В ветке flood. Если интересно - присоединяйся)
Копировать, извини, не буду) Там много.
Discord
Discord - Free voice and text chat for gamers
Step up your game with a modern voice & text chat app. Crystal clear voice, multiple server and channel support, mobile apps, and more. Get your free server now!
https://discordapp.com/assets/ee7c382d9257652a88c8f7b7f22a994d.png

Daniel [9:20 PM]
@Artem ну опыт, это только в плюс, не расстраивайся! Не так волноваться будешь уже в следующий раз, лучше подготовишься)

Artem [9:21 PM]
@Daniel спасибо :slightly_smiling_face:
за поддержку)

Stanislav [9:27 PM]
Практически каждый соискатель, публикуя свое резюме, рассуждает одним из следующих путей:

* Если напишу столько, сколько есть, то больше мне не предложат.
* Если напишу много, то буду не востребован.
* Напишу мало — и меня завалят звонками с недорогими предложениями, а некоторые будут меня недооценивать как профессионала.

По статистике, если в резюме отсутствует информация о желаемой заработной плате, то количество приглашений снижается в связи с тем, что работодателям необходима полная информация как о вашем профессиональном уровне, так и о зарплатных ожиданиях.

Стоит изучить рынок, в разных регионах. Иметь несколько резюме. Как минимум подготовится к диалогу по ЗП.
Но это со своей стороны т.к. опыт в сфере ИТ есть большой. А вот если только с института или прошлая деятельность не была связана с ИТ то хз. (edited)
В проекте topjava есть файл "cv.md" почитайте его. (edited)

Vitaly [9:34 PM]
>или прошлая деятельность не была связана с ИТ
как раз про это

Tanya [9:56 PM]
с зп вопрос непростой, писать или нет
муж когда решил поменять работу, то в резюме желаемую не писал, т.к. она была выше "средней по больнице", но в личном разговоре с рекрутерами говорил, что мол сейчас такая-то и терять в деньгах не хочу. В результате предложили базовую зп меньше, но + welcome bonus + квартальная премия и страховка с первого дня и обязательный пересмотр зп через год. (edited)

Stanislav [10:01 PM]
@Tanya Не забывай, еще надо делать акцент на менталитет - страну.
Если нет опыта в сфере ИТ скорее всего зп указывать не стоит, но необходимо подготовится к этому разговору и быть осведомленным ценника.
Этот вопрос больше психологического свойства. Вести разговор о ЗП тоже надо уметь.

Tanya [10:05 PM]
вспомнилось :slightly_smiling_face:
"Жил был один менеджер по продажам. Пошел устраиваться на работу. Долго ли коротко ли резюме рассылал, а как-то пришел в одну контору на собеседование с генеральным директором. И шло у них собеседование шесть часов. Уже и директор взмок, и менеджер три раза воды просил. А все никак не могут договориться. Начинали с двухсот баксов в месяц - а уже за два с половиной килобакса спорят, и проценты, и бонусы, и какие-то еще там спортзалы, мобильные связи, обеды, подъемные, страховки, отпуск, командировочные, машину служебную, ноутбук, кучу всякого менеджер себе выбил. Сдался в итоге генеральный директор, все условия выполнил. Все, что менеджер просил - дал.

Приступил менеджер к работе, и за первый месяц увеличил продажи втрое, потом вдесятеро, потом в сто раз, потом вообще все в конторе продал, включая мебель, канцтовары, секретаршу - мужикам в баню, базу данных клиентов - конкурентам, а самого шефа - налоговой.

Потому что это был, сцуко, очень хороший менеджер по продажам..."

Stanislav [10:12 PM]
Недавно была интересная статья на хабре: https://habr.com/post/413819/
Хабр
Про рынок ИТ в России по-честному
В последние несколько лет мои переживания по поводу российского рынка ИТ только усиливались. Все началось с кризиса рубля 2014 года (а может, и раньше), и с тех...
https://habr.com/images/habr.png


shtramak [7:47 PM]
интересная штука для метрик в спринге https://docs.spring.io/spring-metrics/docs/current/public/prometheus (edited)


shtramak [Jul 30th at 7:47 PM]
Не пробовал правда(


1 reply
Prodigy [1 day ago]
попробуй, расскажешь потом)


Yevhen Maksymovych [11:32 AM]
Коллеги, вопрос для флуда. Из одной конторы прислали тестовые задания, ожидал увидёть какой-нибудь круд-рест, а там алгоритмика - всеми любимые ханойские башни, задача коммивояжера и теорвер. насколько это вообще распространено? какая доля работадателей в качестве тестового такие штуки задает?

Valery.Shkerdin [11:45 AM]
Последний раз собеседовался на один проект, первый вопрос про опыт был, потом на то что будет применяться в проекте, это ява кор, проект был без применения сторонних библиотек и фреймворков, про структуру xml и xst, они применялись в проекте, и как неудивительно да, алгоритмы, много алгоритмов, разных самых. но я замахнулся на сеньёра ))) и не прогадал. Думаю поэтому было всё, что знал сам рекуртер )))

Prodigy [12:04 PM]
почти везде есть вопросы на алгоритмы, поэтому знать их нужно и готовиться

Ignat [12:05 PM]
Во многих статьях и тредах на форумах говорят, что задания на интерью и задачи которые тебе будут давать на работе достаточно часто не коррелируют. Так что, тут надо ещё смотреть на работодателя. Могут запарить алгоритмами, а потом по факту будешь "программировать на фреймворках". И наоборот. В России сложные тех. собеседования достаточно распространены. В США и Европе сейчас больше внимания уделяют софт-скиллам. Ведь суперзадрот который знает и разбирается во всех алгоритмах и структурах данных, но не может с коллегой поговорить, никому не нужен. Если человек готов развиваться и учиться, он втянется в проект и подтянет необходимые знания.

Prodigy [12:09 PM]
это зависит от того что нужно конторе от тебя: коммуникативные скилы или решать поставленные задачи..... есть такие которые связать двух слов не могут, но разбираться в вопросах глубже и решать вопросы быстрее

Ignat [12:14 PM]
В "решать поставленные задачи" в большинстве случаев нужна коммуникация с коллегами, тестерами, РП и т.д.

Yevhen Maksymovych [1:09 PM]
джавакор открывает новые грани, то ли я с этим не сталкивался, то ли сталкивался, но за давностью забыл )) оказывается, мапу можно инициализировать при объявлении с помощью {{ }}

Ignat [1:21 PM]
Double brace initialization такое, на любителя. В 9ю джаву хотели завезти Map.of(). Но я не проверял.

tema.emelyan [1:23 PM]
всё что угодно так по идее можно инициализировать

Ignat [1:26 PM]
По идее да, это получается анонимный класс с блоком инициализации. На практике ни разу не встречал и сам не использовал.


shtramak [Aug 1st at 8:58 PM]
интересная статья про перформанс ORM в php, к джаве тоже относится. Интересно, есть ли в jpa штуки, чтобы согласно этой оптимизации не писать 2 запроса каждый раз.. https://ocramius.github.io/blog/doctrine-orm-optimization-hydration/
ocramius.github.io
Doctrine ORM Hydration Performance Optimization
Hydration is the most expensive operation performed by Doctrine ORM: how do we prevent it from killing our applications?


2 replies
shtramak [2 days ago]
В слаке javaspecialists просто чувак задал вопрос, почему у него для одного запроса тратится 3 секунды и он грузит 53к связанных записей


shtramak [2 days ago]
в комментах ему дали эту ссылку и написали

for example... if you have two entities... Article and Comment ... you should never load them in one roundtrip...
this is wrong: `SELECT article FROM Article article LEFT JOIN FETCH article.comments`
this is correct: `SELECT article FROM Article article` ... then you iterate the articles, collect their ids... `SELECT comment FROM Comment comment WHERE comment.article.id IN :articleIds`


SergeyA [12:16 PM]
В видео "босиком по граблям хибернейт" https://youtu.be/YzOTZTt-PR0
Такая фраза: " *если вы не знаете что возвращать - возвращайте всегда 42* ".   Что это значит? Это какой то прикол программистский? 
Кажется в "автостопом по галактике " комп выдал смысл жизни = 42?   (13:46) Что это за число? :) (edited)
YouTubeJUG .ru
Николай Алименков — Босиком по граблям Hibernate


Yevhen Maksymovych [12:18 PM]
ну, это просто число из хитчхайкерс гайд ту зе гэлэкси, первое что пришло на ум Кларку. собственно, оттуда это и пошло - как ответ на риторический вопрос
или как то, что в принципе должно обладать каким-то смыслом, но по факту этого смысла не имеет
как в анекдоте: - петька, приборы! - триста! - что "триста"? - а что "приборы"?

shtramak [12:26 PM]
42 - это шутка, что это число-ответ на все вселенские вопросы

Stanislav [12:40 PM]
Еще рекомендую (не много по свежее) https://youtu.be/C-wEZjEOhWc
YouTubeJUG .ru
Вячеслав Круглов — Введение в Hibernate: что, зачем, и где стандартные ловушки


SergeyA [10:13 PM]
Мне в обучении java очень удивительно слышать что производительность меряют количеством запросов к базе :wink:
Что Алименков в его "Босиком по граблям Hibernate" Что @Grigory Kislin в видео.
Я понимаю что условиях многопоточности количество запросов может измеряться тысячами и важно снижать количество...
Но до сих пор, я читал совсем другие советы, типа:
-не использовать "AND" в секции "where"
-не использовать подзапросы и "AND" в условии соединения...
Думаю что качество запроса все таки важнее количества - *или в Джаве все запросы совсем примитивные - и вложенных со сложными join'ами не делают?*

Я не только в теории а и на практике пару раз видел как программисты делали 1 (один!) отладочный запрос, который заставлял temp.db вырасти и "подвесить" SQL сервер на мощном железе.
В последний раз это было 1,3 Терабайта на системном диске.
причем запрос был всего строк в 15-20 не сильно большой. и база всего гигов 500. Но из-за грубой ошибки в конструкции - запрос работал пока результаты не заполнили все свободное место.
В конторах не было нормального DB админа поэтому неверно настроенный сервер и остановился, но не в этом суть. Зло все таки было в одном единственном запросе :slightly_smiling_face:

Grigory Kislin [10:44 PM]
1. ну, взять и перемножить несколько раз на себя небольшую таблицу- вот и положил базу
2.
> Но до сих пор, я читал совсем другие советы, типа:
-не использовать "AND" в секции "where"
-не использовать подзапросы и "AND" в условии соединения...
а можно на эту тему ссылки в студию. чем они плохи? (edited)

SergeyA [11:02 PM]
1) ага это будет что то типа "full outer join" самой с собой таблички которую забыли сгруппировать в подзапросе (забыл уже детали той истории)
2) вообще это советы из книги по 1с8 "настольная книга эксперта по технологическим вопросам"  щас поищу детали. 
Не только в 1С конечно - кажется на курсе 2778 "Writing Queries Using Microsoft SQL server 2008 T-SQL" мне это тоже давали - но курс был 6 лет назад, и работал я все это время с большими запросами SQL только из 1С, поэтому и пример у меня оттуда будет. (edited)

Grigory Kislin [11:13 PM]
пока не увижу ссылку и обоснование- не приму в расмотрение

SergeyA [11:15 PM]
Вот нашел. Прошу не плеваться на то что это 1с. :slightly_smiling_face:  запросы в основном уходят в SQL 1:1 лишь преобразуя русское ВЫБРАТЬ в SELECT, ОБЪЕДИНИТЬ ВСЕ - UNION ALL   и т.д.:
*Использование логического ИЛИ в секции ГДЕ запроса*
https://its.1c.ru/db/content/metod8dev/src/developers/scalability/standards/i8105842.htm?_=1530716605#or (edited)
*Cоединения с подзапросами*
https://its.1c.ru/db/content/metod8dev/src/developers/scalability/standards/i8105842.htm?_=1530716605#subquery_join

Tanya [11:20 PM]
@SergeyA
> не использовать "AND" в секции "where"
> Использование логического ИЛИ в секции ГДЕ запроса

AND - это *и*
OR - это *или*

SergeyA [11:20 PM]
я знаю )  по памяти же писал - чего придираетесь :slightly_smiling_face: (edited)

Tanya [11:21 PM]
так а как два эти момента между собой связаны?
так это совсем не одно и тоже


SergeyA [Yesterday at 11:24 PM]
Я такой человек - не придаю внимания мелочам и бываю неточен :slightly_smiling_face: из-за этого на меня иногда злится руководство. Но мне кажется это чисто ИТшное качество. Ведь в компьютере всегда можно сделать ctrl+z и исправить. Компьютер приучает делать работу примерно - и мыслить не раз и на всегда, а просто "примерно в том направлении" ))
Главное я помню - что, что то такое делать не надо. и если будет тормозить запрос я вспомню  и пойму причину ) (edited)


1 reply
Tanya [2 hours ago]
напомнило
- Скажите, а правда, что Абрамович выиграл в лотерею миллион? 
- Правда, только не Абрамович, а Рабинович, не в лотерею, а в карты, не миллион, а десять рублей и не выиграл, а проиграл.


Grigory Kislin [11:42 PM]
не, это что-то древнее. лучше всего скажет нагрузку на базу план запроса EXPLAIN в уроке 4 (для постгрес)


SergeyA [Yesterday at 11:47 PM]
Ок. просто измерение запросов их количеством как то режет слух ).  ведь 2 запроса подряд могут оказаться быстрее одного составного..
Про EXPLAIN  почитаю, к сожалению толк от анализа плана выполнения у меня никогда не получался (по крайней мере в профайлере MS SQL). Буду пробовать еще )


1 reply
Tanya [2 hours ago]
> ведь 2 запроса подряд могут оказаться быстрее одного составного..
ну это у нас было в basejava, когда вместо join делали отд запросы
в данном же случае берем *одну* еду/ *одного* юзера и присоединяем записи из *одной таблицы*


Grigory Kislin [12:06 AM]
не надо смешивать кол-во запросов в базу для получения необходимых данных и сложность запроса. это разные вещи. возможно из-за дублирования данных действительно вместо join иногда вместо 1 лучше 2-3 запроса. но не 1000 (edited)


Vladimir Gorbatenko [Today at 2:28 PM]
https://cdn-tn.fishki.net/26/upload/post/2018/08/09/2672236/df7d99125937c00b75c771c9ad8b6b9c.jpg (33 kB)



1 reply
Ignat [8 hours ago]
Аж первый курс универа перед глазами проплыл. Учил так, что диффуры и интегралы снились пару раз. В кошмарах...:confounded:


Yevhen Maksymovych [3:00 PM]
я когда прошлый раз проходил топджава где-то на моменте шестого урока приложил похожую картинку :slightly_smiling_face: (edited)


Yevhen Maksymovych [Today at 3:00 PM]
во, нашёл


1 reply
Vladimir Gorbatenko [8 hours ago]
да, помню )


Yevhen Maksymovych [3:01 PM]
Pasted image at 2018-08-09, 3:01 PM 


Daniel [3:01 PM]
Я думал у меня у одного только подобные ассоциации и метафоры в голове всплывают с середины курса...

Join_Selectovich [3:07 PM]
не у одного это :100:


Merkulov [Aug 13th at 2:24 PM]
Всем привет! Можно ли после прохождения топджава найти удаленку, на основной работе очень много свободного времени вот думал может не увольняться, а просто работать удалено. Кто что думает?


2 replies
Ignat [2 days ago]
Думаю, что без опыта работы это крайне трудно. Сначала будет трудно убедить работодателя взять тебя на удалёнку джуном. Потом тебе будет трудно работать на боевом проекте удалённо. Если онсайт ты можешь подойти к коллеге и тебе на пальцах объяснят, расскажут и покажут, то на удалёнке с этим сложнее. Реальные проекты на порядки сложнее учебных. Но это не аксиома. Если есть стремление, то можно попробовать. Хуже точно не будет.


Grigory Kislin [2 days ago]
согласен- можно, но сложнее. и ревью кода смотри чтобы было. (edited)


stea1th [11:07 PM]
Ребята, а кто мне подскажет, почему у меня это вылезло и что не в порядке?
Exception in thread "main" org.springframework.beans.factory.xml.XmlBeanDefinitionStoreException: Line 43 in XML document from class path resource [spring/spring-db.xml] is invalid; nested exception is org.xml.sax.SAXParseException; lineNumber: 43; columnNumber: 52; cvc-complex-type.2.4.a: Invalid content was found starting with element 'bean'. One of '{"http://www.springframework.org/schema/beans":beans}' is expected
на 43 строке у меня лежит это: p:packagesToScan="flug.project.**.model">


Михаил [Aug 20th at 6:12 PM]
https://www.youtube.com/watch?v=trX5rXjHB9s
YouTube Уроки Java
Программисты ожидание vs реальность
 


1 reply
turhanow [5 days ago]
реальность такова, что между IDE и google может быть еще  переводчик) (edited)


Vladimir Gorbatenko [11:48 AM]
https://cdn-tn.fishki.net/26/upload/post/2018/08/21/2681887/4767021890e542dd7212b1a9bc09b3fd.jpg
https://cdn-tn.fishki.net/26/upload/post/2018/08/21/2681887/4767021890e542dd7212b1a9bc09b3fd.jpg

Serg [4:08 PM]
Сюда продублирую Москва. Промсвязьбанк. Ищем мидлов или тех кто себя считает мидлом и выше. ЗП 140 тыс. резюме слать chaschinsa@psbank.ru


Prodigy [Aug 21st at 5:16 PM]
у кого-то есть Spring in Action издание 5 или выше? (хотя я не уверен есть ли выше) (на английском) (edited)


44 replies
Yevhen Maksymovych [4 days ago]
пятое издание выходит только осенью (или зимой)


Prodigy [4 days ago]
у меня ощущение было что я где то видел пятое


Yevhen Maksymovych [4 days ago]
вполне мог видеть, оно сейчас в MEAP-редакции (типа предварительная), и издательство обещает ещё как минимум одну такую редакцию, перед тем как она уйдёт в печать


Ignat [4 days ago]
Где-то валяется Spring 5.0 By Example


Yevhen Maksymovych [4 days ago]
Pasted image at 2018-08-21, 5:18 PM



Yevhen Maksymovych [4 days ago]
во, последнее обновление было с неделю назад


Yevhen Maksymovych [4 days ago]
а закончить обещают к ноябрю

Yevhen Maksymovych [4 days ago]
Pasted image at 2018-08-21, 5:20 PM
 


Prodigy [4 days ago]
я понял, значит почитаю четвертое издание


Prodigy [4 days ago]
а эту meap редакцию можно скачать?

Yevhen Maksymovych [4 days ago]
наверняка где-то в интернете найти можно


Yevhen Maksymovych [4 days ago]
я прям с сайта издательства качал


Yevhen Maksymovych [4 days ago]
за 30 баксов )))



Prodigy [4 days ago]
а что это за ценник у тебя?


Prodigy [4 days ago]
я нашел там такой:
MEAP eBook $39.99
pdf + ePub + kindle + liveBook


Yevhen Maksymovych [4 days ago]
я ещё с бумажной книжкой заказал


Yevhen Maksymovych [4 days ago]
+доставка

Yevhen Maksymovych [4 days ago]
и акция была какая-то, 50% скидка


Yevhen Maksymovych [4 days ago]
в итоге вышло что-то в районе тридцатки


Prodigy [4 days ago]
пришел уже бумажный вариант?


Yevhen Maksymovych [4 days ago]
не, придёт когда напечатают


Prodigy [4 days ago]
ePub версия тоже присутствует?

Prodigy [4 days ago]
интересно на сколько удобно читать на ридере


Prodigy [4 days ago]
pdf очень мелковат

Yevhen Maksymovych [4 days ago]
Я ради киндла собсна покупал

Yevhen Maksymovych [4 days ago]
На киндле норм читать, свёрстано специально под него


Prodigy [4 days ago]
я тут давеча начинал читать книгу с версией для ридера, так там код был как бык поссал... книга норм, но читать невозможно было


Prodigy [3 days ago]
@Yevhen Maksymovych как тебе подфартило с акцией? часто там акции бывают?


Yevhen Maksymovych [3 days ago]
Вроде постоянно. Погуглил вообще Manning discount code, думаю, можно найти валидный


Prodigy [3 days ago]
да, спасибо.... нашел)

Join_Selectovich [3 days ago]
Почитал до 50 страницы "Spring в действии" - ну это просто сказочно, на сколько все просто и доходчиво объяснено.


Prodigy [3 days ago]
4 или 5 редакцию?


Join_Selectovich [3 days ago]
3ку )


Prodigy [3 days ago]
ахаха) а че так?


Join_Selectovich [3 days ago]
вроде те еще не перевели

Join_Selectovich [3 days ago]
я не думаю что концепции сильно поменялись в 4ом и 5ом издании

Prodigy [3 days ago]
4 вроде перевели.... а вот пятой версии смотрю под спринг бут больше ориентирован


Yevhen Maksymovych [3 days ago]
Поменялись. Пятая вообще все про бут


Join_Selectovich [3 days ago]
так что сейчас без бута этого ни куда?


Prodigy [3 days ago]
ну судя по всему идем в сторону бута


Join_Selectovich [3 days ago]
это какая-то принципиально новая концепция или это апгрейт предыдущих подходов? (edited)


Prodigy [3 days ago]
ну типа много спрятали всего под капот, а ты типа только руль крутишь и педальки давишь)


Join_Selectovich [3 days ago]
:slightly_smiling_face:


Join_Selectovich [3 days ago]
Pasted image at 2018-08-22, 3:53 PM


Stanislav [Aug 21st at 5:57 PM]
Такое есть
PDF
ProSpring5Eng_2017.pdf
10 MB
PDF
 Click to view




1 reply
Prodigy [4 days ago]
толковая книга?


Михаил [6:05 PM]
Pasted image at 2018-08-22, 6:05 PM 


Prodigy [Yesterday at 12:29 PM]
Гайз, есть такая проблема: допустим я хочу идти в ногу со временем и использовать в своем проекте data-jpa, НО... нужно реализовывать сложные запросы где нужно фильтровать данные в зависимости от того что юзер выбрал в браузере. Вероятно мне придется использовать `EntityManager` для реализации более сложных запросов. Могу ли я заинжектить EntityManager, ну на примере нашего приложения, в `DataJpaMealRepositoryImpl` и работать параллельно с ним там, где мне нужно ? (это для меня критикал квесчин, от этого будет зависеть буду ли я использовать data-jpa или jpa)


41 replies
Stanislav [1 day ago]
Вопрос не понятен, чем тебе мешает data-jpa использовать сложные запросы


Stanislav [1 day ago]
У нас как раз реализация в проекте data-jpa дополняет


Stanislav [1 day ago]
Посмотри на DataJpaMealRepositoryImpl, это композиция

Prodigy [1 day ago]
ситуация такая, что в UI у юзера есть форма-фильтр, где ему дается порядка 15 различных полей для ввода данных, в зависимости от его выбора будет результат, так вот... то что выбрал юзер в фильтре прилетает на сервер, где я используя критерии jpa формирую запрос....  Я не знаю есть ли такие-же критерии в data-jpa, отсюда и вопрос (edited)


Grigory Kislin [1 day ago]
@Prodigy какими словами гуглил, что тебе он ответа не смог дать?? (edited)


Stanislav [1 day ago]
Ты разве в 4 уроке не делал задания на критерии?

Stanislav [1 day ago]
https://github.com/StanislavEsin/topjava/blob/c9b57955784f085fa9412da8b58ea413a747ad25/src/main/java/ru/javawebinar/topjava/repository/jpa/JpaMealRepositoryImpl.java
src/main/java/ru/javawebinar/topjava/repository/jpa/JpaMealRepositoryImpl.java
```package ru.javawebinar.topjava.repository.jpa;

import ru.javawebinar.topjava.model.Meal;
import ru.javawebinar.topjava.model.User;```
Show more…
StanislavEsin/topjavaAdded by GitHub


Stanislav [1 day ago]
Есть лучше решение, без дублирования


Stanislav [1 day ago]
Но смысл ясен

Prodigy [1 day ago]
я не гуглил.... мне понятен jpa с его критериа, но мне не понятен data-jpa и как тут реализовать критерии


Prodigy [1 day ago]
в jpa всё понятно, ты мне кинул ссылку на реализацию jpa

Stanislav [1 day ago]
У Data-jpa нет критериев

Stanislav [1 day ago]
критерии есть у JPA


Stanislav [1 day ago]
https://easyjava.ru/spring/spring-data-project/ispolzovanie-jpa-criteria-v-spring-data-jpa/
EasyJava
Использование JPA Criteria в Spring Data Jpa
JPA Criteria API это мощный механизм по генерации динамических и типобезопасных (при использовании Metamodel) запросов, который напрямую поддерживается в Spring Data Jpa, тем самым снимая ограничения других подходов к описанию запросов, но оставляя при это необходимый... #jpa #spring #springdatajpa (81 kB)
Mar 6th, 2017 at 1:47 PM


Stanislav [1 day ago]
2 ссылка в поиске


Prodigy [1 day ago]
вот, т.к. у data-jpa нет критериа, то вероятно имеет смысл инжектить EntityManager, верно или нет?


Stanislav [1 day ago]
Допустим не верно, как ты будешь использовать критерии (они требует EM)?


Stanislav [1 day ago]
Верно, инжекти, в чем проблема


Stanislav [1 day ago]
Только правильно инжекти


Stanislav [1 day ago]
http://javacore.ru/item/68-jpa-spring.htm


Prodigy [1 day ago]
ну тут как бы интересно не будет ли каких-то проблем если заинжектить EntityManager, потому как инжектя EntityManager я добавляю еще один persistence unit в приложение


Stanislav [1 day ago]
Не что-то не то пишешь, почитай ссылки, посмотри бин entityManagerFactory, почитай про аннотацию @PersistenceContext.....


Grigory Kislin [1 day ago]
@Prodigy
> я не гуглил...
вот это на данный момент твоя самая большая ошибка...
дошел до 8!! урока и не завел привычку гуглить перед тем, как задать вопрос (edited)


Prodigy [1 day ago]
какой смысл этих каналов тогда, если я и так могу у гугла получить все ответы?


Stanislav [1 day ago]
Будет интересно посмотреть реакцию твоей команды, когда ты им скажешь ''а какой смысл гуглить, когда есть вы, когда есть команда" :slightly_smiling_face:  Я считаю, что надо понимать, какие вопросы можно спрашивать (сложные, когда инфа так зарыта в нете, что ты не можешь ее найти, есть так же философия что уделять на поиски не больше 10 минут, а потом можно спросить), а когда лучше погуглить. В шахматах есть такой термин 'зевок' (когда ты пропустил ход-комбинацию которая как на ладони), вот тут как раз тот случай.


Prodigy [1 day ago]
это обучающий проект, и вопросы у людей возникают потому что есть недопонимание, а как я полагаю эти чаты и призваны помочь решить проблемы или подсказать человеку если он где-то чего-то не понимает


Stanislav [1 day ago]
Не так давно я обнаружил простой, но крайне эффективный способ того, как справляться с большим количеством желающих, чтобы вы сделали для них какую-нибудь нужную и не очень работу. Один простой принцип, и в наличии имеются:

1) 90% дел, которые отсеиваются сами без вашего активного участия,
2) те 10%, которые остаются – скорее всего действительно достойны того, чтобы вы им помогли

Как же этого добиться? Очень просто – нужно попросить человека, которому что-то от вас нужно, сделать первый шаг. Кто-то просит заполнить какие-то документы? Пускай он их подготовит и положит вам на стол. Кто-то просит написать программу? Пускай подготовит максимально детальную спецификацию или что там в его компетенции. Подружка просит свозить ее за покупками? Пускай выпишет время работы и адреса торговых центров, чтобы вам было проще спланировать маршрут.

Конечно, предполагается, что сделать эту работу надо больше для кого-то, чем для себя. И когда нет настроения придумывать дешевые отмазки, то, серьезно, просто попросите человека сделать первый шаг. И гарантированно 90% “просителей” как-то загадочно отсеиваются. Остаются только те, которым действительно нужно то, о чем они просят. Вот на таких людей и стоит тратить свое время.



Stanislav [1 day ago]
Ты даже не попытался сам разобраться в своей проблеме, даже после того как тебе скинули ссылки, ты их не прочитал - не проработал (мнение по последнему вопросу)..


Stanislav [1 day ago]
И не надо злиться-обижаться и т.д. Для тебя стараются
 ```Дайте человеку одну рыбу, и он получит пропитание на день, научите его ловить рыбу, и он получит пропитание на всю жизнь```


Prodigy [1 day ago]
последняя ссылка было про то как добавить энтити менеджер... но вопрос был не в том чтобы просто его добавить, а добавить в контексте data-jpa


Prodigy [1 day ago]
чувствуешь разницу?


Stanislav [24 hours ago]
Может я идиот (а такое может быть) что значит в контексте data-jpa? У нас есть бин entityManagerFactory который создается на основании класса 'LocalContainerEntityManagerFactoryBean'. Так вот, '...ManagerFactoryBean' на какие мысли наводит? Эта фабрика (паттерн фабрика). Так вот, аннотация @PersistenceContext вытаскивает EntityManager с этого бина (с фабрики). (edited)


Stanislav [24 hours ago]
На том же сайте http://javacore.ru/item/24-jpa-spring.htm

Stanislav [24 hours ago]
Туда же http://www.javacore.ru/topic/17-jpa-spring.htm


Prodigy [24 hours ago]
Хорошо, смотри... у нас есть такой класс:
```@Repository
public class DataJpaMealRepositoryImpl implements MealRepository {

    @Autowired
    private CrudMealRepository crudMealRepository;
........```
предположим мы добавляем энтити менеджер
```@Repository
public class DataJpaMealRepositoryImpl implements MealRepository {

    @Autowired
    private CrudMealRepository crudMealRepository;

    @PersistenceContext
    private EntityManager em;
........```
ты хочешь сказать что и `crudMealRepository` и `em` по сути будут использовать один и тот же персистенс контекст?


Stanislav [24 hours ago]
Если будет одна транзакция, то да. - если не прав, то меня подправят.


Stanislav [24 hours ago]
Ты это легко можешь проверить. Логирование sql в одной транзакции найди один и тот же entity через data-jpa и em/


Stanislav [24 hours ago]
2 запроса sql покажет что разные контексты т.к. нету кэша 1 уровня


Prodigy [24 hours ago]
я так понимаю что ты уже проверил) и я делаю вывод что всё же у нас 2 разных контекста получается... окей... что из этого следует, что мы можем внутри одной транзакци пользоваться только одним контекстом, верно?


Prodigy [24 hours ago]
наверное это вопрос риторический)


Stanislav [24 hours ago]
Я ни чего не проверял, я логически размышляю основываясь на своих знаниях (я могу быть не прав!). А вот тебе как раз надо проверить. Ушел, на долго. (edited)


stea1th [Aug 25th at 4:53 PM]
Товарищи, нужна ваша помощь: Есть файл xls который набит данными, ссылку на него передается в web-форме после чего программа заносит содержимое в  БД... как сделать так,чтоб пока работала программа пользователь видел анимированное "Please wait"? и возможно ли это?


6 replies
Stanislav [1 day ago]
Ajax синхроный


stea1th [1 day ago]
а не сложно было бы как то более развернуто рассказать? хотя бы в двух словах?


Stanislav [1 day ago]
1 ссылка в поиске https://itchief.ru/lessons/javascript/ajax-synchronous-request
itchief.ru
JavaScript - Синхронный AJAX запрос (XMLHttpRequest) | ИТ Шеф
Урок, в котором на простых примерах разберем, как работать с технологией AJAX, а именно познакомимся с тем как с помощью объекта XMLHttpRequest (сокращённо XHR) создавать синхронные HTTP-запросы к серверу и получать от него ответы.


Stanislav [1 day ago]
Хотя, асинхроный + крутить please wait пока callback-а не будет. (edited)


stea1th [1 day ago]
ну и как это сделать? я что то уже который день бьюсь


stea1th [1 day ago]
если ну очень не сложно тебе


stea1th [4:45 PM]
кто нибудь может мне помочь с ajax ?
передаю при помощи ajax ссылку в текстовом виде из формы, ссылка доходит, но я каждый раз получаю Failed to load resource: the server responded with a status of 500 ()


stea1th [Yesterday at 4:45 PM]
в чем может быть проблема?


3 replies
Ma3stro [7 hours ago]
на кофейной гуще погадать?)


stea1th [7 hours ago]
Я нашёл в чем, спасибо :grinning:


stea1th [7 hours ago]
А ты в js шаришь?


Stanislav [Aug 29th at 6:29 PM]
А почему в проекте ставится акцент на Spring 5, какие конкретно возможности Spring 5 мы используем в проекте? Вопрос возник от того, а стоит ли в резюме писать версию, ведь будут спрашивать, а я не понимаю какие нововведения мы от туда используем :slightly_smiling_face: Java 9, реактивность, Servlet 4.0, Tomcat 9.0, параллельное выполнение тестов? (edited)


1 reply
Grigory Kislin [1 day ago]
спасибо, хороший вопрос. Надеюсь скоро сделаю видео миграции на Spring 5.
пока только ссылки: http://javaops.ru/view/resources/spring5 (edited)


Stanislav [6:10 PM]
https://techrocks.ru/2018/08/29/just-in-time-learnning/
Techrocks
Знания вовремя: учите нужное тогда, когда оно нужно
Вместо того чтобы пытаться усвоить 100% попавшейся вам информации просто на всякий случай, почему бы не учить все по мере необходимости?
Aug 29th
https://techrocks.ru/wp-content/uploads/2018/08/library-1700581_1280-435x290.jpg