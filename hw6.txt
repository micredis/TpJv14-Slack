Grigory Kislin [12:50 AM]
joined #hw6.

Grigory Kislin [12:54 AM]
Добро пожаловать: https://github.com/JavaWebinar/topjava/blob/doc/doc/lesson06.md
Начинаем изучать Spring-MVC и слой Web. 
Домашнее задание относительно большие, следующее занятие будет 16.08 по расписанию: https://github.com/JavaWebinar/topjava/
Подтягиваем "хвосты" +  если справились раньше - делаем выпускной проект (edited)

Victor [12:56 AM]
joined #hw6 along with 15 others.


Gagarina6794 [Aug 2nd at 6:38 AM]
Всем привет)  Для IDEA в spring-db.xml не забудьте выставить Spring Profiles: например datajpa, postgres - Никак не пойму зачем нам помнить выставлять в xml профиля, разве только для визуально удобства, если не один не выбирать, автоматом все светятся, если только выборочно, и запускать тесты, то тесты все-равно задействуют все профиля которые им прямо прописаны, потому и используем резолвер для postgres и hqldb


3 replies
Yevhen Maksymovych [1 day ago]
Для визуального удобства, и для интеграции с идеей, чтобы по клику прогуляться в инжектируемый класс из текущего профиля



Yevhen Maksymovych [1 day ago]
Ну и чтобы идея не ругалась на несколько реализаций одного типа бина


e.pekhterev [1 day ago]
у меня ничего не ругалось, на переключение забил, но помнил, что оно есть. жаль, что эту штуку нельзя автоматизировать. (edited)


Aleksey Vra [6:46 AM]
joined #hw6 along with 2 others.


Kirilo [Aug 2nd at 7:45 AM]
Смотрел видео по разбору Optional предыдущего урока, где мы используем метод по умолчанию в интерфейсе и словил себя на мысли, что после 8-ой Java по сути сняты фундаментальные ограничения языка по множественному наследованию, единственное, что делать это придется через интерфейсы.


15 replies
tema.emelyan [1 day ago]
не скомпилируется



Kirilo [1 day ago]
Это если default методы будут иметь одинаковое название.
https://docs.oracle.com/javase/tutorial/java/IandI/multipleinheritance.html (edited)


shtramak [1 day ago]
В этой ссылке все подробно расписано https://www.linkedin.com/pulse/multiple-inheritance-interfaces-java-9-classic-diamond-katkuri (edited)


tema.emelyan [1 day ago]
@Kirilo разные названия можно само собой начиная с первой джавы


Victor [1 day ago]
это не класс, это контракт. Интерфейс не может хранить состояния. Дефолт методы тут ничего не изменили.
Если нужно сделать множественное наследование, можно сделать внутренний класс, и унаследовать его от другого класса, нежели основной.



Kirilo [1 day ago]
@tema.emelyan дефолтных методов в интерфейсах? Ну-ну.


tema.emelyan [1 day ago]
@Kirilo ок, давай разбираться. что ты понимаешь под множественным наследованием?

Kirilo [1 day ago]
Да то, что мы наследуем методы с раных класов. Конечно, поля в интерфейс не запишешь.


tema.emelyan [1 day ago]
ну ты говоришь вот с 8ой джавы теперь всё что угодно можно. вот это конкретно что значит? как здесь множественное наслед-ие появилось?

Kirilo [1 day ago]
Именно, потому что раньше можно было только один клас наследовать и множество интерфейсов, у которых никаких методов не было


tema.emelyan [1 day ago]
это не множественное наследование, это то же самое, что в первой джаве унаследоваться от нескольких интерфейсов и все эти интерфейсы имплементировать


Kirilo [1 day ago]
Эти методы можно использовать как есть. А то просто контракт для обязательной реализации. (edited)


tema.emelyan [1 day ago]
реализация по умолчанию появилась - да. в этой реализации по умолчанию ничего не известно об объекте то есть она тоже основана на контракте. в плане множественного наследования ничего не поменялось. множественное наследование интерфейсов было раньше.


Kirilo [1 day ago]
Интерфейсов было, но теперь появилась возможность наследовать фенкционал! Что было чуть ли не главным отличием интерфейса от класса! (edited)


Grigory Kislin [1 day ago]
отличие интерфейсов от абстрактных классов- нельзя делать члены класса (не статические) и конструкторы... в остальном- да:) (edited)


Stanislav [Aug 2nd at 9:45 AM]
Так и не понял для чего аннотация @SuppressWarnings  (убирает предупреждения компилятора), стоит в CrudMealRepository над getBetween выключает предупреждения JpaQlInspection. Без этой аннотации не заметил ни каких предупреждений (не в idea, ни при рантайме).


15 replies
shtramak [1 day ago]
подчеркивает у многих красным. Может что-то обновилось недавно, но я сам видел этот глюк


Stanislav [1 day ago]
Странно, убирал эту аннотацию и полностью почистил maven - idea кэш, ни чего не подчеркивается


shtramak [1 day ago]
вполне возмножно, что исправили ¯\_(ツ)_/¯


Yevhen Maksymovych [1 day ago]
у меня в последнем билде не исправлено

Yevhen Maksymovych [1 day ago]
без подавления


Yevhen Maksymovych [1 day ago]
Pasted image at 2018-08-02, 10:31 AM



Yevhen Maksymovych [1 day ago]
с подавлением


Yevhen Maksymovych [1 day ago]
Pasted image at 2018-08-02, 10:31 AM



Yevhen Maksymovych [1 day ago]
если кто-то подскажет, как это поправить без подавления, буду признателен :slightly_smiling_face:


Join_Selectovich [1 day ago]
перфекционист :wink: (edited)

Gagarina6794 [1 day ago]
Аннотация маскирует красные подчеркивания, пиши в квери хоть стихи, оно ничего не скажет, как на меня то не совсем полезная вещь, будешь потом долгого искать где ошибка, если поставить такое и начать писать запрос, эту фичу надо осторожно использовать, только на готовом и перепроверенном запросе


Yevhen Maksymovych [1 day ago]
ну я о том и говорю, если кто-то подскажет, как заставить понимать идею обновленный синтаксис jpql (с поддержкой операторов between, like и тп), то буду признателен :slightly_smiling_face:


Yevhen Maksymovych [1 day ago]
а то за что я плачу 130 баксов в год? чтобы меня подчёркивалии? ))



Gagarina6794 [1 day ago]
Вот эта аннотация я считаю вредная, нельзя так с потребителями)


Grigory Kislin [1 day ago]
похоже что уши старой idea. уберу, спасибо (edited)


Jury Mironov [Aug 2nd at 10:23 AM]
После двух патчей по дз HW5 - Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'ru.javawebinar.topjava.repository.MealRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {} (edited)


3 replies
Jury Mironov [1 day ago]
Это при деплое через томкат и выборе списка meal юзеров, так и должно быть?


Михаил [6 hours ago]
Maven Re-Import ты делаешь по необходимости? (edited)


Михаил [6 hours ago]
Pasted image at 2018-08-03, 7:39 PM


Jury Mironov [Aug 2nd at 11:12 AM]
У меня опять конфликты при применении патчей . Я уже не знаю что делать с этим. Постоянно проблемы (edited)


17 replies
e.pekhterev [1 day ago]
я пока только первый накатил, пока норм


Stanislav [1 day ago]
@Jury Mironov ты после каждого патча пробуешь выполнить тесты-сервлет?


Jury Mironov [1 day ago]
После дз. Но конфликты же не связаны с тестами


Stanislav [1 day ago]
хз, ни разу не было конфликтов


Jury Mironov [1 day ago]
у меня на кажом уроке конфликты


e.pekhterev [1 day ago]
@Jury Mironov тебе похоже надо с *stea1th* подружиться))



e.pekhterev [1 day ago]
у меня было только раз, но и то из-за того, что не прочитал инструкции в задании

Grigory Kislin [1 day ago]
@Jury Mironov учиться работать с git. на работе будет уже сложнее. еще почитай внимательно https://github.com/JavaOPs/topjava/wiki/git


Merkulov [1 day ago]
может ты работаешь на нескольких машинах и иногда делаешь update не той ветки)


Merkulov [1 day ago]
ну или забываешь

Merkulov [1 day ago]
и соответственно при накатки патчей будет конфликт

Ignat [1 day ago]
Потрать пару часов на https://learngitbranching.js.org/ Там уроки с визуализацией
learngitbranching.js.org
Learn Git Branching
An interactive Git visualization tool to educate and challenge! (71 kB)
 


stea1th [1 day ago]
а чо сразу я? :slightly_smiling_face:


Jury Mironov [8 hours ago]
Да,  работаю на нескольких машинах,  но я всегда в одной ветке.  До дз я дойти не успеваю. Пока поправлю все ошибки,  пока разберусь,  что происходит вообще...Причем бывает,  что на одном устройстве норм все, а на другом хрень


Jury Mironov [8 hours ago]
да,  кстати,  а почему Вы?)

e.pekhterev [8 hours ago]
потому как насколько помню только у вас двоих тут проблемы с накаткой патчей

Joanna [43 minutes ago]
в одной ветке master....о_0? попробуй присмотреться внимательно, что ты коммитишь и пушишь. Если предыдущий патч неправильно наложен или не наложен(можно и завтыкать), то потом не все гладко. Следи, что тут подтягивается VCS -> Commit -> ChangeList


alexey [Aug 2nd at 12:12 PM]
Народ может кто нибудь объяснить зачем мы подключаем Хибернэйтовский кэш если у на уже есть один?!


5 replies
Yevhen Maksymovych [1 day ago]
это чуть разные кэши. спринговый кэш - это кэш объектов нашей программы, он по сути не имеет никакой связи с БД, там могут лежать какие-нибудь дто из бизнеса. хибернейтовский кэш - это уже кэш персистированных объектов, с которым работает репозиторий, т.е. более низкого уровня



Yevhen Maksymovych [1 day ago]
т.е. кэш хибернейта по сути сидит где-то в районе энтитименеджера первой стеной между твоей программой и бд. а кэш спринга можно в принципе повесить куда угодно, но только там, где уже существуют объекты, т.е. на дао, и выше.


alexey [1 day ago]
т.е. спринговому кэшу нужен объект и ему пофиг откуда он?


Yevhen Maksymovych [1 day ago]
да, ты можешь просто генерить объекты, без хибернейта вообще, и складывать их в спринговый кэш


alexey [1 day ago]
понял. спасибо:+1:


alexey [1:39 PM]
Народ кто нибудь сталкивался с таким варнингом? Что за favicon.ico и как его убрать?
favicon? 
No mapping found for HTTP request with URI [/topjava/favicon.ico] in DispatcherServlet with name 'mvc-dispatcher'

Yevhen Maksymovych [1:40 PM]
положить его в статические ресурсы

alexey [1:42 PM]
откуда я его должен взять?

Yevhen Maksymovych [1:42 PM]
да любой скачай
можно даже с бэтменом


Yevhen Maksymovych [Yesterday at 1:43 PM]
это просто иконка для сайта, которая будет отображаться в закладках и заголовке браузера


2 replies
alexey [12 hours ago]
а почему он ее стал требовать? мы это где то указывали или это идет дефолтом при подключении spring mvc?


Ignat [12 hours ago]
её браузер запрашивает, а в логах тебе сказали, что кто-то хочет `/topjava/favicon.ico`, а диспетчер о таком первый раз слышит (edited)


Victor [Yesterday at 3:27 PM]
темы такие как `8. Конфигурирование Tomcat через maven plugin. Jndi-lookup.` вызывают у меня нервное напряжение. Видео для меня звучит так: послушал много разных слов, 15% уловил, остальное - космос.
Мой вывод такой: скопируй настройки, такие как сделал Григорий, чтобы работать, и иди дальше.


2 replies
Join_Selectovich [7 hours ago]
Знакомые чувства. Потом когда пару дней посидишь,  раз 10 видео это переcмотришь,  потом пытаешся вникнуть в суть материала кучи ссылок, начинаешь улавливать 16.5%, потом опять та же итерация. Дальше, когда ДЗ сделаешь кое-как, еще немного процентов добавляется.. (edited)


Grigory Kislin [3 hours ago]
попробуй вопросы сформулировать (edited)


sky [5:29 PM]
Итак, задание 1.1 Починить тесты InMemoryAdminRestControllerSpringTest/InMemoryAdminRestControllerTest (в новой версии Spring классы spring-mvc требуют WebApplicationContext, поэтому поправьте mock.xml)

Тесты сломались, так как мы кое что убрали из spring-app.xml. 
При чем тут тогда вот это - (в новой версии Spring классы spring-mvc требуют WebApplicationContext)?


Kirilo [Yesterday at 6:36 PM]
Интересно, каким образом hibernate валидатор создает interpolatedMessage, выводя сообщение на языке ОС?


2 replies
vch [7 hours ago]
Очевидно, что у него где-то хранятся языковые файлы с сообщениями.


Grigory Kislin [3 hours ago]
у него внутри есть файлы пропертей. можешь поискать. где-то в занятии будет вопрос


zippospb [12:21 AM]
Скажите, у всех при загрузке страницы /meals нормально подхватывается style.css? у меня его на /users и /index видит великолепно, а вот в /meals - никак. И root в RootController тоже не отрабатывал пока в GetMapping не поставил "/index"
